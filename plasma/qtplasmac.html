<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.10" />
<title>QtPlasmaC</title>
<link rel="stylesheet" href="..//asciidoc.css" type="text/css" />


<link rel="stylesheet" href="..//linuxcnc.css" type="text/css" />
<script type="text/javascript" src="..//asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install(5);
/*]]>*/
</script>
</head>
<body class="book">
<div id="header">
<h1>QtPlasmaC</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="cha:qtplasmac">1. Preamble</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>Except where noted, this guide assumes the user is using the latest version of QtPlasmaC. Version history can be seen by visiting this <a href="http://htmlpreview.github.io/?https://github.com/LinuxCNC/linuxcnc/blob/master/share/qtvcp/screens/qtplasmac/versions.html">link</a> which will show the latest available version. The installed QtPlasmaC version is displayed in the title bar. See <a href="qtplasmac.html#qt_update">Update QtPlasmaC</a> for information on updating QtPlasmaC.</strong></p></div>
</div>
</div>
<div class="sect1">
<h2 id="_license">2. License</h2>
<div class="sectionbody">
<div class="paragraph"><p>QtPlasmaC and all of its related software are released under GPLv2.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">3. Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>QtPlasmaC is a GUI for plasma cutting which utilises the <a href="http://linuxcnc.org/docs/devel/html/man/man9/plasmac.9.html">plasmac component</a> for controlling a plasma table from LinuxCNC v2.9 or later using the Debian Buster or similar distribution.</p></div>
<div class="paragraph"><p>The QtPlasmaC GUI supports up to five axes and uses the QtVCP infrastructure provided with LinuxCNC.</p></div>
<div class="paragraph"><p>The standard theme is based on a design by user "pinder" on the LinuxCNC Forum and the colors are able to be changed by the user.</p></div>
<div class="paragraph"><p>The QtPlasmaC GUI will run on any hardware that is supported by LinuxCNC provided there are enough hardware I/O pins to fulfill the requirements of a plasma configuration.</p></div>
<div class="paragraph"><p>There are three available formats:</p></div>
<div class="ulist" id="qt_formats"><ul>
<li>
<p>
16:9 with a minimum resolution of 1366 x 768
</p>
</li>
<li>
<p>
9:16 with a minimum resolution of 768 x 1366
</p>
</li>
<li>
<p>
4:3 with a minimum resolution of 1024 x 768
</p>
</li>
</ul></div>
<div class="paragraph"><p>Screenshot examples of QtPlasmaC are below:</p></div>
<div class="paragraph"><p><strong>16:9</strong></p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_16x9.png" alt="images/qtplasmac_16x9.png" width="800" />
</div>
</div>
<div class="paragraph"><p><strong>9:16</strong></p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_9x16.png" alt="images/qtplasmac_9x16.png" width="450" />
</div>
</div>
<div class="paragraph"><p><strong>4:3</strong></p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_4x3.png" alt="images/qtplasmac_4x3.png" width="600" />
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_linuxcnc">4. Installing LinuxCNC</h2>
<div class="sectionbody">
<div class="paragraph"><p>The preferred method for installing LinuxCNC is via an ISO image as described below.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">It is possible to install and run LinuxCNC on a variety of Linux distributions however that is beyond the scope of this User Guide. If the user wishes to install a Linux distribution other than those recommended, they will first need to install their preferred Linux distribution and then install LinuxCNC v2.9 or later along with any required dependencies.</td>
</tr></table>
</div>
<div class="sect2">
<h3 id="_if_the_user_does_not_have_linux_installed">4.1. If The User Does Not Have Linux Installed</h3>
<div class="paragraph"><p>Installation instructions are available at: <a href="http://linuxcnc.org/docs/devel/html/getting-started/getting-linuxcnc.html">http://linuxcnc.org/docs/devel/html/getting-started/getting-linuxcnc.html</a></p></div>
<div class="paragraph"><p>Following these instructions will yield a machine with the current stable branch (v2.8) of LinuxCNC on Debian Buster.</p></div>
</div>
<div class="sect2">
<h3 id="_package_installation_buildbot_if_the_user_has_linux_with_linuxcnc_v2_8">4.2. Package Installation (Buildbot) If The User Has Linux with LinuxCNC v2.8</h3>
<div class="paragraph"><p>A package installation (Buildbot) uses prebuilt packages from the LinuxCNC Buildbot, instructions for upgrading from 2.8 to 2.9 are available at: <a href="http://buildbot.linuxcnc.org">http://buildbot.linuxcnc.org</a></p></div>
<div class="paragraph"><p>Following these instructions by using the below stanzas will upgrade the machine to the last LinuxCNC Buildbot build master branch (v2.9) of LinuxCNC. This may not always be the latest version of master branch (v2.9) as from time to time the LinuxCNC Buildbot may stop due to errors.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>deb     http://buildbot.linuxcnc.org/ buster master-rtpreempt
deb-src http://buildbot.linuxcnc.org/ buster master-rtpreempt</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_run_in_place_installation_if_the_user_has_linux_with_linuxcnc_v2_8">4.3. Run In Place Installation If The User Has Linux with LinuxCNC v2.8</h3>
<div class="paragraph"><p>A run in place installation runs LinuxCNC from a locally compiled version usually located at ~/linuxcnc-dev, instructions for building a run in place installation are available at: <a href="http://linuxcnc.org/docs/master/html/code/building-linuxcnc.html">http://linuxcnc.org/docs/master/html/code/building-linuxcnc.html</a></p></div>
<div class="paragraph"><p>Following these instructions will install the latest master branch (v2.9) of LinuxCNC.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_a_qtplasmac_configuration">5. Creating A QtPlasmaC Configuration</h2>
<div class="sectionbody">
<div class="paragraph"><p>Prior to creating a QtPlasmaC configuration, it is important that the user has a firm understanding of the operating modes available, as well as the I/O&#8217;s that are required for successful plasma operation.</p></div>
<div class="sect2">
<h3 id="qt_mode">5.1. Modes</h3>
<div class="paragraph"><p>QtPlasmaC requires the selection of one of following three operating modes:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Mode</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Uses an external arc voltage input to calculate both Arc Voltage (for Torch Height Control) and Arc OK.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Uses an external arc voltage input to calculate Arc Voltage (for Torch Height Control).<br />
   Uses an external Arc OK input for Arc OK.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table">Uses an external Arc OK input for Arc OK.<br />
   Use external up/down signals for Torch Height Control.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">If the plasma power source has an Arc OK (Transfer) output then it is recommended to use that for Arc OK rather than the soft (calculated) Arc OK provided by mode 0. It may also be possible to use a <a href="qtplasmac.html#qt_reed-arc-ok">reed relay</a> as an alternative method to establish an Arc OK signal when the power source does not provide one.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">For fine tuning of Mode 0 Ark OK see <a href="qtplasmac.html#mode0-arcok">Tuning Mode 0 Arc OK</a> in the Advanced Topics section of the manual.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_available_i_os">5.2. Available I/Os</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">This section only touches on the hardware I/O&#8217;s required for QtPlasmaC. Base machine requirements such as limit switches, home switches, etc. are in addition to these.</td>
</tr></table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="10%" />
<col width="70%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Modes</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Arc Voltage</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">Analog input; <strong>optional.</strong><br />
                  HAL pin name plasmac.arc-voltage-in<br />
                  Connected to the velocity output of an encoder equipped breakout board.
                  This signal is used to read the arc voltage to determine the necessary corrections to maintain the torch distance from the work piece during cutting.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Arc OK</p></td>
<td align="left" valign="top"><p class="table">1, 2</p></td>
<td align="left" valign="top"><p class="table">Digital input; <strong>optional.</strong><br />
            HAL pin name plasmac.arc-ok-in<br />
             Connected from the Arc OK output of the plasma power source to an input on the breakout board.
             This signal is used to determine if the cutting arc has been established and it is ok for the machine to move (sometimes called arc transfer).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Float Switch</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">Digital input; <strong>optional, see info below table:</strong><br />
                      HAL pin name plasmac.float-switch<br />
                      Connected from a breakout board input to a switch on the floating head.
                      This signal is used to mechanically probe the work piece with the torch and set Z zero at the top of the work piece.<br />
                      If used and no ohmic probe is configured, this is the probing method.<br />
                      If used and an ohmic probe is configured, this is the fallback probing method.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Ohmic Probe</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">Digital input; <strong>optional, see info below table:</strong><br />
                     HAL pin name plasmac.ohmic-probe<br />
                     Connected from to the ohmic probe&#8217;s output to a breakout board input.
                     This signal is used to probe electronically by completing a circuit using the work piece and the torch consumables and set Z zero at the top of the work piece.<br />
                     If used, this is the primary probing method.
                     If an ohmic probe fails to locate the work piece, and there is no float switch is present, probing will continue until the torch breaks away or the minimum Z limit is reached.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Ohmic Probe Enable</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">Digital output; <strong>optional, see info below table:</strong><br />
                            HAL pin name plasmac.ohmic-enable<br />
                            Connected from a breakout board output to an input to control the ohmic probe&#8217;s power.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Breakaway Switch</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">Digital input; <strong>optional, see info below table:</strong><br />
                          HAL pin name plasmac.breakaway<br />
                          Connected from a breakout board input to a torch breakaway detection switch.<br />
                          This signal senses if the torch has broken away from its cradle.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Torch On</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">Digital output; <strong>required.</strong><br />
                  HAL pin name plasmac.torch-on<br />
                  Connected from a breakout board output to the torch-on input of the plasma power supply.
                  This signal is used to control the plasma power supply and start the arc.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Move Up</p></td>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table">Digital input; <strong>optional.</strong><br />
           HAL pin name plasmac.move-up<br />
           Connected from the up output of the external THC control to a break out board input.
                   This signal is used to control the Z axis in an upward motion and make necessary corrections to maintain the torch distance from the work piece during cutting.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Move Down</p></td>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table">Digital input; <strong>optional.</strong><br />
             HAL pin name plasmac.move-down<br />
             Connected from the down output of the external THC control to a break out board input.
             This signal is used to control the Z axis in a downward motion and make necessary corrections to maintain the torch distance from the work piece during cutting.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Scribe Arming</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">Digital output; <strong>optional.</strong><br />
                       HAL pin name plasmac.scribe-arm<br />
                       Connected from a breakout board output to the scribe arming circuit.
                                           This signal is used to place the scribe into position on the work piece .</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Scribe On</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">Digital output; <strong>optional.</strong><br />
                   HAL pin name plasmac.scribe-on<br />
                   Connected from a breakout board output to the scribe-on circuit.
                   This signal is used to turn the scribing device on.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Laser On</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">Digital output; <strong>optional.</strong><br />
                  HAL pin name qtplasmac.laser_on<br />
                  This signal is used to turn the alignment laser on.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Only one of either <strong>Float Switch</strong> or <strong>Ohmic Probe</strong> is required. If both are used then <strong>Float Switch</strong> will be a fallback if <strong>Ohmic Probe</strong> is not sensed.</p></div>
<div class="paragraph"><p>If <strong>Ohmic Probe</strong> is used then <strong>Ohmic Probe Enable</strong> is required to be checked on the QtPlasmaC GUI.</p></div>
<div class="paragraph"><p><strong>Breakaway Switch</strong> is not mandatory because the <strong>Float Switch</strong> is treated the same as a breakaway when not probing. If they are two separate switches, and there are not enough inputs on the breakout board, they could be combined and connected as a <strong>Float Switch</strong>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">The minimum I/O requirement for a QtPlasmaC configuration to function are:  <strong>Arc Voltage</strong> input OR <strong>Arc OK</strong> input, <strong>Float Switch</strong> input, and <strong>Torch On</strong> output. To reiterate, in this case QtPlasmaC will treat the float switch as a breakaway switch when it is not probing.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt_z-settings">5.3. Recommended Settings:</h3>
<div class="paragraph"><p>Refer to the <a href="qtplasmac.html#qt_initial-setup">Heights Diagram</a> diagram for a visual representation of the terms below.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>[AXIS_Z] MIN_LIMIT</strong> should be just below top of the slats with allowances for float_switch_travel and over travel tolerance. For example, if the user&#8217;s float switch takes 4mm (0.157") to activate then set the Z minimum to 5mm (0.197") plus an allowance for overrun (either calculated using the equation below or allow 5mm (0.2") below the lowest slat.
</p>
</li>
<li>
<p>
<strong>[AXIS_Z] MAX_LIMIT</strong> should be the highest the user wants the Z axis to travel (it must not be lower than Z HOME_OFFSET).
</p>
</li>
<li>
<p>
<strong>[AXIS_Z] HOME</strong> should be set to be approximately 5mm-10mm (0.2"-0.4") below the maximum limit.
</p>
</li>
<li>
<p>
<strong>Floating Head</strong> - it is recommended that a floating head be used and that it has enough movement to allow for overrun during probing. Overrun can be calculated using the following formula:
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>o = 0.5 × a × (v ÷ a)^2</code></pre>
</div></div>
<div class="paragraph"><p>where: o = overrun, a = acceleration in units/sec2 and v = velocity in units/sec.</p></div>
<div class="paragraph"><p>Metric example:  given a Z axis MAX_ACCELERATION of 600mm/s<sup>2</sup> and MAX_VELOCITY of 60mm/s, the overrun would be 3mm.</p></div>
<div class="paragraph"><p>Imperial example: given a Z axis MAX_ACCELERATION of 24in/s<sup>2</sup> and MAX_VELOCITY of 2.4in/s, the overrun would be 0.12in.</p></div>
<div class="paragraph"><p>On machines that will utilize an ohmic probe as the primary method of probing, it is highly recommended to install a switch on the floating head as a backup means of stopping Z motion in the event of ohmic probe failure due to dirty surfaces.</p></div>
</div>
<div class="sect2">
<h3 id="configuring">5.4. Configuring</h3>
<div class="paragraph"><p>LinuxCNC provides two configuration wizards which can be used to build a machine configuration. The choice of these wizards is dependent on the hardware used to control the machine.</p></div>
<div class="paragraph"><p>If the user wishes to use a Run In Place installation then prior to running one of the following commands they will need to run the following command from a terminal:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>source ~/linuxcnc-dev/scripts/rip-environment</code></pre>
</div></div>
<div class="paragraph"><p>If using a Package installation then no additional action is required.</p></div>
<div class="paragraph"><p>If using a parallel port, use the <a href="../config/stepconf.html#cha:stepconf-wizard">StepConf wizard</a> (enter the following command into a terminal window):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>stepconf</code></pre>
</div></div>
<div class="paragraph"><p>If using a Mesa Electronics board, use the <a href="../config/pncconf.html#cha:pncconf-wizard">PnCConf wizard</a> (enter the following command into a terminal window):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>pncconf</code></pre>
</div></div>
<div class="paragraph"><p>If using a Pico Systems board:<br />
<a href="https://forum.linuxcnc.org/27-driver-boards/14977-pico-systems-faq">This LinuxCNC forum thread</a> may be helpful.</p></div>
<div class="paragraph"><p>The machine specific settings are not described here, refer to the documentation for the particular configuration wizard that is being used.</p></div>
<div class="paragraph"><p>There are Linuxcnc forum sections available for these wizards:</p></div>
<div class="paragraph"><p><a href="https://forum.linuxcnc.org/16-stepconf-wizard()">StepConf Wizard</a></p></div>
<div class="paragraph"><p><a href="https://forum.linuxcnc.org/39-pncconf">PnCConf Wizard</a></p></div>
<div class="paragraph"><p>Fill in the required entries to suit the machine wiring/breakout board configuration.</p></div>
<div class="paragraph"><p>QtPlasmaC adds two pages to the LinuxCNC configuration wizards for QtPlasmaC specific parameters, the two pages are QtPlasmaC options and <a href="qtplasmac.html#qt_custom-user-buttons">User Buttons</a>. Complete each of the wizards QtPlasmaC page to suit the machine that is being configured and the user button requirements.</p></div>
<div class="paragraph"><p>Note that PnCConf options allow user selection of Feed Override, Linear Velocity, and Jog Increments whereas in StepConf these are automatically calculated and set.</p></div>
<div class="paragraph"><p><strong>PnCConf QtPlasmaC Options:</strong></p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_pncconf_screen.png" alt="images/qtplasmac_pncconf_screen.png" width="600" />
</div>
</div>
<div class="paragraph"><p><strong>StepConf QtPlasmaC Options:</strong></p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_stepconf_options.png" alt="images/qtplasmac_stepconf_options.png" width="600" />
</div>
</div>
<div class="paragraph"><p><strong>QtPlasmaC User Buttons:</strong></p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_pncconf_buttons.png" alt="images/qtplasmac_pncconf_buttons.png" width="600" />
</div>
</div>
<div class="paragraph"><p><strong>QtPlasmaC THCAD:</strong></p></div>
<div class="paragraph"><p>The THCAD screen will only appear if a Plasma Encoder is selected in the card screen.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_pncconf_thcad.png" alt="images/qtplasmac_pncconf_thcad.png" width="600" />
</div>
</div>
<div class="paragraph"><p>More information on <a href="qtplasmac.html#qt_mesa-thcad">Mesa THCAD</a>.</p></div>
<div class="paragraph"><p>When the configuration is complete, the wizard will save a copy of the configuration that may be loaded and edited at a later time, a working QtPlasmaC configuration will be created in the following directory: ~/linuxcnc/configs/&lt;machine_name&gt;</p></div>
<div class="paragraph"><p>The newly created QtPlasmaC configuration can be run by entering the following command into a terminal window (<strong>change "&lt;machine_name&gt;" to the machine name entered into the configuration wizard</strong>):</p></div>
<div class="paragraph"><p>For a package installation (Buildbot):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>linuxcnc ~/linuxcnc/configs/&lt;machine_name&gt;/&lt;machine_name&gt;.ini</code></pre>
</div></div>
<div class="paragraph"><p>For a run in place installation:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>~/linuxcnc-dev/scripts/linuxcnc ~/linuxcnc/configs/&lt;machine_name&gt;/&lt;machine_name&gt;.ini</code></pre>
</div></div>
<div class="paragraph"><p>After running the above command LinuxCNC should be running with the QtPlasmaC GUI visible.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">BEFORE PROCEEDING, THE USER SHOULD BE ABLE TO HOME THE MACHINE, ZERO EACH AXIS, JOG ALL AXES TO SOFT LIMITS WITHOUT CRASHING, AND RUN TEST G-CODE PROGRAMS WITHOUT ANY ERRORS.</td>
</tr></table>
</div>
<div class="paragraph"><p>ONLY WHEN this criteria is met should the user proceed with the QtPlasmaC initial setup.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">It is possible to create a sim configuration using StepConf but it is not possible to have tandem joints in the sim configuration.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt-dependency">5.5. Qt Dependency Errors</h3>
<div class="paragraph"><p>If any Qt dependency errors are encountered while attempting to run the QtPlasmaC configuration, the user may need to run the QtVCP installation script to resolve these issues.</p></div>
<div class="paragraph"><p>For a package installation (Buildbot) enter the following command in a terminal window:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>/usr/lib/python3/dist-packages/qtvcp/designer/install_script</code></pre>
</div></div>
<div class="paragraph"><p>For a run in place installation enter the following command in a terminal window:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>~/linuxcnc-dev/lib/python/qtvcp/designer/install_script</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="qt_initial-setup">5.6. Initial Setup</h3>
<div class="paragraph"><p>The following heights diagram will help the user visualize the different heights involved in plasma cutting and how they are measured:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_heights_diagram.png" alt="images/qtplasmac_heights_diagram.png" width="800" />
</div>
</div>
<div class="paragraph"><p>Click on the <a href="qtplasmac.html#qt_parameters-tab">Parameters Tab</a> to view the <strong>CONFIGURATION</strong> section which shows the user settable parameters. It is necessary to ensure every one of these settings is tailored to the machine.</p></div>
<div class="paragraph"><p>To set the Z axis DRO relative to the Z axis MINIMUM_LIMIT, the user should perform the following steps. It is important to understand that in QtPlasmaC, touching off the Z axis DRO has no effect on the Z axis position while running a G-Code program. These steps simply allow the user to more easily set the probe height as after performing the steps, the displayed Z axis DRO value will be relative to Z axis MINIMUM_LIMIT.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
The user should be familiar with the recommended <a href="qtplasmac.html#qt_z-settings">Z Axis Settings</a>.
</p>
</li>
<li>
<p>
Home the Z axis.
</p>
</li>
<li>
<p>
Ensure there is nothing below the torch then jog the Z axis down until it stops at the Z axis MINIMUM_LIMIT then click the 0 next to the Z axis DRO to <strong>Touch Off</strong> with the Z axis selected to set the Z axis at zero offset. This step only serves to allow the user to more easily visualize and adjust <strong>Probe Height</strong> this value is measured from the Z axis MINIMUM_LIMIT up.
</p>
</li>
<li>
<p>
Home the Z axis again.
</p>
</li>
</ol></div>
<div class="paragraph" id="qt_probe-test"><p>If the machine is equipped with a float switch then the user will need to set the offset in the <strong>CONFIGURATION</strong> section of the <strong>PARAMETERS</strong> tab. This will be done by running a "Probe Test" cycle.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Check that the Probe Speed and the Probe Height in the <strong>CONFIGURATION</strong> section of the <strong>PARAMETERS</strong> tab are correct. QtPlasmaC can probe at the full Z axis velocity so long as the machine has enough movement in the float switch to absorb any overrun. If the machine is suitable, the user could set the Probe Height to a value near the Z axis minimum and do all probing at full speed.
</p>
</li>
<li>
<p>
If the machine is not already homed and in the home position, home the machine.
</p>
</li>
<li>
<p>
Place some material on the slats under the torch.
</p>
</li>
<li>
<p>
Press the <strong>PROBE TEST</strong> button.
</p>
</li>
<li>
<p>
The Z axis will probe down, find the material then move up to the specified <strong>Pierce Height</strong> as set by the currently selected material. The torch will wait in this position for the time set in the &lt;machine_name&gt;.ini file. The default probe test hold time is 10 seconds, this value may be edited in the &lt;machine_name&gt;.ini file. After this the torch will return to the starting height.
</p>
</li>
<li>
<p>
Measure the distance between the material and the tip of the torch while the torch is waiting at <strong>Pierce Height</strong>.
</p>
</li>
<li>
<p>
If the measurement is greater than the <strong>Pierce Height</strong> of the currently selected material, then reduce the "Float Travel" in the <strong>CONFIGURATION</strong> section of the <strong>PARAMETERS</strong> tab by the difference between the measured value and the specified value. If the measurement is less than <strong>Pierce Height</strong> of the currently selected material, then increase the "Float Travel" in the <strong>CONFIGURATION</strong> section of the <strong>PARAMETERS</strong> tab by the difference between the specified value and the measured value.
</p>
</li>
<li>
<p>
After the adjustments to the "Float Travel" have been made, repeat the process from #4 above until the measured distance between the material and the torch tip matches the <strong>Pierce Height</strong> of the currently selected material.
</p>
</li>
<li>
<p>
If the table has a laser or camera for sheet alignment, a scribe, or uses offset probing then the required offsets need to be applied by following the procedure described in <a href="qtplasmac.html#peripheral-offsets">Peripheral Offsets</a>.
</p>
</li>
<li>
<p>
CONGRATULATIONS! The user should now have a working QtPlasmaC Configuration.
</p>
</li>
</ol></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If the amount of time between the torch contacting the material and when the torch moves up and comes to rest at the Pierce Height seems excessive, see <a href="qtplasmac.html#qt_probing">the probing section</a> for a possible solution.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">IF USING A <strong>Mesa Electronics THCAD</strong> THEN THE <strong>Voltage Scale</strong> VALUE WAS OBTAINED MATHEMATICALLY. IF THE USER INTENDS TO USE CUT VOLTAGES FROM A MANUFACTURE&#8217;S CUT CHART THEN IT WOULD BE ADVISABLE TO DO MEASUREMENTS OF ACTUAL VOLTAGES AND FINE TUNE THE <strong>Voltage Scale</strong> AND <strong>Voltage Offset</strong>.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">PLASMA CUTTING VOLTAGES CAN BE LETHAL, IF THE USER IS NOT EXPERIENCED IN DOING THESE MEASUREMENTS GET SOME QUALIFIED HELP.</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="qt_modify-config">6. Migrating to QtPlasmac From PlasmaC (Axis or Gmoccapy)</h2>
<div class="sectionbody">
<div class="paragraph"><p>There are two methods available to get from a working PlasmaC configuration to a new QtPlasmaC configuration. These methods assume the user is on LinuxCNC v2.9 or later, QtVCP is installed, and all dependency requirements are satisfied.</p></div>
<div class="paragraph"><p>If there are Qt dependency errors, the user should run the <a href="qtplasmac.html#qt-dependency">QtVCP install script</a>.</p></div>
<div class="sect2">
<h3 id="_quick_method">6.1. Quick Method</h3>
<div class="paragraph"><p>A quick method to move to QtPlasmaC from PlasmaC (loaded on top of either Axis or Gmoccapy) is to use the plasmac2qt conversion program which will attempt to create a new QtPlasmaC configuration from an existing PlasmaC .ini file. This program will convert the user&#8217;s parameters, settings, and materials from the previous PlasmaC configuration and create a new QtPlasmaC configuration folder in the ~/linuxcnc/configs folder.</p></div>
<div class="paragraph"><p>This methods will keep the original PlasmaC config as a backup with _plasmac and a time stamp appended to the directory name.</p></div>
<div class="paragraph"><p>To run the plasmac2qt conversion program, use the following instructions:</p></div>
<div class="paragraph"><p>For a package installation (Buildbot) enter the following line in a terminal window:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>qtplasmac-plasmac2qt</code></pre>
</div></div>
<div class="paragraph"><p>For a run in place installation enter the following lines in terminal window:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>source ~/linuxcnc-dev/scripts/rip-environment
qtplasmac-plasmac2qt</code></pre>
</div></div>
<div class="paragraph"><p>The following screen will be displayed:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_plasmac2qt.png" alt="images/qtplasmac_plasmac2qt.png" width="500" />
</div>
</div>
<div class="paragraph"><p><strong>Mandatory Settings</strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="50%" />
<col width="30%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Field</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Examples</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">INI FILE IN EXISTING PLASMAC CONFIG</p></td>
<td align="left" valign="top"><p class="table">This is the .ini file of the PlasmaC config that requires migrating.</p></td>
<td align="left" valign="top"><p class="table">&lt;machine_name&gt;.ini</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">MONITOR ASPECT RATIO</p></td>
<td align="left" valign="top"><p class="table">This is the <a href="#qt_formats">aspect ratio format</a> for the GUI.</p></td>
<td align="left" valign="top"><p class="table">16:9</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">ESTOP</p></td>
<td align="left" valign="top"><p class="table">Selects the required Estop type based on the following criteria:<br />
      0 - Estop is an indicator only.<br />
      1 - Estop indicator is hidden.<br />
      2 - Estop is a button.</p></td>
<td align="left" valign="top"><p class="table">ESTOP:1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong>Optional Setting</strong></p></div>
<div class="paragraph"><p>This setting is not required unless the machine has a <a href="qtplasmac.html#qt_laser">laser</a> for sheet alignment.</p></div>
<div class="paragraph"><p>Leave this blank if it is not used/required.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="50%" />
<col width="30%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Field</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Examples</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Laser On Hal Pin</p></td>
<td align="left" valign="top"><p class="table">Power on a laser crosshair for sheet alignment.</p></td>
<td align="left" valign="top"><p class="table"><strong>Parallel Port Example:</strong> parport.0.pin-16-out<br />
                                                                  <strong>Mesa 7i96 Example:</strong> hm2_7i96.0.ssr.00.out-00</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>After filling in the appropriate entries, press <strong>CONVERT</strong>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">This method will not change any existing debounce components to the new dbounce component. If the user wishes to change to the new dbounce component then the New Base Config method should be used for migration.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_new_base_config_method">6.2. New Base Config Method</h3>
<div class="paragraph"><p>This method to move to QtPlasmaC from PlasmaC (loaded on top of either Axis or Gmoccapy) is to use a <a href="qtplasmac.html#configuring">configuration wizard</a> to create a new configuration. This method then allows changing of the base machine configuration at a later date via the configuration wizard provided that the base ini and base hal files have not been edited.</p></div>
<div class="paragraph"><p>This method requires that the user take note of all HAL pins used in the existing config so they can be entered into the configuration wizard. Any custom HAL commands will also need to be noted and added manually to either the custom.hal file or the custom_postgui.hal file which will be created by the configuration wizard.</p></div>
<div class="paragraph"><p>After using the wizard, the user can then run a conversion program (cfg2prefs) to convert the parameters, settings, and materials from the previous PlasmaC configuration to the new QtPlasmaC configuration. This tool should be used immediately after the user has created a new QtPlasmaC configuration.</p></div>
<div class="paragraph"><p>Prior to running this conversion program, it is mandatory that the user have both an existing PlasmaC configuration and a new QtPlasmaC configuration. This program WILL overwrite the existing QtPlasmaC preferences and materials files, and should be used with caution if it is not being run on a new QtPlasmaC configuration.</p></div>
<div class="paragraph"><p>The program will create a time stamped backup of the original preferences file and the existing materials file (if it exists).</p></div>
<div class="paragraph"><p>It will read the existing &lt;machine_name&gt;_config.cfg, &lt;machine_name&gt;_run.cfg, &lt;machine_name&gt;_wizards.cfg, and plasmac_stats.var files and write them to an existing qtplasmac.prefs file. It will also copy the &lt;machine_name&gt;_material.cfg file to the existing QtPlasmaC configuration.</p></div>
<div class="paragraph"><p>To run the cfg2prefs conversion program, use the following instructions:</p></div>
<div class="paragraph"><p>For a package installation (Buildbot) enter the following line in a terminal window:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>qtplasmac-cfg2prefs</code></pre>
</div></div>
<div class="paragraph"><p>For a run in place installation enter the following lines in terminal window:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>source ~/linuxcnc-dev/scripts/rip-environment
qtplasmac-cfg2prefs</code></pre>
</div></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_cfg2prefs.png" alt="images/qtplasmac_cfg2prefs.png" width="500" />
</div>
</div>
<div class="paragraph"><p>Select the .ini file of the old PlasmaC configuration, select the .ini file of the new QtPlasmaC configuration, then press <strong>CONVERT</strong>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_qtplasmac_setup_considerations">7. Other QtPlasmaC Setup Considerations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="qt_lowpass">7.1. Lowpass Filter</h3>
<div class="paragraph"><p>The plasmac HAL component has a built in lowpass filter that if used is applied to the <strong>plasmac.arc-voltage-in</strong> input pin to filter any noise that could cause erroneous voltage readings. The lowpass filter should only be used after using Halscope to determine the required frequency and whether the amplitude of the noise is large enough to cause any issues. For most plasma machines lowpass is not required and should not be used unless it is required.</p></div>
<div class="paragraph"><p>The HAL pin assigned to this filter is <strong>plasmac.lowpass-frequency</strong> and is set to 0 (disabled) by default. To apply a lowpass filter to the arc-voltage, the user would edit the following entry in the custom.hal file in the machine&#8217;s configuration directory to add the appropriate cutoff frequency as measured in Hertz (Hz).</p></div>
<div class="paragraph"><p>For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>setp plasmac.lowpass-frequency 100</code></pre>
</div></div>
<div class="paragraph"><p>The above example would give a cutoff frequency of 100Hz.</p></div>
</div>
<div class="sect2">
<h3 id="_contact_bounce">7.2. Contact Bounce</h3>
<div class="paragraph"><p>Contact bounce from mechanical relays, switches, or external interference may cause some inconsistent behavior of the following switches:</p></div>
<div class="ulist"><ul>
<li>
<p>
Float Switch
</p>
</li>
<li>
<p>
Ohmic Probe
</p>
</li>
<li>
<p>
Breakaway Switch
</p>
</li>
<li>
<p>
Arc OK (for modes 1 &amp; 2)
</p>
</li>
</ul></div>
<div class="paragraph"><p>Due to the fact that the software is capable of sampling rates faster than the contact bounce period, it is possible that the software may see contact bounce as several changes in input states occurring in a very small time period, and incorrectly interpret this as a very quick on-off of the input. One method of mitigating contact bounce is to "debounce" the input. To summarize debounce, it requires the input state to be stable at the opposite state of the output state for consecutive delay periods before changing the state of the output.</p></div>
<div class="paragraph"><p>Debounce delay periods can be changed by editing the appropriate debounce value in the custom.hal file in the &lt;machine_name&gt; config folder.</p></div>
<div class="paragraph"><p>Each increment of delay adds one servo thread cycle to the debounce time. For example: given a servo thread period of 1000000 (measured in nano seconds), a debounce delay of 5 would equate to 5000000ns, or 5ms.</p></div>
<div class="paragraph"><p>For the Float and Ohmic switches this equates to a 0.001mm (0.00004") increase in the probed height result.</p></div>
<div class="paragraph"><p>It is recommended to keep the debounce values as low as possible while still achieving consistent results. Using <a href="http://linuxcnc.org/docs/2.8/html/hal/tutorial.html#_halscope">Halscope</a> to plot the inputs is a good way to establish the correct value.</p></div>
<div class="paragraph"><p>For QtPlasmaC installations, debounce is achieved by using the HAL <a href="http://linuxcnc.org/docs/2.8/html/man/man9/dbounce.9.html">dbounce component</a> which is a later alternative to the original debounce component. This new version allows for the loading and naming of individual debounce instances and is compatible with Twopass HAL file processing.</p></div>
<div class="paragraph"><p>All four signals above have an individual debounce component so the debounce periods can be catered individually to each input. Any changes made to these values in the custom.hal file will not be overwritten by later updates of QtPlasmaC.</p></div>
<div class="paragraph"><p>The default delay for all four inputs is five servo thread periods. In most cases this value will work quite well. If any of the inputs do not use mechanical switches, it may be possible to either reduce or remove the delay for those inputs.</p></div>
<div class="paragraph"><p>If debounce is required for other equipment like home or limit switches etc. then more dbounce components may added in any of the HAL files without any regard to the signals listed here.</p></div>
<div class="paragraph"><p>More information on contact bounce can be seen on page IX of <a href="https://www.finder-relais.net/en/Finder-general-technical-information-en.pdf">Finder Relays General Technical Information</a></p></div>
</div>
<div class="sect2">
<h3 id="qt-contact-load">7.3. Contact Load</h3>
<div class="paragraph"><p>Mechanical relays and switches usually require a minimum current passing through the contacts for reliable operation. This current varies with the material that the contacts in the device are made from.</p></div>
<div class="paragraph"><p>Depending on the specified minimum contact current and the current drawn by the input device there may be a need to provide a method to increase the current through the contacts.</p></div>
<div class="paragraph"><p>Most relays using gold contacts will not require any additional current for reliable operation.</p></div>
<div class="paragraph"><p>There are two different methods available to provide this minimum current if it is required:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
A 0.1μF film capacitor placed across the contacts.
</p>
</li>
<li>
<p>
A 1200Ω 1W resistor across the load (see calculations below).
</p>
</li>
</ol></div>
<div class="paragraph"><p>Schematics are shown at <a href="qtplasmac.html#qt_contact-load-schematics">contact load schematics</a>.</p></div>
<div class="paragraph"><p>More information on contact switching load can be seen on page III of <a href="https://www.finder-relais.net/en/Finder-general-technical-information-en.pdf">Finder Relays General Technical Information</a></p></div>
<div class="paragraph"><p><strong><span class="underline">Calculations:</span></strong></p></div>
<div class="paragraph"><p>If using a Mesa card, the input resistance could be 5000Ω (7i96) or 10000Ω (7i76E), giving a contact current of 4.8mA or 2.4mA assuming a supply voltage of 24V (I = V/R).</p></div>
<div class="paragraph"><p>As an example, the typical relay used in a Hypertherm Powermax 65 plasma cutter (<a href="https://www.te.com/commerce/DocumentDelivery/DDEController?Action=showdoc&amp;DocId=Data+Sheet%7F1308242_T77%7F1011%7Fpdf%7FEnglish%7FENG_DS_1308242_T77_1011.pdf%7F1-1393194-0">TE T77S1D10-24</a>) requires a minimum contact load of 100mA @ 5VDC which will dissipate 0.5W (P = I * V). If using a 24VDC power supply this would then equate to a minimum current of 20.8mA. Because there is less current drawn by the Mesa input than is required by the relay there needs to be an increase in the current.</p></div>
<div class="paragraph"><p>The resistance can be calculated using R = Vs / (Im - Ii) where:</p></div>
<div class="ulist"><ul>
<li>
<p>
R = calculated resistance
</p>
</li>
<li>
<p>
Vs = supply voltage
</p>
</li>
<li>
<p>
Im = minimum current required
</p>
</li>
<li>
<p>
Ii = input current
</p>
</li>
</ul></div>
<div class="paragraph"><p>Using a 7i76E with an input current of 2.4mA gives a calculated value of 1304Ω. (24 / (.0208 - .0024) This could then be rounded down to a commonly available 1200Ω resistor giving a small safety margin.</p></div>
<div class="paragraph"><p>The power dissipation can by calculated using P = Vs<sup>2</sup> / Rs where:</p></div>
<div class="ulist"><ul>
<li>
<p>
P = power
</p>
</li>
<li>
<p>
Vs = supply voltage
</p>
</li>
<li>
<p>
Rs = selected resistance
</p>
</li>
</ul></div>
<div class="paragraph"><p>This gives a value of 0.48W. This could then be rounded up to 1W, giving a good safety margin. The final selection would be a 1200Ω 1W resistor. Note that this resistor could be used on either the 7i96 or the 7i76E.</p></div>
</div>
<div class="sect2">
<h3 id="_desktop_launcher">7.4. Desktop Launcher</h3>
<div class="paragraph"><p>If a link to the launch the configuration was not created when creating the config, the user could create a desktop launcher to the config by right clicking on the desktop and selecting Create Launcher or similar. This will bring up a dialog box to create a launcher. Give the icon a nice short name, enter anything for the command and click OK.</p></div>
<div class="paragraph"><p>After the launcher appears on the desktop, right click on it and then edit it with the user&#8217;s editor of choice. Edit the file so it looks similar to:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>[Desktop Entry]
Comment=
Terminal=false
Name=LinuxCNC
Exec=sh -c "linuxcnc $HOME/linuxcnc/configs/&lt;machine_name&gt;/&lt;machine_name&gt;.ini"
Type=Application
Icon=/usr/share/pixmaps/linuxcncicon.png</code></pre>
</div></div>
<div class="paragraph"><p>If the user would like a terminal window to open behind the GUI window then change the Terminal line to:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Terminal=true</code></pre>
</div></div>
<div class="paragraph"><p>Displaying a terminal can be handy for error and information messages.</p></div>
</div>
<div class="sect2">
<h3 id="_qtplasmac_files">7.5. QtPlasmaC Files</h3>
<div class="paragraph"><p>After a successful QtPlasmaC installation, the following files are created in the configuration directory:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Filename</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Function</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;machine_name&gt;.ini</p></td>
<td align="left" valign="top"><p class="table">A configuration file for the machine.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;machine_name&gt;.hal</p></td>
<td align="left" valign="top"><p class="table">A HAL for the machine.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">custom.hal</p></td>
<td align="left" valign="top"><p class="table">A HAL file for user customization.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">custom_postgui.hal</p></td>
<td align="left" valign="top"><p class="table">A HAL file for user customization which is run after the GUI has initialized.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">shutdown.hal</p></td>
<td align="left" valign="top"><p class="table">A HAL file which is run during the shutdown sequence.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">tool.tbl</p></td>
<td align="left" valign="top"><p class="table">A tool table used to store offset information for additional tools (scribe, etc.) used by the QtPlasmaC configuration.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">qtplasmac</p></td>
<td align="left" valign="top"><p class="table">A link to the directory containing common qtplasmac support files.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">backup</p></td>
<td align="left" valign="top"><p class="table">A directory for backups of config files.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">&lt;machine_name&gt; is whatever name the user entered into the "Machine Name" field of the configuration wizard program
NOTE: Custom commands are allowed in custom.hal and the custom_postgui.hal files as they are not overwritten during updates.</td>
</tr></table>
</div>
<div class="paragraph"><p>After running a new configuration for the first time the following files will be created in the configuration directory:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Filename</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Function</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;machine_name&gt;_material.cfg</p></td>
<td align="left" valign="top"><p class="table">A file for storing the material settings from the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">qtplasmac.prefs</p></td>
<td align="left" valign="top"><p class="table">A file containing the users preferences and parameters. It also stores the current color configuration.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">qtplasmac.qss</p></td>
<td align="left" valign="top"><p class="table">This file is used to store the stylesheet for the currently loaded session of QtPlasmaC.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">The configuration files (&lt;machine_name&gt;.ini and &lt;machine_name&gt;.hal) that are created by configuration wizard are notated to explain the requirements to aid in manual manipulation of these configurations. They may be edited with any text editor.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">The .prefs file is plain text and may be edited with any text editor.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_ini_file">7.6. INI File</h3>
<div class="paragraph"><p>QtPlasmaC has some specific &lt;machine_name&gt;.ini file variables as follows:</p></div>
<div class="paragraph" id="qt_ini-mode"><p><strong>[QTPLASMAC]</strong> Section</p></div>
<div class="paragraph"><p>These variables are optional.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>MODE                = 0 (use external arc voltage in for Arc Voltage)
                        (use external arc voltage in for Arc OK)
                    = 1 (use external arc voltage in for Arc Voltage)
                        (use external Arc OK in for Arc OK)
                    = 2 (Use external Arc OK in for Arc OK)
                        (use external up/down for THC)
                    (0 is the default if not specified)

ESTOP_TYPE          = 0 (estop is a indicator only)
                    = 1 (estop is hidden)
                    = 2 (estop is a button)
                    (0 is the default if not specified)

LASER_TOUCHOFF      = X10.0000  Y0.0000
                      (X &amp; Y offsets if a laser is installed for alignment)
                    (the default is none if not specified)

CAMERA_TOUCHOFF     = X-10.0000  Y0.0000
                      (X &amp; Y offsets if a camera is installed for alignment)
                    (the default is none if not specified)

PM_PORT             = (port name for RS485 e.g. /dev/ttyUSB0)
                    (the default is none if not specified)

BUTTON_n_NAME       = &lt;NAME&gt; (the name of a custom user button, n = 1~20)
BUTTON_n_CODE       = &lt;CODE&gt; (the code run by a custom user button, n= 1~20)
                    (the default is none if not specified)

DRO_POSITION        = top (move the DRO to the top in the 16:9 and 4:3 formats)
                    (the default is bottom if not specified)

HIDE_RUN            = 1 (hide the cycle start button)
HIDE_PAUSE          = 1 (hide the cycle pause button)
HIDE_ABORT          = 1 (hide the cycle stop button)
                    (the default is don't hide if not specified)

OFFSET_PROBING      = X25.21 Y8.07 0.5
                    (X offset, Y offset, and deployment delay of probe if offset probing is required)

FLASH_ERROR         = 0 (status bar error message will not flash)
                    = 1 (status bar error message will flash)
                    (0 is the default if not specified)</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">MODE and ESTOP_TYPE will default to 0 if not specified and all other variables are optional.</td>
</tr></table>
</div>
<div class="paragraph"><p><strong>[FILTER]</strong> Section</p></div>
<div class="paragraph"><p>These variables are mandatory.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>PROGRAM_EXTENSION   = .ngc,.nc,.tap G-Code File (*.ngc, *.nc, *.tap)
ngc                     = ./qtplasmac/qtplasmac_gcode.py
nc                      = ./qtplasmac/qtplasmac_gcode.py
tap                     = ./qtplasmac/qtplasmac_gcode.py</code></pre>
</div></div>
<div class="paragraph" id="qt_rs274"><p><strong>[RS274NGC]</strong> Section</p></div>
<div class="paragraph"><p>These variables are mandatory.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>RS274NGC_STARTUP_CODE = o&lt;metric_startup&gt; call (machine startup G-Code)
SUBROUTINE_PATH       = ./:./qtplasmac:../../nc_files/subroutines (./ must be in this path)
USER_M_PATH           = ./:./qtplasmac (for M190 material change)</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">SEE <a href="qtplasmac.html#qt_path-tolerance">PATH TOLERANCE</a> FOR RS274NGC_STARTUP_CODE INFORMATION RELATED TO G64.</td>
</tr></table>
</div>
<div class="paragraph"><p><strong>[HAL]</strong> Section</p></div>
<div class="paragraph"><p>These variables are mandatory.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>HALFILE = HALUI   = halui (required)
HALFILE = &lt;machine_name&gt;.hal (the machine HAL file)
HALFILE = plasmac.tcl (the standard QtPlasmaC HAL file )
HALFILE = custom.hal (Users custom HAL commands)
POSTGUI_HALFILE = postgui_call_list.hal (required)
SHUTDOWN = shutdown.hal (shutdown HAL commands)</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">The user could place custom HAL commands in the custom.hal file as this file is not overwritten by QtPlasmaC updates.</td>
</tr></table>
</div>
<div class="paragraph" id="qt_ini-display"><p><strong>[DISPLAY]</strong> Section</p></div>
<div class="paragraph"><p>This variable  is mandatory.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>DISPLAY = qtvcp qtplasmac      (use 16:9 resolution)
        = qtvcp qtplasmac_9x16 (use 9:16 resolution)
        = qtvcp qtplasmac_4x3  (use 4:3 resolution)</code></pre>
</div></div>
<div class="paragraph"><p><strong>[TRAJ]</strong> Section</p></div>
<div class="paragraph"><p>This variable  is mandatory.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>SPINDLES = 3</code></pre>
</div></div>
<div class="paragraph"><p><strong>[AXIS_X]</strong> Section</p></div>
<div class="paragraph"><p>These variables are mandatory.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>MAX_VELOCITY     = double the value in the corresponding joint
MAX_ACCELERATION = double the value in the corresponding joint
OFFSET_AV_RATIO  = 0.5</code></pre>
</div></div>
<div class="paragraph"><p><strong>[AXIS_Y]</strong> Section</p></div>
<div class="paragraph"><p>These variables are mandatory.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>MAX_VELOCITY     = double the value in the corresponding joint
MAX_ACCELERATION = double the value in the corresponding joint
OFFSET_AV_RATIO  = 0.5</code></pre>
</div></div>
<div class="paragraph"><p><strong>[AXIS_Z]</strong> Section</p></div>
<div class="paragraph"><p>These variables are mandatory.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>MIN_LIMIT        = the top of the table's slats or just below
MAX_VELOCITY     = double the value in the corresponding joint
MAX_ACCELERATION = double the value in the corresponding joint
OFFSET_AV_RATIO  = 0.5</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">QtPlasmaC uses the LinuxCNC External Offsets feature for all Z axis motion, and for moving the X and/or Y axis for a consumable change while paused. For more information on this feature, please read <a href="../motion/external-offsets.html#cha:external-offsets">External Axis Offsets</a> in the LinuxCNC documentation.</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_qtplasmac_gui_overview">8. QtPlasmaC GUI Overview</h2>
<div class="sectionbody">
<div class="paragraph"><p>The following sections will give a general overview of the QtPlasmaC layout.</p></div>
<div class="sect2">
<h3 id="qt_main-tab">8.1. MAIN Tab</h3>
<div class="paragraph"><p>Screenshot example of the QtPlasmaC <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a> in <strong>16:9</strong> aspect ratio:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_16x9.png" alt="images/qtplasmac_16x9.png" width="800" />
</div>
</div>
<div class="paragraph"><p>Some functions/features are only used for particular modes and are not displayed if they are not required by the chosen QtPlasmaC mode.</p></div>
<div class="paragraph"><p><strong><span class="underline">PREVIEW WINDOW</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Material</p></td>
<td align="left" valign="top"><p class="table">The top header is clickable in this area to reveal a drop down menu. It is used to manually select the current material cut parameters. If there are no materials in the material file then only the default material will be displayed.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">VEL:</p></td>
<td align="left" valign="top"><p class="table">This displays the actual cut feed rate the table is moving at.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">FR:</p></td>
<td align="left" valign="top"><p class="table">If "View Material" is selected on the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>, this displays the currently selected material&#8217;s Feed Rate.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PH:</p></td>
<td align="left" valign="top"><p class="table">If "View Material" is selected on the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>, this displays the currently selected material&#8217;s Pierce Height.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PD:</p></td>
<td align="left" valign="top"><p class="table">If "View Material" is selected on the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>, this displays the currently selected material&#8217;s Pierce Delay.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CH:</p></td>
<td align="left" valign="top"><p class="table">If "View Material" is selected on the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>, this displays the currently selected material&#8217;s Cut Height.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CA:</p></td>
<td align="left" valign="top"><p class="table">If "View Material" is selected on the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>, and RS485 communications are enabled, this displays the currently selected material&#8217;s Cut Amperage.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">P</p></td>
<td align="left" valign="top"><p class="table">This button changes the preview to an isometric view.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Z</p></td>
<td align="left" valign="top"><p class="table">This button changes the preview to a top down view.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">→</p></td>
<td align="left" valign="top"><p class="table">This button pans the preview right.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">←</p></td>
<td align="left" valign="top"><p class="table">This button pans the preview left.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">↑</p></td>
<td align="left" valign="top"><p class="table">This button pans the preview up.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">↓</p></td>
<td align="left" valign="top"><p class="table">This button pans the preview down.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">+</p></td>
<td align="left" valign="top"><p class="table">This button zooms the preview.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-</p></td>
<td align="left" valign="top"><p class="table">This button zooms the preview.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">C</p></td>
<td align="left" valign="top"><p class="table">This button clears the live plot.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">MACHINE</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">ESTOP</p></td>
<td align="left" valign="top"><p class="table">If ESTOP_TYPE = 0 in the &lt;machine_name&gt;.ini file, this button becomes an indicator of the hardware ESTOP&#8217;s status only.<br />
If ESTOP_TYPE = 1 in the &lt;machine_name&gt;.ini file, this button will not be visible.<br />
If ESTOP_TYPE = 2 in the &lt;machine_name&gt;.ini file, this button will act as a GUI ESTOP.<br />
If ESTOP_TYPE is omitted from the &lt;machine_name&gt;.ini file, this button will default to being an indicator of the hardware ESTOP&#8217;s status only.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">POWER</p></td>
<td align="left" valign="top"><p class="table">This button turns the GUI on and allows QtPlasmaC/LinuxCNC to control the hardware.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CYCLE START</p></td>
<td align="left" valign="top"><p class="table">This button starts the cycle for any loaded G-Code file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CYCLE PAUSE</p></td>
<td align="left" valign="top"><p class="table">This button pauses the cycle for any loaded G-Code file.<br />
If a cycle is paused, this button will display <strong>CYCLE RESUME</strong> and flash.<br />
Pressing <strong>CYCLE RESUME</strong> will resume the cycle.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CYCLE STOP</p></td>
<td align="left" valign="top"><p class="table">This button stops any actively running or paused cycle.<br />
This includes:<br />
- G-Code Programs<br />
- Torch pulse if the pulse was started during <strong>CYCLE PAUSE</strong> (this will cancel the paused G-Code program execution as well)<br />
- Probe Test<br />
- Framing<br />
- Manual Cut</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">FEED</p></td>
<td align="left" valign="top"><p class="table">This slider overrides the feed rate for all feed moves.<br />
Any value other than 100% will cause the label to flash.<br />
Clicking the label will return the slider to 100%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">RAPID</p></td>
<td align="left" valign="top"><p class="table">This slider overrides the rapid rate for all rapid moves.<br />
Any value other than 100% will cause the label to flash.<br />
Clicking the label will return the slider to 100%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">JOG</p></td>
<td align="left" valign="top"><p class="table">This slider sets the jog rate.<br />
Clicking the label will return the slider to the default linear velocity as set in the &lt;machine_name).ini file.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">BUTTONS</span></strong></p></div>
<div class="paragraph"><p>The Button Panel contains buttons useful for the operation of the machine.</p></div>
<div class="paragraph"><p>The <strong>EDIT</strong> and <strong>MDI</strong> buttons are permanent, all other buttons are user programmable in the &lt;machine_name&gt;.ini file.</p></div>
<div class="paragraph"><p>See <a href="qtplasmac.html#qt_custom-user-buttons">custom user buttons</a> for detailed information on custom user buttons.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">EDIT</p></td>
<td align="left" valign="top"><p class="table">This button opens a G-Code editor for the currently loaded program.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">MDI</p></td>
<td align="left" valign="top"><p class="table">This button places QtPlasmaC into Manual Data Input mode which will display the MDI HISTORY and an entry box over top of the G-Code window.<br />
Once pressed, this button will display "MDI CLOSE".<br />
Pressing <strong>MDI CLOSE</strong> will close the MDI.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">OHMIC TEST</p></td>
<td align="left" valign="top"><p class="table">This button will enable the Ohmic Probe Enable output signal and if the Ohmic Probe input is sensed, the LED indicator in the SENSOR Panel will light.<br />
The main purpose of this is to allow a quick test for a shorted torch tip.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PROBE TEST</p></td>
<td align="left" valign="top"><p class="table">This button will initiate a <a href="qtplasmac.html#qt_probe-test">Probe Test</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SINGLE CUT</p></td>
<td align="left" valign="top"><p class="table">This button will show the dialog box to start an automatic <a href="qtplasmac.html#qt_single-cut">Single Cut</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">NORMAL CUT</p></td>
<td align="left" valign="top"><p class="table">This button will toggle between <a href="qtplasmac.html#qt_cut-types">Cut Types</a> (NORMAL CUT and PIERCE ONLY).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">TORCH PULSE</p></td>
<td align="left" valign="top"><p class="table">This button will initiate a <a href="qtplasmac.html#qt_button-torch">Torch Pulse</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">ARC</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="27%" />
<col width="9%" />
<col width="63%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Modes</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Arc Voltage</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">Displays the actual arc voltage.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">OK</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">Indicates the status of the Arc OK signal.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">+</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">Each press of this button will raise the target voltage by the THC Threshold voltage (The distance changed will be Height Per Volt * THC Threshold voltage).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">Each press of this button will lower the target voltage by the THC Threshold voltage (The distance changed will be Height Per Volt * THC Threshold voltage).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">OVERRIDE</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">Clicking this label will return any voltage override to 0.00.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph" id="qt_control-panel"><p><strong><span class="underline">CONTROL</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="27%" />
<col width="9%" />
<col width="63%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Modes</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">TORCH ON</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">Indicates the status of the Torch On output signal.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">TORCH ON ENABLE</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This box toggles between Enabling and Disabling the torch.<br />
This box defaults to unfilled (disabled) when QtPlasmaC is first run.<br />
This box must be filled to change it to "Torch Enabled" before material cutting can commence.<br />
If this box is not filled, then running a loaded program will cause the machine to run the cycle without firing the torch. This is sometimes referred to as a "dry run".</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">VELOCITY A/DIVE</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">Indicates that the THC is locked at the current height due to the cut velocity falling below the VAD Threshold percentage set on the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">VELOCITY A/DIVE ENABLE</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This box toggles between Enabling and Disabling VELOCITY A/DIVE.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">VOID A/DIVE</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">Indicates that the THC is locked due to a void being sensed.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">VOID A/DIVE ENABLE</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">This box toggles between Enabling and Disabling VOID A/DIVE.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">MESH MODE</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This box will enable or disable <a href="qtplasmac.html#qt_mesh-mode">Mesh Mode</a> for the cutting of expanded metal. This check box may be enabled or disabled at any time during normal cutting.<br />
Mesh mode:<br />
- Will require an Arc OK signal to start machine motion.<br />
- Will disable the THC.<br />
- Will not stop machine motion if the Arc OK signal is lost.<br />
- Will automatically select CPA mode if PowerMax communications are being used.<br />
For more information see <a href="qtplasmac.html#qt_mesh-mode">Mesh Mode (expanded metal)</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">AUTO VOLTS</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">This box will enable or disable <a href="qtplasmac.html#qt_thc">Auto Volts</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IGNORE OK</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This box will determine if QtPlasmaC ignores the Arc OK signal. This check box may be enabled or disabled at any time during normal cutting. Additionally this mode may be enabled or disabled via proper M codes in a running program.<br />
Ignore Arc OK mode:<br />
- Will not require an Arc OK signal be received before starting machine motion after the "Torch On" signal is given.<br />
- Will disable the THC.<br />
- Will not stop machine motion if the Arc OK signal is lost.<br />
For more information see <a href="qtplasmac.html#qt_ignore-ok">Ignore Arc Ok</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">OHMIC PROBE</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This box enables or disables the ohmic probe input.<br />
If the Ohmic Probe input is disabled, the Ohmic Probe LED will still show the status of the probe input, but the Ohmic Probe results will be ignored.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">RS485</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This box will enable or disable the communications to a PowerMax. This button is only visible if a PM_PORT is configured in the [QTPLASMAC] section of the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Status</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">When PowerMax communications are enabled, this will display one of the following:<br />
<strong>CONNECTING</strong>, <strong>CONNECTED</strong>, <strong>COMMS ERROR</strong>, or a <strong>Fault Code</strong>.<br />
For more information, see the <a href="qtplasmac.html#qt_pm_comms">PowerMax Communications</a> section.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">SENSOR</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">FLOAT</p></td>
<td align="left" valign="top"><p class="table">Indicates that the float switch is activated.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">OHMIC</p></td>
<td align="left" valign="top"><p class="table">Indicates that the probe has sensed the material.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">BREAK</p></td>
<td align="left" valign="top"><p class="table">Indicates that the torch breakaway sensor is activated.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">THC</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">ENABLE</p></td>
<td align="left" valign="top"><p class="table">This box determines whether the THC will be enabled or disabled during a cut.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">ENABLED</p></td>
<td align="left" valign="top"><p class="table">This LED indicates whether the THC is enabled or disabled.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">ACTIVE</p></td>
<td align="left" valign="top"><p class="table">This LED indicates that the THC is actively controlling the Z axis.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">UP</p></td>
<td align="left" valign="top"><p class="table">This LED indicates that the THC is commanding the Z axis to raise.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">DOWN</p></td>
<td align="left" valign="top"><p class="table">This LED indicates that the THC is commanding the Z axis to lower.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">JOGGING</span></strong></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">During Paused Motion, this section will become <a href="qtplasmac.html#qt_cut-recovery">CUT RECOVERY</a></td>
</tr></table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CONTINUOUS</p></td>
<td align="left" valign="top"><p class="table">This drop down button will change the jog increment. Options are determined by the values in the [DISPLAY] section of the &lt;machine_name&gt;.ini file and begin with the label "INCREMENTS =".</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">FAST</p></td>
<td align="left" valign="top"><p class="table">This button will toggle between FAST which is the default linear velocity in the &lt;machine_name&gt;.ini file or SLOW which is 10% of the default value.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Y+</p></td>
<td align="left" valign="top"><p class="table">This button moves the Y axis in the positive direction.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Y-</p></td>
<td align="left" valign="top"><p class="table">This button moves the Y axis in the negative direction.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">X+</p></td>
<td align="left" valign="top"><p class="table">This button moves the X axis in the positive direction.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">X-</p></td>
<td align="left" valign="top"><p class="table">This button moves the X axis in the negative direction.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Z+</p></td>
<td align="left" valign="top"><p class="table">This button moves the Z axis in the positive direction.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Z-</p></td>
<td align="left" valign="top"><p class="table">This button moves the Z axis in the negative direction.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">CUT RECOVERY</span></strong></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">During Paused Motion, this section will be shown on top of the JOGGING panel. The following section will cover each button encountered in this panel. Please see <a href="qtplasmac.html#qt_cut-recovery">CUT RECOVERY</a> for a detailed description of the cut recovery functionality.</td>
</tr></table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PAUSED MOTION FEED SLIDER</p></td>
<td align="left" valign="top"><p class="table">In the event of a paused program, this interface allows X/Y motion to follow the programmed path in the reverse or forward direction.<br />
This slider&#8217;s range is from 1%-100% of the Cut Feed Rate for the currently selected material.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">FEED</p></td>
<td align="left" valign="top"><p class="table">This displays the paused motion feed rate.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">REV</p></td>
<td align="left" valign="top"><p class="table">In the event of a paused program, this button will move the machine in reverse along the programmed path until it reaches the last M3 command that was either executed or that QtPlasmaC was attempting to execute before the program became paused.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">FWD</p></td>
<td align="left" valign="top"><p class="table">In the event of a paused program, this button will move the machine forward along the programmed path indefinitely until the program&#8217;s end, skipping over M3 commands.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CANCEL MOVE</p></td>
<td align="left" valign="top"><p class="table">This button will cancel any Cut Recovery movement that was made, and return the torch to the position the Cut Recovery movement was initiated.<br />
Note that if FWD or REV were used to move the torch, CANCEL will not return to the position of the torch when the pause occurred.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">MOVE x.xxx</p></td>
<td align="left" valign="top"><p class="table">This displays the amount of travel that will be incurred with each press of an arrow key, in the direction the arrow key was pressed.<br />
This value displayed below MOVE represents the Kerf Width of the currently selected material.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">DIRECTIONAL ARROWS</p></td>
<td align="left" valign="top"><p class="table">These buttons will move the torch in the direction indicated by a distance of one Kerf Width (of the currently selected material) per press.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">G-CODE WINDOW</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CLEAR</p></td>
<td align="left" valign="top"><p class="table">This button will clear the currently opened program.<br />
The torch (T0) will be selected if it was not the active tool.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">OPEN</p></td>
<td align="left" valign="top"><p class="table">This button will open a FILE OPEN panel over the PREVIEW WINDOW.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">RELOAD</p></td>
<td align="left" valign="top"><p class="table">This button will reload the currently loaded G-Code File.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">DRO</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">HOME ALL</p></td>
<td align="left" valign="top"><p class="table">This button will home all of the axes in the order set by HOME_SEQUENCE in the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">WCS G54</p></td>
<td align="left" valign="top"><p class="table">This drop down button will change the current work offset.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CAMERA</p></td>
<td align="left" valign="top"><p class="table">This button will display a CAMVIEW panel on top of the PREVIEW WINDOW and will allow the user to set an origin with or without rotation. See the <a href="qtplasmac.html#qt_camera">CAMERA section</a> for detailed instructions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">LASER</p></td>
<td align="left" valign="top"><p class="table">This button will allow the user to set an origin with or without rotation. See the <a href="qtplasmac.html#qt_laser">LASER section</a> for detailed instructions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">X0 Y0</p></td>
<td align="left" valign="top"><p class="table">This button will set the current position to X0 Y0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">HOME [AXIS]</p></td>
<td align="left" valign="top"><p class="table">This button will home the corresponding axis.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">0 [AXIS]</p></td>
<td align="left" valign="top"><p class="table">This drop down button will display the following options:<br />
<strong>Zero</strong> - zeros the axis.<br />
<strong>Set</strong> - launches a dialog box to manually input the axis' coordinate.<br />
<strong>Divide By 2</strong> - divides the currently displayed coordinate in the DRO by two.<br />
<strong>Set To Last</strong> - sets the axis to the previously set coordinate.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="qt_conversational-tab">8.2. CONVERSATIONAL Tab</h3>
<div class="paragraph"><p>Screenshot example of the QtPlasmaC <a href="qtplasmac.html#qt_conversational-tab">CONVERSATIONAL Tab</a> in <strong>16:9</strong> aspect ratio:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_conversational.png" alt="images/qtplasmac_conversational.png" width="800" />
</div>
</div>
<div class="paragraph"><p>The <a href="qtplasmac.html#qt_conversational-tab">CONVERSATIONAL Tab</a> enables the user to quickly program various simple shapes for quick cutting without the need for CAM software.</p></div>
<div class="paragraph"><p>See <a href="qtplasmac.html#qt_shape-library">Conversational Shape Library</a> for detailed information on the Conversational feature.</p></div>
<div class="paragraph"><p>It is possible to disable this tab so the conversational feature cannot be used by an operator. This may be achieved either by wiring the pin to a physical key-switch or similar or it may also be set in a HAL file using the following command:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>setp qtplasmac.conv_disable 1</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="qt_parameters-tab">8.3. PARAMETERS Tab</h3>
<div class="paragraph"><p>Screenshot example of the QtPlasmaC <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> in <strong>16:9</strong> aspect ratio:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_parameters.png" alt="images/qtplasmac_parameters.png" width="800" />
</div>
</div>
<div class="paragraph"><p>Some functions/features are only used for particular modes and are not displayed if they are not required by the chosen QtPlasmaC mode.</p></div>
<div class="paragraph"><p>Due to space constraints, the 4x3 GUI&#8217;s <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> will be spread across two tabs, PARAMETERS and SETTINGS.</p></div>
<div class="paragraph"><p>This tab is used to display configuration parameters that are modified infrequently.</p></div>
<div class="paragraph"><p>It is possible to disable this tab so machine settings cannot be modified by unauthorized personnel. This may be achieved either by wiring the pin to a physical key-switch or similar or it may also be set in a HAL file using the following command:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>setp qtplasmac.param_disable 1</code></pre>
</div></div>
<div class="paragraph"><p><strong><span class="underline">CONFIGURATION - ARC</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="10%" />
<col width="70%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Modes</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Start Fail Timer</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This sets the amount of time (in seconds) QtPlasmaC will wait between commanding a "Torch On" and receiving an Arc OK signal before timing out and displaying an error message.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Max Starts</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This sets the number of times QtPlasmaC will attempt to start the arc.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Retry Delay</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This sets the time (in seconds) between an arc failure and another arc start attempt.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voltage Scale</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">This sets the arc voltage input scale and is used to display the correct arc voltage.<br />
                                        For initial setup, see <a href="qtplasmac.html#qt_calibration-values">Calibration Values</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voltage Offset</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">This sets the arc voltage offset and is used to display zero volts when there is zero arc voltage input.<br />
                    For initial setup, see <a href="qtplasmac.html#qt_calibration-values">Calibration Values</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Height Per Volt</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This sets the distance the torch would need to move to change the arc voltage by one volt.<br />
                       Used for manual height manipulation only.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">OK High Volts</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">This sets the voltage threshold below which Arc OK signal is valid.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">OK Low Volts</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">This sets the voltage threshold above which the Arc OK signal is valid.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">When setting the OK Low Volts and OK High Volts in Mode 0, the cut voltage of a stable arc must be greater than the OK Low Volts value but lower than the OK High Volts value for QtPlasmaC to receive a valid Arc OK signal. To further clarify, to have a valid Arc OK, the arc voltage must fall between the two limits.</td>
</tr></table>
</div>
<div class="paragraph"><p><strong><span class="underline">CONFIGURATION - PROBING</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Float Travel</p></td>
<td align="left" valign="top"><p class="table">This sets the amount of travel the float switch moves before completing the float switch circuit. This distance can be measured by using the Probe Test button, and the method described in <a href="qtplasmac.html#qt_initial-setup">Initial Setup</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Probe Speed</p></td>
<td align="left" valign="top"><p class="table">This sets the speed at which the torch will probe to find the material after it moves to the Probe Height.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Probe Height</p></td>
<td align="left" valign="top"><p class="table">This sets the height above the Z axis minimum limit that Probe Speed begins. Refer to the <a href="qtplasmac.html#qt_initial-setup">Heights Diagram</a> diagram for a visual representation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Ohmic Offset</p></td>
<td align="left" valign="top"><p class="table">This sets the distance above the material the torch will should go after a successful ohmic probe. It is mainly used to compensate for high probing speeds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Ohmic Retries</p></td>
<td align="left" valign="top"><p class="table">This sets the number of times QtPlasmaC will retry a failed ohmic probe before falling back to the float switch for material detection.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Skip IHS</p></td>
<td align="left" valign="top"><p class="table">This sets the distance threshold used to determine if an Initial Height Sense (probe) can be skipped for the current cut, see <a href="qtplasmac.html#qt_ihs-skip">IHS Skip</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If the amount of time between the torch contacting the material and when the torch moves up and comes to rest at the Pierce Height seems excessive, see <a href="qtplasmac.html#qt_probing">the probing section</a> for a possible solution.</td>
</tr></table>
</div>
<div class="paragraph"><p><strong><span class="underline">CONFIGURATION - SAFETY</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Safe Height</p></td>
<td align="left" valign="top"><p class="table">This sets the height above the material that the torch will retract to before executing rapid moves.<br />
                   If set to Zero then Z axis maximum height will be used for the safe height. Refer to the <a href="qtplasmac.html#qt_initial-setup">Heights Diagram</a> diagram for a visual representation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph" id="qt_scribe-config"><p><strong><span class="underline">CONFIGURATION - SCRIBING</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Arm Delay</p></td>
<td align="left" valign="top"><p class="table">This sets the delay (in seconds) from the time the scribe command is received to the activation of the scribe. This allows the scribe to reach surface of the material before activating the scribe.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">On Delay</p></td>
<td align="left" valign="top"><p class="table">This sets the delay (in seconds) to allow the scribe mechanism to start before beginning motion.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">CONFIGURATION - SPOTTING</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Threshold</p></td>
<td align="left" valign="top"><p class="table">This sets the arc voltage at which the delay timer will begin.<br />
           0V starts the delay when the torch on signal is activated.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Time On</p></td>
<td align="left" valign="top"><p class="table">This sets the length of time (in milliseconds) the torch is on after threshold voltage is reached.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">CONFIGURATION - MOTION</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Max. Speed</p></td>
<td align="left" valign="top"><p class="table">Displays the maximum velocity the Z axis is capable of (this is controlled by the &lt;machine_name&gt;.ini file).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Setup Speed</p></td>
<td align="left" valign="top"><p class="table">The Z axis velocity for setup moves (movements to Probe Height, Pierce Height, Cut Height, etc.).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Setup Speed has no effect on THC speed which is capable of the velocity displayed in the Max. Speed field.</td>
</tr></table>
</div>
<div class="paragraph"><p><strong><span class="underline">CONFIGURATION - THC</span></strong></p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="10%" />
<col width="70%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Modes</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Delay</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This sets the delay (in seconds) measured from the time the Arc OK signal is received until Torch Height Controller (THC) activates.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Threshold</p></td>
<td align="left" valign="top"><p class="table">0, 1, 2</p></td>
<td align="left" valign="top"><p class="table">This sets the voltage variation allowed from the target voltage before for THC makes movements to correct the torch height.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Speed (PID-P)</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">This sets the Proportional gain for the THC PID loop. This roughly equates to how quickly the THC attempts to correct changes in height.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">VAD Threshold</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">(Velocity Anti Dive) This sets the percentage of the current cut feed rate the machine can slow to before locking the THC to prevent torch dive.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Void Override</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">This sets the size of the change in cut voltage necessary to lock the THC to prevent torch dive (higher values need greater voltage change to lock THC).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PID-I</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">This sets the Integral gain for the THC PID loop. Integral gain is associated with the sum of errors in the system over time and is not always needed.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PID-D</p></td>
<td align="left" valign="top"><p class="table">0, 1</p></td>
<td align="left" valign="top"><p class="table">This sets the Derivative gain for the THC PID loop. Derivative gain works to dampen the system and reduce over correction oscillations and is not always needed.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">PID loop tuning is a complicated process and is outside the scope of this User Guide. There are many sources of information available to assist with understanding and tuning PID loops. If the THC is not making corrections fast enough, it is recommended to increase the P gain in small increments until the system operates favorably. Large P gain adjustments can result in over correction and oscillations.</td>
</tr></table>
</div>
<div class="paragraph"><p><strong><span class="underline">SAVE &amp; RELOAD Buttons</span></strong></p></div>
<div class="paragraph"><p>The <strong>SAVE</strong> button will save the currently displayed parameters to the qtplasmac.prefs file.</p></div>
<div class="paragraph"><p>The <strong>RELOAD</strong> button will reload all the parameters from the qtplasmac.prefs file.</p></div>
<div class="paragraph" id="qt_material"><p><strong><span class="underline">MATERIAL</span></strong></p></div>
<div class="paragraph"><p>This section shows the parameters which are active for the current cut.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Material</p></td>
<td align="left" valign="top"><p class="table">The top drop down menu is used to manually select the current material cut parameters. If there are no materials in the material file then only the default material will be displayed.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Kerf Width</p></td>
<td align="left" valign="top"><p class="table">This sets the kerf width for the currently selected material. Refer to the <a href="qtplasmac.html#qt_initial-setup">Heights Diagram</a> diagram for a visual representation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Pierce Height</p></td>
<td align="left" valign="top"><p class="table">This sets the pierce height for the currently selected material. Refer to the <a href="qtplasmac.html#qt_initial-setup">Heights Diagram</a> diagram for a visual representation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Pierce Delay</p></td>
<td align="left" valign="top"><p class="table">This sets the pierce delay (in seconds) for the currently selected material.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut Height</p></td>
<td align="left" valign="top"><p class="table">This sets the cut height for the currently selected material. Refer to the <a href="qtplasmac.html#qt_initial-setup">Heights Diagram</a> diagram for a visual representation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut Feed Rate</p></td>
<td align="left" valign="top"><p class="table">This sets the cut feed rate for the currently selected material.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut Amps</p></td>
<td align="left" valign="top"><p class="table">This sets the cut amperage for the currently selected material.<br />
          This is a visual indicator to the operator only, unless PowerMax communications are being used.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut Volts</p></td>
<td align="left" valign="top"><p class="table">This sets the cut voltage for the currently selected material.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Puddle Height</p></td>
<td align="left" valign="top"><p class="table">Expressed as a percentage of Pierce Height, this sets the Puddle Jump height for the currently selected material.<br />
          Typically used for thicker materials, Puddle Jump allows the torch to have an intermediate step between Pierce Height and Cut Height.<br />
          If set, the torch will proceed from Pierce Height to P-Jump Height for a period of time (P-Jump Delay) before proceeding to Cut Height to effectively "jump" over the molten puddle. Refer to the <a href="qtplasmac.html#qt_initial-setup">Heights Diagram</a> diagram for a visual representation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Puddle Delay</p></td>
<td align="left" valign="top"><p class="table">This sets the Puddle Jump delay (in seconds) for the currently selected material.<br />
         This value is mandatory if P-Jump Height is set as it sets the length of time the torch will stay at the P-Jump Height before proceeding to Cut Height.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Pause At End</p></td>
<td align="left" valign="top"><p class="table">This sets the amount of time (in seconds) the torch will stay on at the end of the cut before proceeding with the M5 command to turn off and raise the torch. For more information see <a href="qtplasmac.html#qt_pause-at-end">Pause At End Of Cut</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Gas Pressure</p></td>
<td align="left" valign="top"><p class="table">This sets the gas pressure for the currently selected material.<br />
              This setting is only valid if PowerMax communications are being used.<br />
              0 = Use the PowerMax&#8217;s automatic pressure mode.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut Mode</p></td>
<td align="left" valign="top"><p class="table">This sets the cut mode for the currently selected material.<br />
          This setting is only valid if PowerMax communications are being used.<br />
          1 = Normal<br />
          2 = CPA (Constant Pilot Arc)<br />
          3 = Gouge/Mark</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">SAVE, RELOAD, NEW, &amp; DELETE Buttons</span></strong></p></div>
<div class="paragraph"><p>The <strong>SAVE</strong> button will save the current material set to the &lt;machine_name&gt;_material.cfg file.</p></div>
<div class="paragraph"><p>The <strong>RELOAD</strong> button will reload the material set from the &lt;machine_name&gt;_material.cfg file.</p></div>
<div class="paragraph"><p>The <strong>NEW</strong> button will allow a new material to be added to the material file. The user will be prompted for a material number and a material name, all other parameters will be read from the currently selected material. Once entered, QtPlasmaC will reload the material file and display the new material. The Cut Parameters for the new material will then need to be adjusted and saved.</p></div>
<div class="paragraph"><p>The <strong>DELETE</strong> this button is used to delete a material. After pressing it, the user will be prompted for a material number to be deleted, and prompted again to ensure the user is sure. After deletion, the material file will be reloaded and the drop down list will display the default material.</p></div>
<div class="paragraph"><p><strong><span class="underline">GUI SETTINGS</span></strong></p></div>
<div class="paragraph"><p>This section shows parameters that effect the GUI appearance and GUI behaviors.</p></div>
<div class="paragraph"><p>To return any of the color changes to their default values, see the <a href="qtplasmac.html#qt_default_styling">Returning To The Default Styling</a> section.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Foreground</p></td>
<td align="left" valign="top"><p class="table">This button allows the user to change the color of the GUI Foreground.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Highlight</p></td>
<td align="left" valign="top"><p class="table">This button allows the user to change the color of the GUI Highlight.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">LED</p></td>
<td align="left" valign="top"><p class="table">This button allows the user to change the color of the GUI LED.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Background</p></td>
<td align="left" valign="top"><p class="table">This button allows the user to change the color of the GUI Background.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Alt Background</p></td>
<td align="left" valign="top"><p class="table">This button allows the user to change the color of the GUI Alternate Background.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frames</p></td>
<td align="left" valign="top"><p class="table">This button allows the user to change the color of the GUI Frames.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Estop</p></td>
<td align="left" valign="top"><p class="table">This button allows the user to change the color of the GUI Estop.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Disabled</p></td>
<td align="left" valign="top"><p class="table">This button allows the user to change the color of the GUI&#8217;s Disabled features.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Preview</p></td>
<td align="left" valign="top"><p class="table">This button allows the user to change the color of the GUI Preview Window Background.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Soft Keyboard</p></td>
<td align="left" valign="top"><p class="table">This radio button allows the user to enable or disable the soft touchscreen keyboard.<br />
               If the "onboard" virtual keyboard is installed then the <a href="qtplasmac.html#custom_kb_layouts">custom layouts</a> will be enabled .</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">KB Shortcuts</p></td>
<td align="left" valign="top"><p class="table">This radio button allows the user to enable or disable <a href="qtplasmac.html#qt_keyboard-shortcuts">Keyboard Shortcuts</a> within the GUI (such as keyboard jogging).<br />
              In addition to the standard jog keys, a list of the additional shortcuts is available in the <a href="qtplasmac.html#qt_keyboard-shortcuts">keyboard shortcuts</a> section.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">View Material</p></td>
<td align="left" valign="top"><p class="table">This radio button allows the user to enable or disable the addition of a visual reference showing key material cut settings to the Preview Windows of the <a href="qtplasmac.html#qt_main-tab">MAIN</a> and <a href="qtplasmac.html#qt_conversational-tab">CONVERSATIONAL</a> tabs.<br />
               Examples are:  Feed Rate, Pierce Height, Pierce Delay, and Cut Height. Cut Amps will be shown if PowerMax communications are enabled.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Optional Stop</p></td>
<td align="left" valign="top"><p class="table">This radio button allows the user to enable or disable whether or not a running program will pause at an <strong>M1</strong> command.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Run From Line</p></td>
<td align="left" valign="top"><p class="table">This radio button allows the user to enable or disable <a href="qtplasmac.html#qt_run-from-line">Run From Line</a>. If enabled, the user can click on a line of G-Code and have the program start from that line.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Override Limits</p></td>
<td align="left" valign="top"><p class="table">This radio button allows the user to temporarily Override the input from a Limit Switch in the event the limit switch becomes tripped during operation. This button will also allow jogging while jogging is inhibited due to a float or breakaway switch activation. This button can only be clicked when a limit switch is tripped or a jog is inhibited.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Optional Block</p></td>
<td align="left" valign="top"><p class="table">This radio button allows the user to enable or disable whether or not lines starting with "/" will be skipped if present in a running program.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Grid Size</p></td>
<td align="left" valign="top"><p class="table">This allows a user to change the size of the grid in the Preview Window on the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a>. Grid size of 0.0 will disable the grid.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cone Size</p></td>
<td align="left" valign="top"><p class="table">This allows a user to change the size of the cone (which represents the current tool) in the Preview Window on the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p><strong><span class="underline">UTILITIES</span></strong></p></div>
<div class="paragraph"><p>Some standard LinuxCNC utilities are provided as an aid in the diagnosis of issues that may arise:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://linuxcnc.org/docs/devel/html/hal/halshow.html#cha:halshow">Halshow</a>
</p>
</li>
<li>
<p>
<a href="http://linuxcnc.org/docs/devel/html/hal/tutorial.html#sec:tutorial-halscope">Halscope</a>
</p>
</li>
<li>
<p>
<a href="http://linuxcnc.org/docs/devel/html/hal/tutorial.html#sec:tutorial-halmeter">Halmeter</a>
</p>
</li>
<li>
<p>
<a href="http://linuxcnc.org/docs/devel/html/getting-started/updating-linuxcnc.html#_calibration_emccalib_tcl">Calibration</a>
</p>
</li>
<li>
<p>
<a href="https://linuxcnc.org/docs//html/man/man1/linuxcnctop.1.html">Status</a>
</p>
</li>
</ul></div>
<div class="paragraph"><p>In addition the following two QtPlasmaC specific utilities are provided:</p></div>
<div class="paragraph"><p>The  <strong>SET OFFSETS</strong> button is used if the table has a laser or camera for sheet alignment, a scribe, or uses offset probing. The required offsets for these peripherals need to be applied by following the procedure described in <a href="qtplasmac.html#peripheral-offsets">Peripheral Offsets</a>.</p></div>
<div class="paragraph" id="qt_backup"><p>The <strong>BACKUP CONFIG</strong> button will create a complete machine configuration backup for archiving or to aid in fault diagnosis. A compressed backup of the machine configuration will be saved in the user&#8217;s Linux home directory. The file name will be &lt;machine_name&gt;_&lt;version&gt;_&lt;date&gt;_&lt;time&gt;.tar.gz where &lt;machine_name&gt; is the machine name entered in the configuration wizard, &lt;version&gt; is the current QtPlasmaC version the user is on, &lt;date&gt; is the current date (YY-MM-DD), and &lt;time&gt; is the current time (HH-MM-SS).</p></div>
<div class="paragraph"><p>Prior to the backup being made, the machine log will be saved to a file in the configuration directory named machine_log_&lt;date&gt;_&lt;time&gt;.txt where &lt;date&gt; and &lt;time&gt; are as described above. This file along with up to five previous machine logs will also be included in the backup.</p></div>
<div class="paragraph"><p>These files are not required by QtPlasmaC and are safe to delete at any time.</p></div>
</div>
<div class="sect2">
<h3 id="qt_statistics-tab">8.4. STATISTICS Tab</h3>
<div class="paragraph"><p>The <a href="qtplasmac.html#qt_statistics-tab">STATISTICS Tab</a> provides statistics to allow for the tracking of consumable wear and job run times.</p></div>
<div class="paragraph"><p>These statistics are shown for the current job as well as the running total.</p></div>
<div class="paragraph"><p>Previous job statistics are reset once the next program is run.</p></div>
<div class="paragraph"><p>The total values may be reset either individually by clicking the corresponding "RESET" button, or they may all be reset together by clicking "RESET ALL".</p></div>
<div class="paragraph"><p>The <strong>RS485 PMX STATISTICS</strong> panel will be only be displayed if the user has Hypertherm PowerMax communications and a valid RS485 connection to the PowerMax is established. This panel will show the <strong>ARC ON TIME</strong> for the PowerMax in hh:mm:ss format.</p></div>
<div class="paragraph"><p>The <strong>MACHINE LOG</strong> is also displayed on the <a href="qtplasmac.html#qt_statistics-tab">STATISTICS Tab</a>, this log will display any errors and/or important information that occurs during the current LinuxCNC session. If the user makes a backup of the configuration from the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> then the machine log is also included in the backup.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_stats.png" alt="images/qtplasmac_stats.png" width="800" />
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_qtplasmac">9. Using QtPlasmaC</h2>
<div class="sectionbody">
<div class="paragraph"><p>Once QtPlasmaC is successfully installed, no Z axis motion is required to be part of the G-Code cut program. In fact, if any Z axis references are present in the cut program, the standard QtPlasmaC configuration will remove them during the program loading process.</p></div>
<div class="paragraph"><p>For reliable use of QtPlasmaC the user should <strong>NOT</strong> use any Z axis offsets other than the coordinate system offsets (G54-G59.3).</p></div>
<div class="paragraph"><p>QtPlasmaC will automatically add a line of G-Code to move the Z axis to the correct height at the beginning of every G-Code program.</p></div>
<div class="paragraph"><p><strong>Version Information</strong> - QtPlasmaC will display versioning information in the title of the main window. The information will be displayed as followed "QtPlasmaC vN.XXX.YYY - powered by QtVCP on LinuxCNC vZ.Z.Z" where N is the version of QtPlasmaC, XXX is the version of the hal component (PlasmaC.comp), YYY is the GUI version, and Z.Z.Z is the version of LinuxCNC.</p></div>
<div class="sect2">
<h3 id="_units_systems">9.1. Units Systems</h3>
<div class="paragraph"><p>All settings and parameters in QtPlasmaC are required to be in the same units as specified in the ini file, being either metric or imperial.</p></div>
<div class="paragraph"><p>If the user is attempting to run a G-Code file that is in the "other" units system then all parameters including the material file parameters are still required to be in the native machines units. Any further conversions necessary to run the G-Code file will be handled automatically by the G-Code filter program.</p></div>
<div class="paragraph"><p>For example: if a user had a metric machine and wished to run a G-Code file that was set up to cut 1/4" thick material using imperial units (inch - G20) then the user with the metric machine would need to ensure that either the material number in the G-Code file was set to the corresponding metric material to be cut, or that a new material is created with the correct metric parameters for the metric material to be cut. If the metric user wanted to cut the G-Code file using imperial material, then the new material parameters would need to be converted from imperial units to metric when they are entered.</p></div>
</div>
<div class="sect2">
<h3 id="_preamble_and_postamble_codes">9.2. Preamble and Postamble Codes</h3>
<div class="paragraph"><p>The following stanzas are the minimum recommended codes to include in the preamble and postamble of any G-Code file to be run by QtPlasmaC:</p></div>
<div class="paragraph"><p>Metric:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>G21 G40 G49 G64p0.1 G80 G90 G92.1 G94 G97</code></pre>
</div></div>
<div class="paragraph"><p>Imperial:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>G20 G40 G49 G64p0.004 G80 G90 G92.1 G94 G97</code></pre>
</div></div>
<div class="paragraph"><p>A detailed explanation of each G-Code can be found in the docs <a href="http://linuxcnc.org/docs/html/gcode/g-code.html">here</a>.</p></div>
<div class="paragraph"><p>Note that throughout this user guide there are several additional recommendations for codes that are prudent to add to both the preamble and postamble depending on the features the user wishes to utilize.</p></div>
</div>
<div class="sect2">
<h3 id="_mandatory_codes">9.3. Mandatory Codes</h3>
<div class="paragraph"><p>Aside from the preamble code, postamble code, and X/Y motion code, the only mandatory G-Code syntax for QtPlasmaC to run a G-Code program using a torch for cutting is <strong>M3 $0 S1</strong> to begin a cut and <strong>M5 $0</strong> to end a cut.</p></div>
<div class="paragraph"><p>For backwards compatibility it is permissible to use <strong>M3 S1</strong> in lieu of <strong>M3 $0 S1</strong> to begin a cutting job and <strong>M5</strong> in lieu of <strong>M5 $0</strong> to end a cutting job. Note that this applies to cutting jobs only, for scribe and spotting jobs the <strong>$n</strong> tool identifier is mandatory.</p></div>
</div>
<div class="sect2">
<h3 id="_coordinates">9.4. Coordinates</h3>
<div class="paragraph"><p>See <a href="qtplasmac.html#qt_z-settings">recommended Z axis</a> settings.</p></div>
<div class="paragraph"><p>Each time LinuxCNC (QtPlasmaC) is started Joint homing is required. This allows LinuxCNC (QtPlasmaC) to establish the known coordinates of each axis and set the soft limits to the values specified in the &lt;machine_name&gt;.ini file in order to prevent the machine from crashing into a hard stop during normal use.</p></div>
<div class="paragraph"><p>If the machine does not have home switches then the user needs to ensure that all axes are at the home coordinates specified in the &lt;machine_name&gt;.ini file before homing.</p></div>
<div class="paragraph"><p>If the machine has home switches then it will move to the specified home coordinates when the Joints are homed.</p></div>
<div class="paragraph"><p>Depending on the machine&#8217;s configuration there will either be a <strong>Home All</strong> button or each axis will need to be homed individually. Use the appropriate button/buttons to home the machine.</p></div>
<div class="paragraph"><p>As mentioned in the <a href="qtplasmac.html#qt_initial-setup">Initial Setup</a> section, it is recommended that the first time QtPlasmaC is used that the user ensure there is nothing below the torch then jog the Z axis down until it stops at the Z axis MINIMUM_LIMIT then click the 0 next to the Z axis DRO to <strong>Touch Off</strong> with the Z axis selected to set the Z axis at zero offset. This should not need to be done again.</p></div>
<div class="paragraph"><p>If the user intends to place the material in the exact same place on the table every time, the user could jog the X and Y axes to the machine to the corresponding X0 Y0 position as established by the CAM software and then <strong>Touch Off</strong> both axes with a zero offset.</p></div>
<div class="paragraph"><p>If the user intends to place the material randomly on the table then the user must <strong>Touch Off</strong> the X and Y axes at the appropriate position before starting the program.</p></div>
</div>
<div class="sect2">
<h3 id="_cut_feed_rate">9.5. Cut Feed Rate</h3>
<div class="paragraph"><p>QtPlasmaC is able to read a material file to load all the required cut paramaters. To enable to G-Code file to use the cut feed rate setting from the cut parameters use the following code in the G-Code file:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>F#&lt;_hal[plasmac.cut-feed-rate]&gt;</code></pre>
</div></div>
<div class="paragraph"><p>It is possible to use the standard G-Code <strong>F</strong> word to set the cut feed rate as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>F 1000</code></pre>
</div></div>
<div class="paragraph"><p>If the <strong>F</strong> word is used and the <strong>F</strong> word value does not match the cut feed rate of the selected material then a warning dialog will indicate this during loading of the G-Code file.</p></div>
</div>
<div class="sect2">
<h3 id="qt_material-handling">9.6. Material File</h3>
<div class="paragraph"><p>Material handling uses a material file that was created for the machine configuration when the configuration wizard was ran and allows the user to conveniently store known material settings for easy recall either manually or automatically via G-Code. The resulting <a href="qtplasmac.html#qt_material-file">material file</a> is named <strong>&lt;machine_name&gt;_material.cfg</strong>.</p></div>
<div class="paragraph"><p>QtPlasmaC does not require the use of a material file. Instead, the user could change the cut parameters manually from the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>. It is also not required to use the automatic material changes. If the user does not wish to use this feature they can simply omit the material change codes from the G-Code file.</p></div>
<div class="paragraph"><p>It is also possible to not use the material file and <a href="qtplasmac.html#qt_magic-comments">automatically load materials</a> from within the G-Code file.</p></div>
<div class="paragraph" id="qt_material-file"><p>Material numbers in the materials file do not need to be consecutive nor do they need to be in numerical order.</p></div>
<div class="paragraph"><p>The following variables are mandatory and an error message will appear if any are not found when the material file is loaded.</p></div>
<div class="ulist"><ul>
<li>
<p>
PIERCE_HEIGHT
</p>
</li>
<li>
<p>
PIERCE_DELAY
</p>
</li>
<li>
<p>
CUT_HEIGHT
</p>
</li>
<li>
<p>
CUT_SPEED
</p>
</li>
</ul></div>
<div class="paragraph"><p>The following variables are optional. If they are not detected or have no value assigned, they will be assigned a value of 0 and no error message will appear.</p></div>
<div class="ulist"><ul>
<li>
<p>
NAME
</p>
</li>
<li>
<p>
KERF_WIDTH
</p>
</li>
<li>
<p>
THC
</p>
</li>
<li>
<p>
PUDDLE_JUMP_HEIGHT
</p>
</li>
<li>
<p>
PUDDLE_JUMP_DELAY
</p>
</li>
<li>
<p>
CUT_AMPS
</p>
</li>
<li>
<p>
CUT_VOLTS
</p>
</li>
<li>
<p>
PAUSE_AT_END
</p>
</li>
<li>
<p>
GAS_PRESSURE
</p>
</li>
<li>
<p>
CUT_MODE
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Material numbers 1000000 and above are reserved for temporary materials.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">It is the responsibility of the operator to ensure that the variables are included if they are a requirement for the G-Code to be run.</td>
</tr></table>
</div>
<div class="paragraph"><p>The material file uses the following format:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>[MATERIAL_NUMBER_1]
NAME                = name
KERF_WIDTH          = value
THC                 = value (0 = off, 1 = on)
PIERCE_HEIGHT       = value
PIERCE_DELAY        = value
PUDDLE_JUMP_HEIGHT  = value
PUDDLE_JUMP_DELAY   = value
CUT_HEIGHT          = value
CUT_SPEED           = value
CUT_AMPS            = value (for info only unless PowerMax communications is enabled)
CUT_VOLTS           = value (modes 0 &amp; 1 only, if not using auto voltage sampling)
PAUSE_AT_END        = value
GAS_PRESSURE        = value (only used for PowerMax communications)
CUT_MODE            = value (only used for PowerMax communications)</code></pre>
</div></div>
<div class="paragraph"><p>It is possible to add new material, delete material, or edit existing material from the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS tab.</a> It is also possible to achieve this by using <a href="qtplasmac.html#qt_magic-comments">magic comments</a> in a g-Code file.</p></div>
<div class="paragraph"><p>The material file may be edited with a text editor while LinuxCNC is running. After any changes have been saved, press <strong>Reload</strong> in the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> to reload the material file.</p></div>
</div>
<div class="sect2">
<h3 id="_manual_material_handling">9.7. Manual Material Handling</h3>
<div class="paragraph"><p>For manual material handling, the user would manually select the material from the materials list in the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> before starting the G-Code program. In addition to selecting materials with materials list in the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>, the user could use the MDI to change materials with the following command:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>M190 Pn</code></pre>
</div></div>
<div class="paragraph"><p>The following code is the minimum code necessary to have a successful cut using the manual material selection method:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>F#&lt;_hal[plasmac.cut-feed-rate]&gt;
M3 $0 S1
.
.
M5 $0</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Manual material handling will restrict the user to only one material for the entire job.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_automatic_material_handling">9.8. Automatic Material Handling</h3>
<div class="paragraph"><p>For automatic material handling, the user would add commands to their G-Code file which will enable QtPlasmaC to change the material automatically.</p></div>
<div class="paragraph"><p>The following codes may be used to allow QtPlasmaC to automatically change materials:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>M190 Pn</strong> - Changes the currently displayed material to material number n.
</p>
</li>
<li>
<p>
<strong>M66 P3 L3 Q1</strong> - Adds a small delay (1 second in this example) to wait for QtPlasmaC to confirm that it successfully changed materials.
</p>
</li>
<li>
<p>
<strong>F#&lt;_hal[plasmac.cut-feed-rate]&gt;</strong> - Sets the cut feed rate to the feed rate shown in the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>For automatic material handling, the codes MUST be applied in the order shown. If a G-Code program is loaded which contains one or more material change commands then the first material will be displayed in the top header of the PREVIEW WINDOW on the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a> as the program is loading. The following code is the minimum code necessary to have a successful cut using the automatic material selection method:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>M190 Pn
M66 P3 L3 Q1
F#&lt;_hal[plasmac.cut-feed-rate]&gt;
M3 $0 S1
.
.
M5 $0</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="qt_magic-comments">9.9. Material Addition Via Magic Comments In G-Code</h3>
<div class="paragraph"><p>By using "magic comments" in a G-Code file it is possible to do the following:</p></div>
<div class="ulist"><ul>
<li>
<p>
Add new materials to the &lt;machine_name&gt;_material.cfg file.
</p>
</li>
<li>
<p>
Edit existing materials in the &lt;machine_name&gt;_material.cfg file.
</p>
</li>
<li>
<p>
Use one or more temporary materials.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Temporary materials are numbered automatically by QtPlasmaC and the material change will also be done by QtPlasmaC and should not be added to the G-Code file by CAM software or otherwise. The material numbers begin at 1000000 and are incremented for each temporary material. It is not possible to save a temporary material, however the user could create a new material while a temporary material is displayed and it will use the settings from the temporary material as the defaults.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">It is possible to use temporary materials only and have an empty &lt;machine_name&gt;_material.cfg file. This negates the need to keep the QtPlasmaC materials file updated with the CAM tool file.</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
The entire comment must be in parentheses.
</p>
</li>
<li>
<p>
The beginning of the magic comment must be: <strong>(o=</strong>
</p>
</li>
<li>
<p>
The equals sign must immediately follow each parameter with no space.
</p>
</li>
<li>
<p>
The mandatory parameters must be in the magic comment (for option 0, <strong>na</strong> is optional and <strong>nu</strong> is not used).
</p>
</li>
<li>
<p>
There can be any number and type of magic comments in a G-Code file.
</p>
</li>
<li>
<p>
If option 0 is to be used in addition to option 1 and/or option 2 then all option 0 must appear after all option 1 or all option 2 in the G-Code file.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The options are:</p></div>
<div class="tableblock">
<table rules="all"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="12%" />
<col width="87%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Option</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Creates a temporary default material.<br />
     Material information added with this option will be discarded by a LinuxCNC restart or materials reload. They may also be overwritten by a new G-Code file that has temporary materials.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Adds a new material if the number specified does not exist.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table">Overwrites an existing material if the number specified exists.<br />
     Adds a new material if the number specified does not exist.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Mandatory parameters are:</p></div>
<div class="tableblock">
<table rules="all"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="12%" />
<col width="87%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">o</p></td>
<td align="left" valign="top"><p class="table">Selects the option to be used.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">nu</p></td>
<td align="left" valign="top"><p class="table">Sets the material number (not used for option 0).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">na</p></td>
<td align="left" valign="top"><p class="table">Sets the material name (optional for option 0).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">ph</p></td>
<td align="left" valign="top"><p class="table">Sets the pierce height.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">pd</p></td>
<td align="left" valign="top"><p class="table">Sets the pierce delay.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">ch</p></td>
<td align="left" valign="top"><p class="table">Sets the cut height.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">fr</p></td>
<td align="left" valign="top"><p class="table">Sets the feed rate.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Optional parameters are:</p></div>
<div class="tableblock">
<table rules="all"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="12%" />
<col width="87%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">kw</p></td>
<td align="left" valign="top"><p class="table">Sets the kerf width.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">th</p></td>
<td align="left" valign="top"><p class="table">Sets the THC status (0=disabled, 1=enabled).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">ca</p></td>
<td align="left" valign="top"><p class="table">Sets the cut amps.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">cv</p></td>
<td align="left" valign="top"><p class="table">Sets the cut voltage.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">pe</p></td>
<td align="left" valign="top"><p class="table">Sets the pause at end delay.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">gp</p></td>
<td align="left" valign="top"><p class="table">Sets the gas pressure (PowerMax).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">cm</p></td>
<td align="left" valign="top"><p class="table">Sets the cut mode (PowerMax).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">jh</p></td>
<td align="left" valign="top"><p class="table">Sets the puddle jump height.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">jd</p></td>
<td align="left" valign="top"><p class="table">Sets the puddle jump delay.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>A complete example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>(o=1, nu=2, na=5mm Mild Steel 40A, ph=3.1, pd=0.1, ch=0.75, fr=3000, kw=0.5, th=1, ca=45, cv=110, pe=0.1, gp=5, cm=1, jh=0, jd=0)</code></pre>
</div></div>
<div class="paragraph"><p>If a temporary material has been specified in a G-Code file then the material change line (M190&#8230;) and wait for change line (M66&#8230;) will be added by the G-Code filter and are not required in the G-Code file.</p></div>
</div>
<div class="sect2">
<h3 id="_material_converter">9.10. Material Converter</h3>
<div class="paragraph"><p>This application is used to convert existing tool tables into QtPlasmaC material files. It can also create a material file from manual user input to entry fields.</p></div>
<div class="paragraph"><p>At this stage the only conversions available are for tool tables exported from either SheetCam or Fusion 360.</p></div>
<div class="paragraph"><p>SheetCam tool tables are complete and the conversion is fully automatic. The SheetCam tool file must be in the SheetCam .tools format.</p></div>
<div class="paragraph"><p>Fusion 360 tool tables do not have all of the required fields so the user will be prompted for missing parameters. The Fusion 360 tool file must be in the Fusion 360 .json format.</p></div>
<div class="paragraph"><p>If the user has a format from a different CAM software they would like converted, create a <strong>New Topic</strong> in the <a href="https://forum.linuxcnc.org/plasmac">PlasmaC forum</a> section of the <a href="https://forum.linuxcnc.org/">LinuxCNC forum</a> to request this addition.</p></div>
<div class="paragraph"><p>Material Converter may be run from a terminal using one of the two following methods.</p></div>
<div class="paragraph"><p>For a package installation (Buildbot) enter the following command in a terminal window:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>qtplasmac-materials</code></pre>
</div></div>
<div class="paragraph"><p>For a run in place installation enter the following two commands in a terminal window:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>source ~/linuxcnc-dev/scripts/rip-environment
qtplasmac-materials</code></pre>
</div></div>
<div class="paragraph"><p>This will bring up the Material Converter Main dialog box with Manual selected as the default.</p></div>
<div class="paragraph"><p>Select one of:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Manual</strong> - to manually create a new material file.
</p>
</li>
</ul></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_material_main_manual.png" alt="images/qtplasmac_material_main_manual.png" width="350" />
</div>
</div>
<div class="ulist"><ul>
<li>
<p>
<strong>SheetCam</strong> - to convert a SheetCam tool file.
</p>
</li>
</ul></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_material_main_sheetcam.png" alt="images/qtplasmac_material_main_sheetcam.png" width="350" />
</div>
</div>
<div class="paragraph"><p>For SheetCam only, select whether the user requires a metric or imperial output file.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Fusion 360</strong> - to convert a Fusion 360 tool file.
</p>
</li>
</ul></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_material_main_fusion360.png" alt="images/qtplasmac_material_main_fusion360.png" width="350" />
</div>
</div>
<div class="paragraph"><p>To convert:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Select the Input File to be converted, press <strong>INPUT</strong> to bring up a file selector or directly enter the file in the entry box.
</p>
</li>
<li>
<p>
Select the Output File to write to, press <strong>OUTPUT</strong> to bring up a file selector or directly enter the file in the entry box. This would normally be ~/linuxcnc/configs/&lt;machine_name&gt;_material.cfg. If necessary, the user could select a different file and hand edit the &lt;machine_name&gt;_material.cfg file.
</p>
</li>
<li>
<p>
Click <strong>CREATE/CONVERT</strong> and the new material file will be created.
</p>
</li>
</ol></div>
<div class="paragraph"><p>For both a Manual creation or a Fusion 360 conversion, a dialog box will show with all available parameters displayed for input. Any entry marked with *** is mandatory and all other entries are optional depending on the user&#8217;s configuration needs.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_material_manual_dialog.png" alt="images/qtplasmac_material_manual_dialog.png" width="150" />
</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If the user selects ~/linuxcnc/configs/&lt;machine_name&gt;_material.cfg and the file already exists, it will be overwritten.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt_camera">9.11. CAMERA</h3>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_camview.png" alt="images/qtplasmac_camview.png" width="800" />
</div>
</div>
<div class="paragraph"><p>QtPlasmaC has the ability to use a USB camera to set the origin with or without rotation compensation. The CAMERA button will be enabled after the machine is homed.</p></div>
<div class="paragraph"><p>To use this feature, the user must set the camera&#8217;s offset from the torch center by following the procedure described in <a href="qtplasmac.html#peripheral-offsets">Peripheral Offsets</a>.</p></div>
<div class="paragraph"><p>To add or modify the offsets manually, the user could add or edit the following line in the [QTPLASMAC] section:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>CAMERA_TOUCHOFF = Xoffset Yoffset</code></pre>
</div></div>
<div class="paragraph"><p>"offset" is distance from the center line of the torch to the camera&#8217;s cross hairs. Offsets could be specified as x25.4, X25.4, or 25.4.</p></div>
<div class="paragraph"><p><strong>To set the origin with zero rotation:</strong></p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Jog until the cross hairs are on top of the desired origin point.
</p>
</li>
<li>
<p>
Press <strong>MARK EDGE</strong>. The <strong>MARK EDGE</strong> button label will change to <strong>SET ORIGIN</strong> and the <strong>GOTO ORIGIN</strong> button will be disabled.
</p>
</li>
<li>
<p>
Press <strong>SET ORIGIN</strong>. The <strong>SET ORIGIN</strong> button label will change to <strong>MARK EDGE</strong> and the <strong>GOTO ORIGIN</strong> button will be enabled.
</p>
</li>
<li>
<p>
The torch will now move to the X0 Y0 position.
</p>
</li>
<li>
<p>
The offset is now successful set.
</p>
</li>
</ol></div>
<div class="paragraph"><p><strong>To set the origin with rotation:</strong></p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Jog until the cross hairs are at the edge of the material a suitable distance away from the desired origin point.
</p>
</li>
<li>
<p>
Press <strong>MARK EDGE</strong>. The <strong>MARK EDGE</strong> button label will change to <strong>SET ORIGIN</strong> and the <strong>GOTO ORIGIN</strong> button will be disabled.
</p>
</li>
<li>
<p>
Jog until the cross hairs are at the origin point of the material.
</p>
</li>
<li>
<p>
Press <strong>SET ORIGIN</strong>. The <strong>SET ORIGIN</strong> button label will change to <strong>MARK EDGE</strong> and the <strong>GOTO ORIGIN</strong> button will be enabled.
</p>
</li>
<li>
<p>
The torch will now move to the X0 Y0 position.
</p>
</li>
<li>
<p>
The offset is now successfully set.
</p>
</li>
</ol></div>
<div class="paragraph"><p>In the CAMVIEW panel, the mouse can affect the cross hairs and the zoom level as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
Mouse Wheel Scroll - Change cross hair diameter.
</p>
</li>
<li>
<p>
Mouse Wheel Button Double Click - Restores cross hair diameter to default.
</p>
</li>
<li>
<p>
Mouse Left Button Clicked + Wheel Scroll - Changes camera zoom level.
</p>
</li>
<li>
<p>
Mouse Left Button Clicked + Wheel Button Double Click - Restores default camera zoom level.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="qt_laser">9.12. LASER</h3>
<div class="paragraph"><p>QtPlasmaC has the ability to use a laser to set the origin with or without rotation compensation. The LASER button will be enabled after the machine is homed.</p></div>
<div class="paragraph"><p>To use this feature, the user must set the laser&#8217;s offset from the torch center by following the procedure described in <a href="qtplasmac.html#peripheral-offsets">Peripheral Offsets</a>.</p></div>
<div class="paragraph"><p>To add or modify the offsets manually, the user could add or edit the following line in the [QTPLASMAC] section:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>LASER_TOUCHOFF = Xoffset Yoffset</code></pre>
</div></div>
<div class="paragraph"><p>"offset" is distance from the center line of the torch to the camera&#8217;s cross hairs. Offsets could be specified as x25.4, X25.4, or 25.4.</p></div>
<div class="paragraph"><p>Additionally, the laser can be tied to any available output to turn the laser on and off via a HAL pin with the following name:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>qtplasmac.laser_on</code></pre>
</div></div>
<div class="paragraph"><p><strong>To set the origin with zero rotation:</strong></p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Click the <strong>LASER</strong> button.
</p>
</li>
<li>
<p>
<strong>LASER</strong> button label will change to <strong>MARK EDGE</strong> and the HAL pin named qtplasmac.laser_on will be turned on.
</p>
</li>
<li>
<p>
Jog until the laser cross hairs are on top of the desired origin point.
</p>
</li>
<li>
<p>
Press <strong>MARK EDGE</strong>. The <strong>MARK EDGE</strong> button label will change to <strong>SET ORIGIN</strong>.
</p>
</li>
<li>
<p>
Press <strong>SET ORIGIN</strong>. The <strong>SET ORIGIN</strong> button label will change to <strong>MARK EDGE</strong> and the HAL pin named qtplasmac.laser_on will be turned off.
</p>
</li>
<li>
<p>
The torch will now move to the X0 Y0 position.
</p>
</li>
<li>
<p>
The offset is now successful set.
</p>
</li>
</ol></div>
<div class="paragraph"><p><strong>To set the origin with rotation:</strong></p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Click the <strong>LASER</strong> button.
</p>
</li>
<li>
<p>
<strong>LASER</strong> button label will change to <strong>MARK EDGE</strong> and the HAL pin named qtplasmac.laser_on will be turned on.
</p>
</li>
<li>
<p>
Jog until the laser cross hairs are at the edge of the material a suitable distance away from the desired origin point.
</p>
</li>
<li>
<p>
Press <strong>MARK EDGE</strong>. The <strong>MARK EDGE</strong> button label will change to <strong>SET ORIGIN</strong>.
</p>
</li>
<li>
<p>
Jog until the laser cross hairs are at the origin point of the material.
</p>
</li>
<li>
<p>
Press <strong>SET ORIGIN</strong>. The <strong>SET ORIGIN</strong> button label will change to <strong>MARK EDGE</strong> and the HAL pin named qtplasmac.laser_on will be turned off.
</p>
</li>
<li>
<p>
The torch will now move to the X0 Y0 position.
</p>
</li>
<li>
<p>
The offset is now successfully set.
</p>
</li>
</ol></div>
<div class="paragraph"><p><strong>To turn the laser off and cancel an alignment:</strong></p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Press the <strong>LASER</strong> button and hold for longer than 750 mSec.
</p>
</li>
<li>
<p>
<strong>LASER</strong> button label will change to <strong>LASER</strong> and the HAL pin named qtplasmac.laser_on will be turned off.
</p>
</li>
<li>
<p>
Release the <strong>LASER</strong> button.
</p>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="qt_path-tolerance">9.13. Path Tolerance</h3>
<div class="paragraph"><p>The provided <a href="qtplasmac.html#qt_rs274">RS274NGC_STARTUP_CODE</a> files: metric_startup.ngc and imperial_startup.ngc set the motion blending path tolerance with a G64 command P value to 0.1mm and 0.004" respectively. The P value corresponds to the amount the actual cut path followed by the machine may deviated from the programmed cut path before reducing velocity. If LinuxCNC (QtPlasmaC) receives an E-stop signal at any stage, the path tolerance will be set to the default (no P value) which will maintain the best possible speed and round corners off as a result. To prevent this, it is recommended that the path tolerance is set by placing the appropriate G64 command and P value in the header of each G-Code file.</p></div>
<div class="paragraph"><p>For Metric:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>G64 P0.1</code></pre>
</div></div>
<div class="paragraph"><p>For Imperial:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>G64 P0.004</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="qt_paused-motion">9.14. Paused Motion</h3>
<div class="paragraph"><p>QtPlasmaC has the ability to allow the repositioning of the X and Y axes along the current cut path while the G-Code program is paused.</p></div>
<div class="paragraph"><p>In order to use this feature, LinuxCNC&#8217;s Adaptive Feed Control (M52) must be turned on (P1).</p></div>
<div class="paragraph"><p>To enable <strong>Paused Motion</strong> The preamble of the G-Code must contain the following line:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>M52 P1</code></pre>
</div></div>
<div class="paragraph"><p>To turn off <strong>Paused Motion</strong> at any point, use the following command:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>M52 P0</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="qt_pause-at-end">9.15. Pause At End Of Cut</h3>
<div class="paragraph"><p>This feature can be used to allow the arc to "catch up" to the torch position to fully finish the cut. It is usually required for thicker materials and is especially useful when cutting stainless steel.</p></div>
<div class="paragraph"><p>Using this feature will cause all motion to pause at the end of the cut while the torch is still on. After the dwell time (in seconds) set by the <strong>Pause At End</strong> parameter in the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> has expired, QtPlasmaC will proceed with the M5 command to turn off and raise the torch.</p></div>
</div>
<div class="sect2">
<h3 id="qt_multi-tool">9.16. Multiple Tools</h3>
<div class="paragraph"><p>QtPlasmaC has the ability to allow the use of more than one type of plasma tool by utilizing LinuxCNC spindles as a plasma tool when running a G-Code program.</p></div>
<div class="paragraph"><p>Valid plasma tools for use are:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="13%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>TOOL #</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Plasma Torch</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Used for normal Plasma cutting.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Scribe</p></td>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Used for material engraving.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Plasma Torch</p></td>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table">Used for spotting (creating dimples to aid in drilling).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>A LinuxCNC spindle number (designated by $n) is required to be in the starting command and also the end command to be able to start and stop the correct plasma tool. Examples:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>M3 $0 S1</strong> will select and start the plasma cutting tool.
</p>
</li>
<li>
<p>
<strong>M3 $1 S1</strong> will select and start the scribe.
</p>
</li>
<li>
<p>
<strong>M3 $2 S1</strong> will select and start the plasma spotting tool.
</p>
</li>
<li>
<p>
<strong>M5 $0</strong> will stop the plasma cutting tool.
</p>
</li>
<li>
<p>
<strong>M5 $1</strong> will stop the scribe.
</p>
</li>
<li>
<p>
<strong>M5 $2</strong> will stop the plasma spotting tool.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is permissible to use <strong>M5 $-1</strong> in lieu of the M5 $n codes above to stop all tools.</p></div>
<div class="paragraph"><p>In order to use a scribe, it is necessary for the user to add the X and Y axis offsets to the LinuxCNC tool table. Tool 0 is assigned to the Plasma Torch and Tool 1 is assigned to the scribe. Tools are selected with a <strong>Tn M6</strong> command, and then a <strong>G43 H0</strong> command is required to apply the offsets for the selected tool. It is important to note that the LinuxCNC tool table and tool commands only come into play if the user is using a <a href="qtplasmac.html#qt_scribe">scribe</a> in addition to a plasma torch. For more information, see <a href="qtplasmac.html#qt_scribe">scribe</a>.</p></div>
</div>
<div class="sect2">
<h3 id="qt_velocity-reduction">9.17. Velocity Reduction</h3>
<div class="paragraph"><p>There is a HAL pin available named <strong>motion.analog-out-03</strong> that can be changed in G-Code with the <strong>M67 (Synchronized with Motion)/M68 (Immediate)</strong> commands. This pin will reduce the velocity to the percentage specified in the command.</p></div>
<div class="paragraph"><p>It is important to thoroughly understand the difference between <strong>Synchronized with Motion</strong> and <strong>Immediate</strong>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>M67</strong> (Synchronized with Motion) - The actual change of the specified output (P2 (THC) for example) will happen at the beginning of the next motion command. If there is no subsequent motion command, the output changes will not occur. It is best practice to program a motion code (G0 or G1 for example) right after a M67.
</p>
</li>
<li>
<p>
<strong>M68</strong> (Immediate) - These commands happen immediately as they are received by the motion controller. Since these are not synchronized with motion, they will break blending. This means if these codes are used in the middle of active motion codes, the motion will pause to activate these commands.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Examples:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>M67 E3 Q0</strong> would set the velocity to 100% of <strong>CutFeedRate</strong>.
</p>
</li>
<li>
<p>
<strong>M67 E3 Q40</strong> would set the velocity to 40% of <strong>CutFeedRate</strong>.
</p>
</li>
<li>
<p>
<strong>M67 E3 Q60</strong> would set the velocity to 60% of <strong>CutFeedRate</strong>.
</p>
</li>
<li>
<p>
<strong>M67 E3 Q100</strong> would set the velocity to 100% of <strong>CutFeedRate</strong>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The minimum percentage allowed is 10%, values below this will be set to 10%.</p></div>
<div class="paragraph"><p>The maximum percentage allowed is 100%, values above this will be set to 100%.</p></div>
<div class="paragraph"><p>If the user intends to use this feature it would be prudent to add <strong>M68 E3 Q0</strong> to both the preamble and postamble of the G-Code program so the machine starts and ends in a known state.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content"><strong>G-CODE THC</strong> AND <strong>VELOCITY BASED THC</strong> ARE NOT ABLE TO BE USED IF <strong>CUTTER COMPENSATION</strong> IS IN EFFECT; AN ERROR MESSAGE WILL BE DISPLAYED.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">If Cut Feed Rate in the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> is set to Zero then QtPlasmaC will use <strong>motion.requested-velocity</strong> (as set by a standard Feedrate call in the G-Code) for the THC calculations. This is not recommended as it is not a reliable way of implementing velocity based THC.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">All references to CutFeedRate refer to the <strong>Cut Feed Rate</strong> value displayed in the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt_thc">9.18. THC (Torch Height Controller)</h3>
<div class="paragraph"><p>The THC can be enabled or disabled from the THC frame of the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a>.</p></div>
<div class="paragraph"><p>The THC can also be enabled or disabled directly from the G-Code program.</p></div>
<div class="paragraph"><p>The THC does not become active until the velocity reaches 99.9% of the <strong>CutFeedRate</strong> and then the THC <strong>Delay</strong> time if any in the THC section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> has timed out. This is to allow the arc voltage to stabilize.</p></div>
<div class="paragraph"><p>QtPlasmaC uses a control voltage which is dependent on the state of the <strong>AUTO VOLTS</strong> checkbox on the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a>:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
If <strong>Use Auto Volts</strong> is checked then the actual cut voltage is sampled at the end of the THC <strong>Delay</strong> time and this is used as the target voltage to adjust the height of the torch.
</p>
</li>
<li>
<p>
If <strong>Use Auto Volts</strong> is not checked then the voltage displayed as Cut Volts in the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> is used as the target voltage to adjust the height of the torch.
</p>
</li>
</ol></div>
<div class="paragraph"><p><strong><span class="underline">G-Code THC</span></strong></p></div>
<div class="paragraph"><p>THC may be disabled and enabled directly from G-Code, provided the THC is not disabled in the THC Section of the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a>, by setting or resetting the <strong>motion.digital-out-02</strong> pin with the M-Codes M62-M65:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>M62 P2</strong> will disable THC (Synchronized with Motion)
</p>
</li>
<li>
<p>
<strong>M63 P2</strong> will enable THC (Synchronized with Motion)
</p>
</li>
<li>
<p>
<strong>M64 P2</strong> will disable THC (Immediately)
</p>
</li>
<li>
<p>
<strong>M65 P2</strong> will enable THC (Immediately)
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is important to thoroughly understand the difference between <strong>Synchronized with Motion</strong> and <strong>Immediate</strong>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>M62 and M63</strong> (Synchronized with Motion) - The actual change of the specified output (P2 (THC) for example) will happen at the beginning of the next motion command. If there is no subsequent motion command, the output changes will not occur. It is best practice to program a motion code (G0 or G1 for example) right after a M62 or M63.
</p>
</li>
<li>
<p>
<strong>M64 and M65</strong> (Immediate) - These commands happen immediately as they are received by the motion controller. Since these are not synchronized with motion, they will break blending. This means if these codes are used in the middle of active motion codes, the motion will pause to activate these commands.
</p>
</li>
</ul></div>
<div class="paragraph" id="qt_velocity_thc"><p><strong><span class="underline">Velocity Based THC</span></strong></p></div>
<div class="paragraph"><p>If the cut velocity falls below a percentage of <strong>CutFeedRate</strong> (as defined by the VAD Threshold % value in the THC frame of the CONFIGURATION section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>) the THC will be locked until the cut velocity returns to at least 99.9% of <strong>CutFeedRate</strong>. This will be made apparent by the <strong>THC Velocity Lock</strong> indicator illuminating in the <a href="qtplasmac.html#qt_control-panel">CONTROL Panel</a> on the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a>.</p></div>
<div class="paragraph"><p>Velocity based THC prevents the torch height being changed when velocity is reduced for a sharp corner or a small hole.</p></div>
<div class="paragraph"><p>It is important to note that <a href="qtplasmac.html#qt_velocity-reduction">Velocity Reduction</a> affects the Velocity Based THC in the following ways:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
If Velocity Reduction is invoked in the middle of the cut, the THC will be locked.
</p>
</li>
<li>
<p>
The THC will remain locked until the velocity reduction is canceled by returning it to a value that is above the <strong>VAD Threshold</strong>, and the torch actually reaches 99.9% of the <strong>CutFeedRate</strong>.
</p>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="qt_cutter-compensation">9.19. Cutter Compensation</h3>
<div class="paragraph"><p>LinuxCNC (QtPlasmaC) has the ability to automatically adjust the cut path of the current program by the amount specified in Kerf Width of the selected material&#8217;s Cut Parameters. This is helpful if the G-Code is programmed to the nominal cut path and the user will be running the program on different thickness materials to help ensure consistently sized parts.</p></div>
<div class="paragraph"><p>To use cutter compensation the user will need to use G41.1, G42.1 and G40 with the kerf width HAL pin:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>G41.1 D#&lt;_hal[plasmac_run.kerf-width-f]&gt;</strong> : offsets torch to the left of the programmed path
</p>
</li>
<li>
<p>
<strong>G42.1 D#&lt;_hal[plasmac_run.kerf-width-f]&gt;</strong> : offsets torch to the right of the programmed path
</p>
</li>
<li>
<p>
<strong>G40</strong> turns the cutter compensation off
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">IF <strong>CUTTER COMPENSATION</strong> IS IN EFFECT <strong>G-CODE THC</strong>, <strong>VELOCITY BASED THC</strong> AND <strong>OVERCUT</strong> ARE NOT ABLE TO BE USED; AN ERROR MESSAGE WILL BE DISPLAYED.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt_ihs-skip">9.20. Initial Height Sense (IHS) Skip</h3>
<div class="paragraph"><p>IHS may be skipped in one of two different ways:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
If the THC is disabled then the IHS skip will occur if the start of the cut is less than <strong>Skip IHS</strong> distance from the last successful probe.
</p>
</li>
<li>
<p>
If the THC is enabled then the IHS skip will occur if the start of the cut is less than <strong>Skip IHS</strong> distance from the end of the last cut.
</p>
</li>
</ol></div>
<div class="paragraph"><p>A value of zero for <strong>Skip IHS</strong> will disable IHS skipping.</p></div>
<div class="paragraph"><p>Any errors encountered during a cut will disable IHS skipping for the next cut if <strong>Skip IHS</strong> is enabled.</p></div>
</div>
<div class="sect2">
<h3 id="qt_probing">9.21. Probing</h3>
<div class="paragraph"><p>Probing may be done with either ohmic sensing or a float switch. It is also possible to combine the two methods, in which case the float switch will provide a fallback to ohmic probing. An alternative to ohmic probing is <a href="qtplasmac.html#qt_offset_probing">Offset Probing</a></p></div>
<div class="paragraph"><p>If the machine&#8217;s torch does not support ohmic probing, the user could have a separate probe next to the torch. In this case the user would extend the probe below the torch. The probe must NOT extend more than the minimum Cut Height below the torch and the Z axis offset distance needs to be entered as the <strong>Ohmic Offset</strong> in the PROBING frame of the CONFIGURATION section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.</p></div>
<div class="paragraph"><p>Probing setup is done in the PROBING frame of the CONFIGURATION section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.</p></div>
<div class="paragraph"><p>QtPlasmaC can probe at the full Z axis velocity so long as the machine has enough movement in the float switch to absorb any overrun. If the machine&#8217;s float switch travel is suitable, the user could set the Probe Height to near the Z axis MINIMUM_LIMIT and do all probing at full speed.</p></div>
<div class="paragraph"><p>Some float switches can exhibit a large switching hysteresis which shows up in the probing sequence as an excessive time to complete the final probe up.</p></div>
<div class="ulist"><ul>
<li>
<p>
This time may be decreased by changing the speed of the final probe up.
</p>
</li>
<li>
<p>
This speed defaults to 0.001mm (0.000039") per servo cycle.
</p>
</li>
<li>
<p>
It is possible to increase this speed by up to a factor of 10 by adding the following line to the custom.hal file:
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>setp plasmac.probe-final-speed n</code></pre>
</div></div>
<div class="paragraph"><p>where n is a value from 1-10. It is recommended to keep this value as low as possible.</p></div>
<div class="paragraph"><p>Using this feature will change the final height slightly and will require thorough probe testing to confirm the final height.</p></div>
<div class="paragraph"><p>This speed value affects ALL probing so if the user uses ohmic probing and the user changes this speed value then the user will need to probe test to set the require offset to compensate for this speed change as well as the float travel.</p></div>
<div class="paragraph"><p>The reliability of this feature will only be as good as the repeatability of the float switch.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Probe Height refers to the height above the Z axis MINIMUM_LIMIT.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt_offset_probing">9.22. Offset Probing</h3>
<div class="paragraph"><p>Offset Probing is the use of a probe that is offset from the torch. This method is an alternative to Ohmic Probing and uses the plasmac.ohmic-enable output pin to operate a solenoid for extending and retracting the probe. The plasmac.ohmic-probe input pin is used to detect the material and the <strong>Ohmic Offset</strong> in the PROBING frame of the CONFIGURATION section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> is used to set the correct measured height.</p></div>
<div class="paragraph"><p>The probe could be a mechanically deployed probe, a permanently mounted proximity sensor or even simply a stiff piece of wire extending about 0.5mm below the torch tip. If the probe is mechanically deployed then it needs to extend/retract rather quickly to avoid excessive probing times and would commonly be pneumatically operated.</p></div>
<div class="paragraph"><p>To use this feature, the user must set the probes&#8217;s offset from the torch center by following the procedure described in <a href="qtplasmac.html#peripheral-offsets">Peripheral Offsets</a>.</p></div>
<div class="paragraph"><p>To add or modify the offsets manually, the user could add or edit the following line in the [QTPLASMAC] section:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>OFFSET_PROBING = Xn.n  Yn.n t.t</code></pre>
</div></div>
<div class="paragraph"><p>where n.n is the offset of the probe from the torch center in machine units for the X and Y axes and t.t is the time in seconds to allow for any mechanical deployment of the probe if required.</p></div>
<div class="paragraph"><p>Each of these parameters is optional and also may appear in any order. If a parameter is not detected then the default is 0.0. There can be no space after the X or Z, lower case is permissible.</p></div>
<div class="paragraph"><p>When this variable appears in the INI file with either X or Y not equal to zero then QtPlasmaC will do <strong>all</strong> Ohmic Probing as Offset Probing. When a probe sequence has begun, the plasmac.ohmic-enable pin will be set True causing the probe to extend. When the material is detected the plasmac.ohmic-enable pin will be reset to false causing the probe to retract.</p></div>
<div class="paragraph"><p>The probe will begin moving to the offset position simultaneously with the Z axis moving down to the Probe Height, probing will not commence unless the deployment timer has completed. It is required that the <strong>Probe Height</strong> in the PROBING frame of the CONFIGURATION section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> is above the top of the material to ensure that the probe is fully offset to the correct X/Y position before the final vertical probe down movement.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">PROBE HEIGHT NEEDS TO BE SET ABOVE THE TOP OF THE MATERIAL FOR OFFSET PROBING</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt_cut-types">9.23. Cut Types</h3>
<div class="paragraph"><p>QtPlasmaC allows two different cut modes:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<strong>NORMAL CUT</strong> - runs the loaded G-Code program to pierce then cut.
</p>
</li>
<li>
<p>
<strong>PIERCE ONLY</strong> - converts the loaded G-Code program and then runs the program to pierce the material at the <strong>M3 S1</strong> or <strong>M3 $0 S1</strong> command positions only. Scribe (<strong>M3 $1 S1</strong>) and Spotting (<strong>M3 $2 S1</strong>) commands will be ignored and no pierce will take place in those locations.
</p>
</li>
</ol></div>
<div class="paragraph"><p><strong>Pierce Only</strong> mode is useful for thick materials which may produce enough dross on the material surface from piercing to interfere with the torch while cutting. This enables the entire sheet to be pierced and cleaned off before cutting.</p></div>
<div class="paragraph"><p>This also enables near-end-of-life consumables to be used for piercing and then they can be swapped out for good consumables to be used while cutting.</p></div>
<div class="paragraph"><p>There are two ways of enabling this feature:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Utilize the default <a href="qtplasmac.html#qt_button-cut">custom user button</a> to toggle between the cut types.
</p>
</li>
<li>
<p>
Adding the following line to the G-Code program before the first cut to enable <strong>Pierce Only</strong> mode for the current file:
</p>
</li>
</ol></div>
<div class="listingblock">
<div class="content">
<pre><code>#&lt;pierce-only&gt; = 1</code></pre>
</div></div>
<div class="paragraph"><p>If using a custom user button is utilized then QtPlasmaC will automatically reload the file when the cut type is toggled.</p></div>
</div>
<div class="sect2">
<h3 id="_hole_cutting_intro">9.24. Hole Cutting - Intro</h3>
<div class="paragraph"><p>It is recommended that any holes to be cut have a diameter no less than one and a half times the thickness of the material to be cut.</p></div>
<div class="paragraph"><p>It is also recommended that holes with a diameter of less than 32mm (1.26") are cut at 60% of the feed rate used for profile cuts. This should also lock out THC due to velocity constraints.</p></div>
<div class="paragraph"><p>QtPlasmaC can utilize G-Code commands usually set by a CAM Post Processor (PP) to aid in hole cutting or if the user does not have a PP or the user&#8217;s PP does not support these methods then QtPlasmaC can automatically adapt the G-Code to suit. This automatic mode is disabled by default.</p></div>
<div class="paragraph"><p>There are three methods available for improving the quality of small holes:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<strong>Velocity Reduction</strong> - <a href="qtplasmac.html#qt_hole-cutting-velocity-reduction">Reducing the velocity</a> to approximately 60% of the <strong>CutFeedRate</strong>.
</p>
</li>
<li>
<p>
<strong>Arc Dwell (<a href="qtplasmac.html#qt_pause-at-end">Pause At End</a>)</strong> - Keeping the torch on for a short time at the end of the hole while motion is stopped to allow the arc to catch up.
</p>
</li>
<li>
<p>
<strong>Overcut</strong> - Turning the torch off at the end of the hole then continue along the path.
</p>
</li>
</ol></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If both <strong>Arc Dwell</strong> and <strong>Overcut</strong> are active at the same time then <strong>Overcut</strong> will take precedence.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content"><strong>OVERCUT</strong> IS NOT ABLE TO BE USED IF CUTTER COMPENSATION IS IN EFFECT; AN ERROR MESSAGE WILL BE DISPLAYED.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_hole_cutting">9.25. Hole Cutting</h3>
<div class="paragraph"><p>G-Code commands can be set up by either by a CAM Post Processor (PP) or by hand coding.</p></div>
<div class="paragraph" id="qt_hole-cutting-velocity-reduction"><p><strong><span class="underline">Hole Cutting Velocity Reduction</span></strong></p></div>
<div class="paragraph"><p>If cutting a hole requires a reduced velocity then the user would use the following command to set the velocity: <strong>M67 E3 Qnn</strong> where nn is the percentage of the velocity desired. For example, <strong>M67 E3 Q60</strong> would set the velocity to 60% of the current material&#8217;s <strong>CutFeedRate</strong>.</p></div>
<div class="paragraph"><p>See the <a href="qtplasmac.html#qt_velocity_thc">Velocity Based THC</a> section.</p></div>
<div class="paragraph"><p>Sample code:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>G21 (metric)
G64 P0.005
M52 P1 (allow paused motion)
F#&lt;_hal[plasmac.cut-feed-rate]&gt; (feed rate from cut parameters)
G0 X10 Y10
M3 $0 S1 (start cut)
G1 X0
M67 E3 Q60 (reduce feed rate to 60%)
G3 I10 (the hole)
M67 E3 Q0 (restore feed rate to 100%)
M5 $0 (end cut)
G0 X0 Y0
M2 (end job)</code></pre>
</div></div>
<div class="paragraph"><p><strong><span class="underline">Arc Dwell (Pause At End)</span></strong></p></div>
<div class="paragraph"><p>This method can be invoked by setting the <a href="qtplasmac.html#qt_pause-at-end">Pause At End</a> parameter in the MATERIAL frame of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.</p></div>
<div class="paragraph" id="qt_overcut"><p><strong><span class="underline">Overcut</span></strong></p></div>
<div class="paragraph"><p>The torch can be turned off at the end of the hole by setting the <strong>motion.digital-out-03</strong> pin with the M-Codes <strong>M62 (Synchronized with Motion)</strong> or <strong>M64 (Immediate)</strong>. After turning the torch off it is necessary to allow the torch to be turned on again before beginning the next cut by resetting the <strong>motion.digital-out-03</strong> pin with the M-Codes <strong>M63</strong> or <strong>M65</strong>, this will be done automatically by the QtPlasmaC G-Code parser if it reaches an M5 command without seeing a <strong>M63 P3</strong> or <strong>M65 P3</strong>.</p></div>
<div class="paragraph"><p>After the torch is turned off the hole path will be followed for a default length of 4mm (0.157"). This distance may be specified by adding <strong>#&lt;oclength&gt; = n</strong> to the G-Code file.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>M62 P3</strong> will turn the torch off (Synchronized with Motion)
</p>
</li>
<li>
<p>
<strong>M63 P3</strong> will allow the torch to be turned on (Synchronized with Motion)
</p>
</li>
<li>
<p>
<strong>M64 P3</strong> will turn the torch off (Immediately)
</p>
</li>
<li>
<p>
<strong>M65 P3</strong> will allow the torch to be turned on (Immediately)
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is important to thoroughly understand the difference between <strong>Synchronized with motion</strong> and <strong>Immediate</strong>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>M62 and M63</strong> (Synchronized with Motion) - The actual change of the specified output (P2 (THC) for example) will happen at the beginning of the next motion command. If there is no subsequent motion command, the output changes will not occur. It is best practice to program a motion code (G0 or G1 for example) right after a M62 or M63.
</p>
</li>
<li>
<p>
<strong>M64 and M65</strong> (Immediate) - These commands happen immediately as they are received by the motion controller. Since these are not synchronized with motion, they will break blending. This means if these codes are used in the middle of active motion codes, the motion will pause to activate these commands.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Sample code:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>G21 (metric)
G64 P0.005
M52 P1 (allow paused motion)
F#&lt;_hal[plasmac.cut-feed-rate]&gt; (feed rate from cut parameters)
G0 X10 Y10
M3 $0 S1 (start cut)
G1 X0
M67 E3 Q60 (reduce feed rate to 60%)
G3 I10 (the hole)
M62 P3 (turn torch off)
G3 X0.8 Y6.081 I10 (continue motion for 4mm)
M63 P3 (allow torch to be turned on)
M67 E3 Q0 (restore feed rate to 100%)
M5 $0 (end cut)
G0 X0 Y0
M2 (end job)</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="qt_hole-cutting">9.26. Hole Cutting - Automatic</h3>
<div class="paragraph"><p>QtPlasmaC has the ability to automatically modify the G-Code to reduce the velocity and/or apply <strong>Overcut</strong> which can be useful when cutting holes.</p></div>
<div class="paragraph"><p>For valid hole sensing it is required that all values in the G2 or G3 G-Code line are explicit, an error dialog will be dispalyed if any values are mathematically calculated.</p></div>
<div class="paragraph"><p>QtPlasmaC Hole Sensing is disabled by default. It can be enabled/disabled by using the following G-Code parameters to select the desired hole sensing mode:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>#&lt;holes&gt; = 0</strong> - Causes QtPlasmaC to disable hole sensing if it was previously enabled.
</p>
</li>
<li>
<p>
<strong>#&lt;holes&gt; = 1</strong> - Causes QtPlasmaC to reduce the speed of holes less than 32mm (1.26") to 60% of <strong>CutFeedRate</strong>.
</p>
</li>
<li>
<p>
<strong>#&lt;holes&gt; = 2</strong> - Causes QtPlasmaC to <a href="qtplasmac.html#qt_overcut">Overcut</a> the hole in addition to the velocity changes in setting 1.
</p>
</li>
<li>
<p>
<strong>#&lt;holes&gt; = 3</strong> - Causes QtPlasmaC to reduce the speed of holes less than 32mm (1.26") and arcs less than 16mm (0.63") to 60% of <strong>CutFeedRate</strong>.
</p>
</li>
<li>
<p>
<strong>#&lt;holes&gt; = 4</strong> - Causes QtPlasmaC to <a href="qtplasmac.html#qt_overcut">Overcut</a> the hole in addition to the velocity change in setting 3.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The default hole size for QtPlasmaC hole sensing is 32mm (1.26"). It is possible to change this value with the following command in a G-Code file:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>#&lt;h_diameter&gt; = nn</strong> - To set a diameter (nn) in the same units system as the rest of the G-Code file.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The default velocity for QtPlasmaC small holes is 60% of the current feed rate. It is possible to change this value with the following command in a G-Code file:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>#&lt;h_velocity&gt; = nn</strong> - to set the percentage (nn) of the current feed rate required.
</p>
</li>
</ul></div>
<div class="paragraph"><p><strong><span class="underline">Overcut</span></strong></p></div>
<div class="paragraph"><p>If Hole Sensing modes 2 or 4 are active, QtPlasmaC will overcut the hole in addition to the velocity changes associated with modes 1 and 3.</p></div>
<div class="paragraph"><p>The default overcut length for QtPlasmaC hole sensing is 4mm (0.157"). It is possible to change this value with the following command in a G-Code file:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>#&lt;oclength&gt; = nn</strong> to specify an overcut length (nn) in the same units system as the rest of the G-Code file.
</p>
</li>
</ul></div>
<div class="paragraph"><p><strong><span class="underline">Arc Dwell (Pause At End)</span></strong></p></div>
<div class="paragraph"><p>This feature can be used in addition to setting the desired hole sensing mode via the appropriate G-Code parameter by setting the <a href="qtplasmac.html#qt_pause-at-end">Pause At End</a> parameter in the MATERIAL frame of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.</p></div>
<div class="paragraph"><p>Sample code:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>G21 (metric)
G64 P0.005
M52 P1 (allow paused motion)
F#&lt;_hal[plasmac.cut-feed-rate]&gt; (feed rate from cut parameters)
#&lt;holes&gt; = 2 (overcut for holes)
#&lt;oclength&gt; = 6.5 (optional, 6.5mm overcut length)
G0 X10 Y10
M3 $0 S1 (start cut)
G1 X0
G3 I10 (the hole)
M5 $0 (end cut)
G0 X0 Y0
M2 (end job)</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">It is OK to have multiple and mixed hole commands in a single G-Code file.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_single_cut">9.27. Single Cut</h3>
<div class="paragraph"><p>A single cut is a single unidirectional cutting move often used to cut a sheet into smaller pieces prior to running a G-Code program.</p></div>
<div class="paragraph"><p>The machine needs to be homed before commencing a single cut.</p></div>
<div class="paragraph"><p>A single cut will commence from the machine&#8217;s current X/Y position.</p></div>
<div class="paragraph" id="qt_single-cut"><p><strong><span class="underline">Automatic Single Cut</span></strong></p></div>
<div class="paragraph"><p>This is the preferred method. The parameters for this method are entered in the following dialog box that is displayed after pressing a <a href="qtplasmac.html#qt_button-single">user button</a> which has been coded to run single cut:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_single_cut.png" alt="images/qtplasmac_single_cut.png" width="300" />
</div>
</div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Jog to the required X/Y start position.<br />
</p>
</li>
<li>
<p>
Set required appropriate material, or edit the Feed Rate for the default material in the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.<br />
</p>
</li>
<li>
<p>
Press the assigned single cut user button.<br />
</p>
</li>
<li>
<p>
Enter the length of the cut along the X and/or Y axes.<br />
</p>
</li>
<li>
<p>
Press the <strong>CUT</strong> button and the cut will commence.
</p>
</li>
</ol></div>
<div class="paragraph"><p><strong><span class="underline">Pendant Single Cut</span></strong></p></div>
<div class="paragraph"><p>If the machine is equipped with a pendant that can start and stop the spindle plus jog the X and Y axes, the user can manually perform a single cut.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Jog to the required X/Y start position.<br />
</p>
</li>
<li>
<p>
Set the required feed rate with the Jog Speed slider.<br />
</p>
</li>
<li>
<p>
Start the cut process by starting the spindle.<br />
</p>
</li>
<li>
<p>
After probing the torch will fire.<br />
</p>
</li>
<li>
<p>
When the Arc OK is received the machine can be jogged along the cut line using the jog buttons.<br />
</p>
</li>
<li>
<p>
When the cut is complete stop the spindle.<br />
</p>
</li>
<li>
<p>
The torch will turn off and the Z axis will return to the starting position.
</p>
</li>
</ol></div>
<div class="paragraph" id="qt_manual-single-cut"><p><strong><span class="underline">Manual Single Cut</span></strong></p></div>
<div class="paragraph"><p>Manual single cut requires that either <a href="qtplasmac.html#qt_keyboard-shortcuts">keyboard shortcuts</a> are enabled in the GUI SETTINGS section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>, or a custom user button is specified as a <a href="qtplasmac.html#qt_button-mancut">manual cut</a> button.</p></div>
<div class="paragraph"><p>If the user is using a custom user button then substitute <strong>F9</strong> with <strong>User Button</strong> in the following description.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Jog to the required X/Y start position.<br />
</p>
</li>
<li>
<p>
Start the procedure by pressing <strong>F9</strong>. The jog speed will be automatically set to the feed rate of the currently selected material. The jog label will blink to indicate that the jog speed is temporarily being overridden (jog speed manipulation will be disabled while a manual cut is active). <strong>CYCLE START</strong> will change to <strong>MANUAL CUT</strong> and blink.<br />
</p>
</li>
<li>
<p>
After probing the torch will fire.<br />
</p>
</li>
<li>
<p>
When the Arc OK is received the machine can be jogged along the cut line using the jog keys.<br />
</p>
</li>
<li>
<p>
The Z height will remain locked at the cut height for the duration of the manual cut, regardless of the Torch Height Controller <strong>ENABLE</strong> status.
</p>
</li>
<li>
<p>
When the cut is complete press <strong>F9</strong> or <strong>Esc</strong> or the <strong>CYCLE STOP</strong> button.<br />
</p>
</li>
<li>
<p>
The torch will turn off and the Z axis will return to the starting position.<br />
</p>
</li>
<li>
<p>
The jog speed will automatically be returned to the value it was prior to initiating the manual cut process, the label will stop blinking and the jog speed manipulation will be enabled. <strong>MANUAL CUT</strong> will stop blinking and revert to <strong>CYCLE START</strong>.
</p>
</li>
</ol></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If the torch flames out during cutting, the user must still press <strong>F9</strong> or <strong>Esc</strong> or the <strong>CYCLE STOP</strong> button to end the cut. This clears the Z offsets and returns the torch to the starting position.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt_mesh-mode">9.28. Mesh Mode (Expanded Metal Cutting)</h3>
<div class="paragraph"><p>QtPlasmaC is capable of cutting of expand (mesh) metal provided the machine has a pilot arc torch and it is capable of Constant Pilot Arc (CPA) mode.</p></div>
<div class="paragraph"><p><strong>Mesh Mode</strong> disables the THC and also ignores a lost Arc OK signal during a cut. It can be selected by checking the <strong>Mesh Mode</strong> check button in the CONTROL section of the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a>.</p></div>
<div class="paragraph"><p>If the machine has <a href="qtplasmac.html#qt_pm_comms">RS485</a> communications enabled with a Hypertherm PowerMax plasma cutter, selecting <strong>Mesh Mode</strong> will automatically override the <strong>Cut Mode</strong> for the currently selected material and set it to cut mode 2 (CPA). When <strong>Mesh Mode</strong> is disabled, the <strong>Cut Mode</strong> will be return to the default cut mode for the currently selected material.</p></div>
<div class="paragraph"><p>It is also possible to start a <strong>Mesh Mode</strong> cut without receiving an Arc OK signal by checking the <strong>Ignore Arc OK</strong> check button in the CONTROL section of the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a>.</p></div>
<div class="paragraph"><p>Both <strong>Mesh Mode</strong> and <strong>Ignore Arc OK</strong> can be enabled/disabled at any time during a job.</p></div>
</div>
<div class="sect2">
<h3 id="qt_ignore-ok">9.29. Ignore Arc OK</h3>
<div class="paragraph"><p><strong>Ignore Arc OK</strong> mode disables the THC, will begin a cut without requiring an Arc OK signal, and will ignore a lost Arc OK signal during a cut.</p></div>
<div class="paragraph"><p>This mode can be selected by:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Checking the <strong>Ignore Arc OK</strong> check button in the CONTROL section of the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a>.<br />
</p>
</li>
<li>
<p>
Setting HAL pin <strong>motion.digital-out-01</strong> to 1 via G-Code.
</p>
<div class="ulist"><ul>
<li>
<p>
<strong>M62 P1</strong> will enable <strong>Ignore Arc OK</strong> (Synchronized with Motion)
</p>
</li>
<li>
<p>
<strong>M63 P1</strong> will disable <strong>Ignore Arc OK</strong> (Synchronized with Motion)
</p>
</li>
<li>
<p>
<strong>M64 P1</strong> will enable <strong>Ignore Arc OK</strong> (Immediately)
</p>
</li>
<li>
<p>
<strong>M65 P1</strong> will disable <strong>Ignore Arc OK</strong> (Immediately)
</p>
</li>
</ul></div>
</li>
</ol></div>
<div class="paragraph"><p>It is important to thoroughly understand the difference between <strong>Synchronized with motion</strong> and <strong>Immediate</strong>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>M62 and M63</strong> (Synchronized with Motion) - The actual change of the specified output (P2 (THC) for example) will happen at the beginning of the next motion command. If there is no subsequent motion command, the output changes will not occur. It is best practice to program a motion code (G0 or G1 for example) right after a M62 or M63.
</p>
</li>
<li>
<p>
<strong>M64 and M65</strong> (Immediate) - These commands happen immediately as they are received by the motion controller. Since these are not synchronized with motion, they will break blending. This means if these codes are used in the middle of active motion codes, the motion will pause to activate these commands.
</p>
</li>
</ul></div>
<div class="paragraph"><p>This mode may also be used in conjunction with <strong>Mesh Mode</strong> if the user doesn&#8217;t require an Arc OK signal to begin the cut.</p></div>
<div class="paragraph"><p>Both <strong>Mesh Mode</strong> and <strong>Ignore Arc OK</strong> can be enabled/disabled at any time during a job.</p></div>
</div>
<div class="sect2">
<h3 id="qt_cut-recovery">9.30. Cut Recovery</h3>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_cut_recovery.png" alt="images/qtplasmac_cut_recovery.png" width="250" />
</div>
</div>
<div class="paragraph"><p>This feature will produce a CUT RECOVERY panel that will allow the torch to be moved away from the cut path during a <a href="qtplasmac.html#qt_paused-motion">paused motion</a> event in order to position the torch over a scrap portion of the material being cut so that the cut restarts with a minimized arc-divot. The CUT RECOVERY panel will display automatically over top of the JOGGING panel when motion is paused.</p></div>
<div class="paragraph"><p>It is preferable to make torch position adjustments from the point at which paused motion occurred, however if moving along the cut path is necessary prior to setting the new start point, the user may use the paused motion controls (<strong>REV</strong>, <strong>FWD</strong>, and a <strong>JOG-SPEED</strong> slider) at the top of the CUT RECOVERY panel. Once the user is satisfied with the positioning of the torch along the cut path, moving off the cut path is achieved by pressing the <strong>DIRECTION</strong> buttons. Each press of the <strong>DIRECTION</strong> button will move the torch a distance equivalent to the <strong>Kerf Width</strong> parameter of the currently selected material.</p></div>
<div class="paragraph"><p>The moment the torch has been moved off the cut path, the paused motion controls (<strong>REV</strong>, <strong>FWD</strong>, and a <strong>JOG-SPEED</strong> slider) at the top of the CUT RECOVERY panel will become disabled.</p></div>
<div class="paragraph"><p>Once the torch position is satisfactory, press <strong>CYCLE RESUME</strong> and the cut will resume from the new position and travel the shortest distance to the original paused motion location. The CUT RECOVERY panel will close and the JOGGING panel will display when the torch returns to the original paused motion location.</p></div>
<div class="paragraph"><p>Pressing <strong>CANCEL MOVE</strong> (or <strong>CYCLE STOP</strong>) will cause the torch to move back to where it was positioned when the motion became paused and the CUT RECOVERY panel overlay will return to the JOGGING panel.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Cut recovery movements will be limited to a radius of 10mm (0.4") from either the point the program was paused, or from the last point on the cut path if paused motion was used.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt_run-from-line">9.31. Run From Line</h3>
<div class="paragraph"><p>If the user has the Run From Line option enabled in the GUI SETTINGS section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> they will have the ability to start from any line in a G-Code program via the following methods:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Clicking any line in the Preview Window
</p>
</li>
<li>
<p>
Clicking any line in the G-Code Window
</p>
</li>
</ol></div>
<div class="paragraph"><p>Note that the Run From Line function will run from the beginning of the selected line.</p></div>
<div class="paragraph"><p>It is important to note that G-Code programs can be run from any selected line using this method, however a leadin may not be possible depending on the line selected. In this case, an error message will be displayed to let the user know the leadin calculation was not possible.</p></div>
<div class="paragraph"><p>Once the user has selected the starting place, the <strong>CYCLE START</strong> button will blink <strong>"SELECTED nn"</strong> where nn is the corresponding line number selected. Clicking this button will bring up the following Run From Line dialog box:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_run_from_line.png" alt="images/qtplasmac_run_from_line.png" width="350" />
</div>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">USE LEADIN</p></td>
<td align="left" valign="top"><p class="table">This radio button will allow the user to start the selected line with a leadin.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">LEADIN LENGTH</p></td>
<td align="left" valign="top"><p class="table">If USE LEADIN is selected, this will set the length of the lead in the machine units.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">LEADIN ANGLE</p></td>
<td align="left" valign="top"><p class="table">If USE LEADIN is selected, this will set the angle of approach for the leadin.<br />
            The angle is measured such that positive increases in value move the leadin counter-clockwise:<br />
            0 Degrees = 3 o&#8217;clock position<br />
            90 Degrees = 12 o&#8217;clock position<br />
            180 Degrees = 9 o&#8217;clock position<br />
            270 Degrees = 6 o&#8217;clock position</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CANCEL</p></td>
<td align="left" valign="top"><p class="table">This button will cancel the Run From Line dialog box and any selections.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">LOAD</p></td>
<td align="left" valign="top"><p class="table">This button will load a temporary "rfl.ngc" program with any selected leadin parameters applied.<br />
        If the leadin cannot be calculated for the selected line, the following error message will be displayed:<br />
        "Unable to calculate a leadin for this cut<br />
        Program will run from selected line with no leadin applied"</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>After pressing <strong>LOAD</strong>, the blinking "SELECTED nn" button will change to <strong>RUN FROM LINE CYCLE START</strong> button. Click this button to start the program from the beginning of the selected line.</p></div>
<div class="paragraph"><p><strong>Run From Line selections may be canceled in the following ways:</strong></p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Click the background of the preview window - this method will cancel a selection of either a cut line in the preview window, or a G-Code line in the G-Code window.
</p>
</li>
<li>
<p>
Clicking <strong>RELOAD</strong> in the G-Code window header - this method will cancel the Run From Line process if LOAD was clicked on the Run From Line dialog box and "rfl.ngc" is displayed as the loaded file name in the G-Code window header. This will return the user to the originally loaded file.
</p>
</li>
</ol></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">It is not possible to select a new line once Run From Line is active. To select a different line, the user must press <strong>RELOAD</strong> and start over.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt_scribe">9.32. Scribe</h3>
<div class="paragraph"><p>A scribe may be operated by QtPlasmaC in addition to the plasma torch.</p></div>
<div class="paragraph"><p>Using a scribe requires the use of the LinuxCNC tool table. Tool 0 is assigned to the plasma torch and Tool 1 is assigned to the scribe. The scribe X and Y axes offsets from the plasma torch need to be entered into the LinuxCNC tool table. This is done by editing the tool table via the main GUI, or by editing the <strong>tool.tbl</strong> file in the <strong>&lt;machine_name&gt;</strong> configuration directory. This will be done after the scribe can move to the work piece to help determine the appropriate offset.</p></div>
<div class="paragraph"><p>The plasma torch offsets for X and Y will always be zero. The tools are selected by the <strong>Tn M6</strong> command followed by a <strong>G43 H0</strong> command which is required to apply the offsets. The tool is then started with a <strong>M3 $n S1</strong> command. For <strong>n</strong>, use 0 for torch cutting or 1 for scribing.</p></div>
<div class="paragraph"><p>To stop the scribe, use the G-Code command <strong>M5 $1</strong>.</p></div>
<div class="paragraph"><p>If the user has not yet assigned the HAL pins for the scribe in the configuration wizard then they may do so by using the appropriate <a href="qtplasmac.html#configuring">configuration wizard</a> or by manually editing the hal file, see <a href="qtplasmac.html#qt_modify-config">modifying QtPlasmaC</a>.</p></div>
<div class="paragraph"><p>There are two HAL output pins used to operate the scribe, the first pin is used to arm the scribe which moves the scribe to the surface of the material. After the <a href="qtplasmac.html#qt_scribe-config">Arm Delay</a> has elapsed, the second pin is used to start the scribe. After the <a href="qtplasmac.html#qt_scribe-config">On Delay</a> has elapsed, motion will begin.</p></div>
<div class="paragraph"><p>Using QtPlasmaC after enabling the scribe requires the selection of either the torch or the scribe in each G-Code file as a LinuxCNC tool.</p></div>
<div class="paragraph"><p>The first step is to set the offsets for the scribe by following the procedure described in <a href="qtplasmac.html#peripheral-offsets">Peripheral Offsets</a>.</p></div>
<div class="paragraph"><p>The final step is to set the <a href="qtplasmac.html#qt_scribe-config">scribe delays</a> required:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<strong>Arm Delay</strong> - allows time for the scribe to descend to the surface of the material.
</p>
</li>
<li>
<p>
<strong>On Delay</strong> - allows time for the scribe to start before motion begins.
</p>
</li>
</ol></div>
<div class="paragraph"><p>Save the parameters in the Config tab.</p></div>
<div class="paragraph"><p>After the above directions are completed, the scribe may be tested manually by issuing a <strong>M3 $1 S1</strong> command in the MDI input. The user may find it helpful to use this method to scribe a small divot and then try to pulse the torch in the same location to align the offsets between the scribe and the torch.</p></div>
<div class="paragraph"><p>To use the scribe from G-Code:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>...
M52 P1 (paused motion on)
F#&lt;_hal[plasmac.cut-feed-rate]&gt;
T1 M6 (select scribe)
G43 H0 (apply offsets for current tool)
M3 $1 S1 (start the scribe)
.
M5 $1 (stop the scribe)
.
T0 M6 (select torch)
G43 H0 (apply offsets for current tool)
G0 X0 Y0 (parking position)
M5 $-1 (end all)</code></pre>
</div></div>
<div class="paragraph"><p>It is a good idea to switch back to the torch at the end of the program before the final rapid parking move so the machine is always in the same state at idle.</p></div>
<div class="paragraph"><p>The user can switch between the torch and the scribe any number of times during a program by using the appropriate G-Codes.</p></div>
<div class="paragraph"><p>Issuing <strong>M3 S1</strong> (without $n) will cause the machine to behave as if an <strong>M3 $0 S1</strong> had been issued and issuing <strong>M5</strong> (without $n) will cause the machine to behave as if an <strong>M5 $0</strong> had been issued. This will control the torch firing by default in order to provide backward compatibility for previous G-Code files.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">If there is an existing manual tool change parameter set in the &lt;machine_name&gt;.hal file then QtPlasmaC will convert it to an automatic tool change.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt_spotting">9.33. Spotting</h3>
<div class="paragraph"><p>To achieve spotting to mark the material prior to drilling etc., QtPlasmaC can pulse the torch for a short duration to mark the spot to drill.</p></div>
<div class="paragraph"><p>Spotting can be configured by following these steps:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Set the arc voltage <strong>Threshold</strong> in the Spotting section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>. Setting the voltage threshold to zero will cause the delay timer to begin immediately upon starting the torch. Setting the voltage threshold above zero will cause the delay timer to begin when the arc voltage reaches the threshold voltage.
</p>
</li>
<li>
<p>
Set the <strong>Time On</strong> in the Spotting section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>. When the <strong>Time On</strong> timer has elapsed, the torch will turn off. Times are adjustable from 0 to 9999 milliseconds.
</p>
</li>
</ol></div>
<div class="paragraph"><p>The torch is then turned on in G-Code with the <strong>M3 $2 S1</strong> command which selects the plasma torch as a spotting tool.</p></div>
<div class="paragraph"><p>To turn the torch off, use the G-Code command <strong>M5 $2</strong>.</p></div>
<div class="paragraph"><p>For more information on multiple tools, see <a href="qtplasmac.html#qt_multi-tool">multiple tools</a>.</p></div>
<div class="paragraph"><p>LinuxCNC (QtPlasmaC) requires some motion between any <strong>M3</strong> and <strong>M5</strong> commands. For this reason, a minimal movement at a high speed is required to be programmed.</p></div>
<div class="paragraph"><p>An example G-Code is:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>G21 (metric)
F99999 (high feed rate)
.
.
G0 X10 Y10
M3 $2 S1 (spotting on)
G91 (relative distance mode)
G1 X0.000001
G90 (absolute distance mode)
M5 $2 (spotting off)
.
.
G0 X0 Y0
G90
M2</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">The <strong>high feed rate</strong> of 99999 is to ensure that the motion is at the machine&#8217;s highest feed rate.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">SOME PLASMA CUTTERS WILL NOT BE SUITABLE FOR THIS FEATURE.<br />
IT IS RECOMMENDED THAT THE USER CARRY OUT SOME TEST SPOTTING TO ENSURE THAT THE PLASMA CUTTER IS CAPABLE OF UTILIZING THIS FEATURE.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="custom_kb_layouts">9.34. Virtual Keyboard Custom Layouts</h3>
<div class="paragraph"><p>Virtual keyboard support is available for only the "onboard" onscreen keyboard. If it is not already on the system it may be installed by typing the following in a terminal:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>sudo apt install onboard</code></pre>
</div></div>
<div class="paragraph"><p>The following two custom layouts are used for soft key support:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_numpad.png" alt="images/qtplasmac_numpad.png" width="240" />
</div>
<div class="title">Number keypad - used for the CONVERSATIONAL Tab and the PARAMETERS Tab</div>
</div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_keypad.png" alt="images/qtplasmac_keypad.png" width="700" />
</div>
<div class="title">Alpha-numeric keypad - used for G-Code editing and file management.</div>
</div>
<div class="paragraph"><p>If the virtual keyboard has been repositioned and on the next opening of a virtual keyboard it is not visible then clicking twice on the onboard icon in the system tray will reposition the virtual keyboard so the move handle is visible.</p></div>
</div>
<div class="sect2">
<h3 id="qt_keyboard-shortcuts">9.35. Keyboard Shortcuts</h3>
<div class="paragraph"><p>Below is a list of all available keyboard shortcuts in QtPlasmaC.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">All keyboard shortcuts are disabled by default.</td>
</tr></table>
</div>
<div class="paragraph"><p>In order to utilize them, <strong>KB Shortcuts</strong> must be enabled in the <strong>GUI SETTINGS</strong> section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Keyboard Shortcut</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Action</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">ESC</p></td>
<td align="left" valign="top"><p class="table">Aborts current automated motion (example: a running program, a probe test, etc.) as well as an active torch pulse (behaves the same as clicking CYCLE STOP).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">F1</p></td>
<td align="left" valign="top"><p class="table">Toggles the E-STOP button (if the GUI E-STOP button is enabled).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">F2</p></td>
<td align="left" valign="top"><p class="table">Toggles the GUI power button.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">F9</p></td>
<td align="left" valign="top"><p class="table">Toggles the "Cutting" command, used to begin or end a manual cut.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">F12</p></td>
<td align="left" valign="top"><p class="table">Show stylesheet editor.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Changes jog speed to 10% of the value present in the DEFAULT_LINEAR_VELOCITY variable in the [DISPLAY] section of the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table">Changes jog speed to 20% of the value present in the DEFAULT_LINEAR_VELOCITY variable in the [DISPLAY] section of the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">3</p></td>
<td align="left" valign="top"><p class="table">Changes jog speed to 30% of the value present in the DEFAULT_LINEAR_VELOCITY variable in the [DISPLAY] section of the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">4</p></td>
<td align="left" valign="top"><p class="table">Changes jog speed to 40% of the value present in the DEFAULT_LINEAR_VELOCITY variable in the [DISPLAY] section of the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">5</p></td>
<td align="left" valign="top"><p class="table">Changes jog speed to 50% of the value present in the DEFAULT_LINEAR_VELOCITY variable in the [DISPLAY] section of the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">6</p></td>
<td align="left" valign="top"><p class="table">Changes jog speed to 60% of the value present in the DEFAULT_LINEAR_VELOCITY variable in the [DISPLAY] section of the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">7</p></td>
<td align="left" valign="top"><p class="table">Changes jog speed to 70% of the value present in the DEFAULT_LINEAR_VELOCITY variable in the [DISPLAY] section of the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">8</p></td>
<td align="left" valign="top"><p class="table">Changes jog speed to 80% of the value present in the DEFAULT_LINEAR_VELOCITY variable in the [DISPLAY] section of the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">9</p></td>
<td align="left" valign="top"><p class="table">Changes jog speed to 90% of the value present in the DEFAULT_LINEAR_VELOCITY variable in the [DISPLAY] section of the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Changes jog speed to 100% of the value present in the DEFAULT_LINEAR_VELOCITY variable in the [DISPLAY] section of the &lt;machine_name&gt;.ini file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SHIFT+1</p></td>
<td align="left" valign="top"><p class="table">Changes rapid speed to 10%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SHIFT+2</p></td>
<td align="left" valign="top"><p class="table">Changes rapid speed to 20%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SHIFT+3</p></td>
<td align="left" valign="top"><p class="table">Changes rapid speed to 30%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SHIFT+4</p></td>
<td align="left" valign="top"><p class="table">Changes rapid speed to 40%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SHIFT+5</p></td>
<td align="left" valign="top"><p class="table">Changes rapid speed to 50%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SHIFT+6</p></td>
<td align="left" valign="top"><p class="table">Changes rapid speed to 60%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SHIFT+7</p></td>
<td align="left" valign="top"><p class="table">Changes rapid speed to 70%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SHIFT+8</p></td>
<td align="left" valign="top"><p class="table">Changes rapid speed to 80%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SHIFT+9</p></td>
<td align="left" valign="top"><p class="table">Changes rapid speed to 90%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SHIFT+0</p></td>
<td align="left" valign="top"><p class="table">Changes rapid speed to 100%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+1</p></td>
<td align="left" valign="top"><p class="table">Changes feed rate to 10%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+2</p></td>
<td align="left" valign="top"><p class="table">Changes feed rate to 20%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+3</p></td>
<td align="left" valign="top"><p class="table">Changes feed rate to 30%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+4</p></td>
<td align="left" valign="top"><p class="table">Changes feed rate to 40%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+5</p></td>
<td align="left" valign="top"><p class="table">Changes feed rate to 50%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+6</p></td>
<td align="left" valign="top"><p class="table">Changes feed rate to 60%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+7</p></td>
<td align="left" valign="top"><p class="table">Changes feed rate to 70%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+8</p></td>
<td align="left" valign="top"><p class="table">Changes feed rate to 80%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+9</p></td>
<td align="left" valign="top"><p class="table">Changes feed rate to 90%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+0</p></td>
<td align="left" valign="top"><p class="table">Changes feed rate to 100%.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+H or HOME</p></td>
<td align="left" valign="top"><p class="table">Homes all axes if they are not yet homed and have a homing sequence set in the &lt;machine_name&gt;.ini file. If they are already homed, they will no longer be homed.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CTRL+R</p></td>
<td align="left" valign="top"><p class="table">Cycle Start if the program is not already running. Cycle Resume if the program is paused.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">END</p></td>
<td align="left" valign="top"><p class="table">Touches off X and Y to 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SPACE BAR</p></td>
<td align="left" valign="top"><p class="table">Pause motion.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">O</p></td>
<td align="left" valign="top"><p class="table">Opens a new program.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">L</p></td>
<td align="left" valign="top"><p class="table">Loads the previously opened program if no program is loaded. Reloads the current program if there is a program loaded.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">→</p></td>
<td align="left" valign="top"><p class="table">Jogs the X axis positive.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">←</p></td>
<td align="left" valign="top"><p class="table">Jogs the X axis negative.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">↑</p></td>
<td align="left" valign="top"><p class="table">Jogs the Y axis positive.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">↓</p></td>
<td align="left" valign="top"><p class="table">Jogs the Y axis negative.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PAGE UP</p></td>
<td align="left" valign="top"><p class="table">Jogs the Z axis positive.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PAGE DOWN</p></td>
<td align="left" valign="top"><p class="table">jog the Z axis negative.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[</p></td>
<td align="left" valign="top"><p class="table">Jogs the A axis positive.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">]</p></td>
<td align="left" valign="top"><p class="table">Jogs the A axis negative.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">.</p></td>
<td align="left" valign="top"><p class="table">Jogs the B axis positive.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">,</p></td>
<td align="left" valign="top"><p class="table">Jogs the B axis negative.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SHIFT (+ Jog Key)</p></td>
<td align="left" valign="top"><p class="table">The shift key is used with any jog key to invoke a rapid jog.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">+ (+ Jog Key)</p></td>
<td align="left" valign="top"><p class="table">The plus key can be used with any jog key to invoke a rapid jog (behaves the same as SHIFT).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">- (+ Jog Key)</p></td>
<td align="left" valign="top"><p class="table">The minus key can be used with any jog key to invoke a slow jog (10% of the displayed jog speed)<br />
   If SLOW jogging is already active, the axis will jog at the displayed jog speed.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="qt_shape-library">10. Conversational Shape Library</h2>
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_conversational.png" alt="images/qtplasmac_conversational.png" width="800" />
</div>
</div>
<div class="paragraph"><p>The <strong>Conversational Shape Library</strong> consists of several basic shapes and functions to assist the user with generating quick G-Code at the machine to cut simple shapes quickly. This feature is found on the <a href="qtplasmac.html#qt_conversational-tab">CONVERSATIONAL Tab</a>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">The Conversational Library is not meant to be a CAD/CAM replacement as there are limitations to what can be achieved.</td>
</tr></table>
</div>
<div class="paragraph"><p>Blank entries in the shape input boxes will use the current setting at the time the G-Code was generated. For example, if <strong>X start</strong> was left blank then the current X axis position would be used.</p></div>
<div class="paragraph"><p>All lead-ins and lead-outs are arcs except for:</p></div>
<div class="ulist"><ul>
<li>
<p>
Small holes
</p>
</li>
<li>
<p>
Stars
</p>
</li>
</ul></div>
<div class="paragraph"><p><strong>The cut order will occur in the same order as the shape was built.</strong></p></div>
<div class="paragraph"><p>Pressing <strong>Return</strong> on the keyboard while editing parameters will automatically show the preview of the shape if there are enough parameters entered to create the shape. Clicking any of the available check boxes will do the same.</p></div>
<div class="paragraph"><p>The general functions are as follows:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Material Drop Down</p></td>
<td align="left" valign="top"><p class="table">Allows the user to select the desired material for cutting.<br />
                    If "VIEW MATERIAL" is selected on the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>, a visual reference showing key material cut settings will be displayed on the Conversational Preview Window.<br />
                    Examples are:  Feed Rate, Pierce Height, Pierce Delay, Cut Height, and Kerf Width (for Conversational only). Cut Amps will be shown if PowerMax communications are enabled.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">NEW</p></td>
<td align="left" valign="top"><p class="table">Removes the current G-Code file and load a blank G-Code file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SAVE</p></td>
<td align="left" valign="top"><p class="table">Opens a dialog box allowing the current shape to be saved as a G-Code file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SETTINGS</p></td>
<td align="left" valign="top"><p class="table">Allows the changing of the global settings.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SEND</p></td>
<td align="left" valign="top"><p class="table">Loads the current shape into LinuxCNC (QtPlasmaC). If the last edit was not added then it will be discarded.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PREVIEW</p></td>
<td align="left" valign="top"><p class="table">Displays a preview of the current shape provided the required information is present.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">CONTINUE</p></td>
<td align="left" valign="top"><p class="table">This button is used for lines and arcs only. Allows another segment to be added to the current segment/segments.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">ADD</p></td>
<td align="left" valign="top"><p class="table">Stores the current shape into the current job.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">UNDO</p></td>
<td align="left" valign="top"><p class="table">Reverts to the previously stored state.<br /></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">RELOAD</p></td>
<td align="left" valign="top"><p class="table">Reloads the original G-Code file or a blank file if none was loaded.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>If there is a G-Code file loaded in LinuxCNC (QtPlasmaC) when the <a href="qtplasmac.html#qt_conversational-tab">CONVERSATIONAL Tab</a> is selected, that code will be imported into the conversational as the first shape of the job. If this code is not required then it can be removed by pressing the <strong>NEW</strong> button.</p></div>
<div class="paragraph"><p>If there is an added shape that is unsaved or unsent then it is not possible to switch tabs in the GUI. To re-enable switching tabs it is necessary to either <strong>SAVE</strong> the shape, <strong>SEND</strong> the shape, or press <strong>NEW</strong> to remove the shape.</p></div>
<div class="paragraph"><p>If <strong>NEW</strong> is pressed to remove an added shape that is unsaved or unsent then a warning dialog will be displayed.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">All distances are in machine units relative to the current User Coordinate System and all angles are in degrees.</td>
</tr></table>
</div>
<div class="sect2">
<h3 id="_conversational_settings">10.1. Conversational Settings</h3>
<div class="paragraph"><p>Global settings for the shape library can be set by pressing the <strong>SETTINGS</strong> button in the <a href="qtplasmac.html#qt_conversational-tab">CONVERSATIONAL Tab</a>. This will display all of the available settings parameters that are used for G-Code program creation. These include:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Preamble</strong>
</p>
</li>
<li>
<p>
<strong>Postamble</strong>
</p>
</li>
<li>
<p>
<strong>Origin (Center or Bottom Left)</strong>
</p>
</li>
<li>
<p>
<strong>Lead-in length</strong>
</p>
</li>
<li>
<p>
<strong>Lead-out length</strong>
</p>
</li>
<li>
<p>
<strong>Small hole diameter</strong>
</p>
</li>
<li>
<p>
<strong>Small hole speed</strong>
</p>
</li>
<li>
<p>
<strong>Preview Window Grid Size</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Any internal circle that has a diameter less than <strong>Small hole diameter</strong> is classified as a small hole and will have a straight lead-in with a length that is the lesser of either the radius of the hole or the specified lead-in length. It will also have its feed rate set to <strong>Small hole speed</strong>.</p></div>
<div class="paragraph"><p>Pressing the <strong>RELOAD</strong> button will discard any changed settings.</p></div>
<div class="paragraph"><p>Pressing the <strong>SAVE</strong> button will save all the settings as displayed.</p></div>
<div class="paragraph"><p>After pressing <strong>SAVE</strong> or <strong>RELOAD</strong>, the settings panel will close and the user may press click on any shape to start/resume the Conversational process.</p></div>
</div>
<div class="sect2">
<h3 id="_conversational_lines_and_arcs">10.2. Conversational Lines And Arcs</h3>
<div class="imageblock" style="text-align:left;">
<div class="content">
<img src="images/qtplasmac_conv_line.png" alt="images/qtplasmac_conv_line.png" width="100" />
</div>
</div>
<div class="paragraph"><p>Lines and arcs have an additional option in that they may be strung together to create a complex shape.</p></div>
<div class="paragraph"><p>There are two line types and three arc types available:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<strong>Line</strong> given a start point and an end point.
</p>
</li>
<li>
<p>
<strong>Line</strong> given a start point, length, and angle.
</p>
</li>
<li>
<p>
<strong>Arc</strong> given a start point, way point, and end point.
</p>
</li>
<li>
<p>
<strong>Arc</strong> given a start point, end point, and radius.
</p>
</li>
<li>
<p>
<strong>Arc</strong> given a start point, length, angle, and radius.
</p>
</li>
</ol></div>
<div class="paragraph"><p>To use lines and arcs:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Select the <strong>Lines and Arcs</strong> icon.
</p>
</li>
<li>
<p>
Select the type of line or arc to create.
</p>
</li>
<li>
<p>
Choose the material from the MATERIAL drop down. If no material is chosen, the default material (00000) will be used.
</p>
</li>
<li>
<p>
Enter the desired parameters.
</p>
</li>
<li>
<p>
Press <strong>PREVIEW</strong> to see the shape.
</p>
</li>
<li>
<p>
If satisfied with the shape press <strong>CONTINUE</strong>.
</p>
</li>
<li>
<p>
Change the line or arc type if needed and continue this procedure until the shape is complete.
</p>
</li>
<li>
<p>
Press <strong>SEND</strong> to send the G-Code file to LinuxCNC (QtPlasmaC) for cutting.
</p>
</li>
</ol></div>
<div class="paragraph"><p>If the user wishes to create a closed shape, they will need to create any required lead-in as the first segment of the shape. If a lead-out is required it will need to be the last segment of the shape.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">At this stage there is no automatic option for a lead-in/lead-out creation if the shape is closed.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_conversational_single_shape">10.3. Conversational Single Shape</h3>
<div class="paragraph"><p>The following shapes are available for creation:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_conv_shapes.png" alt="images/qtplasmac_conv_shapes.png" width="400" />
</div>
</div>
<div class="paragraph"><p>To create a shape:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Select the corresponding icon for the shape to create. The available parameters will be displayed.
</p>
</li>
<li>
<p>
Choose the material from the MATERIAL drop down. If no material is chosen, the default material (00000) will be used.
</p>
</li>
<li>
<p>
Enter the appropriate values and press <strong>PREVIEW</strong> to display the shape.
</p>
</li>
<li>
<p>
If the shape is not correct, edit the values and press <strong>PREVIEW</strong> and the new shape will be displayed. Repeat until satisfied with the shape.
</p>
</li>
<li>
<p>
Press <strong>ADD</strong> to add the shape to the G-Code file.
</p>
</li>
<li>
<p>
Press <strong>SEND</strong> to send the G-Code file to LinuxCNC (QtPlasmaC) for cutting.
</p>
</li>
</ol></div>
<div class="paragraph"><p>For <strong>CIRCLE</strong>, the <strong>OVERCUT</strong> button will become valid when a CUT TYPE of INTERNAL is selected and the value entered in the DIAMETER field is less than the Small Hole Diameter parameter in the Conversational SETTINGS section.</p></div>
<div class="paragraph"><p>For <strong>BOLT CIRCLE</strong> the <strong>OVERCUT</strong> button will become valid if the value entered in the HOLE DIA field is less than the SMALL HOLES DIAMETER parameter in the Conversational SETTINGS section.</p></div>
<div class="paragraph"><p>For the following shapes, KERF OFFSET will become active once a LEAD IN is specified:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
TRIANGLE
</p>
</li>
<li>
<p>
RECTANGLE
</p>
</li>
<li>
<p>
POLYGON
</p>
</li>
<li>
<p>
SLOT
</p>
</li>
<li>
<p>
STAR
</p>
</li>
<li>
<p>
GUSSET
</p>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="_conversational_group_of_shapes">10.4. Conversational Group Of Shapes</h3>
<div class="paragraph"><p>Multiple shapes can be added together to create a complex group.</p></div>
<div class="paragraph"><p>The cut order of the group is determined by the order in which the individual shapes are added to the group.</p></div>
<div class="paragraph"><p>Once a shape is added to the group it cannot be edited or removed.</p></div>
<div class="paragraph"><p>Groups cannot have shapes removed, only added to.</p></div>
<div class="paragraph"><p>To create a group of shapes:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Create the first shape as in <strong>Single Shape</strong>.
</p>
</li>
<li>
<p>
Press <strong>ADD</strong> and the shape will be added to the group.
</p>
</li>
<li>
<p>
If the user wishes to add another version of the same shape then edit the required parameters and press <strong>ADD</strong> when satisfied with the shape.
</p>
</li>
<li>
<p>
If the user wishes to add a different shape, select that shape and create it as in <strong>Single Shape</strong>.
</p>
</li>
<li>
<p>
Repeat until all the required shapes to complete the group have been added.
</p>
</li>
<li>
<p>
Press <strong>SEND</strong> to send the G-Code file to LinuxCNC (QtPlasmaC) for cutting.
</p>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="_conversational_block">10.5. Conversational Block</h3>
<div class="imageblock" style="text-align:left;">
<div class="content">
<img src="images/qtplasmac_conv_block.png" alt="images/qtplasmac_conv_block.png" width="100" />
</div>
</div>
<div class="paragraph"><p>The Conversational Block feature allows block operations to be performed on the current shape or group of shapes displayed in the <a href="qtplasmac.html#qt_conversational-tab">CONVERSATIONAL Tab</a>. This can include a G-Code file not created using the Conversational Shape Library that has been previously loaded from the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a>.</p></div>
<div class="paragraph"><p>A previously saved Block G-Code file may also be loaded from the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a> and then have any of its operations edited using the Conversational Block feature.</p></div>
<div class="paragraph"><p>Block operations:</p></div>
<div class="ulist"><ul>
<li>
<p>
Rotate
</p>
</li>
<li>
<p>
Scale
</p>
</li>
<li>
<p>
Array
</p>
</li>
<li>
<p>
Mirror
</p>
</li>
<li>
<p>
Flip
</p>
</li>
</ul></div>
<div class="paragraph"><p>To create a block:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Create a shape, a group, or use a previously loaded G-Code file.
</p>
</li>
<li>
<p>
Click the <strong>Block</strong> icon to open the Block tab.
</p>
</li>
<li>
<p>
Enter the appropriate values in the Block tab and press <strong>PREVIEW</strong> to display the resulting changes.
</p>
</li>
<li>
<p>
If the result is not correct, edit the values and press <strong>PREVIEW</strong> and the new result will be shown. Repeat until satisfied with the result.
</p>
</li>
<li>
<p>
Press <strong>ADD</strong> to complete the procedure.
</p>
</li>
<li>
<p>
Press <strong>SEND</strong> to send the G-Code file to LinuxCNC (QtPlasmaC) for cutting, or <strong>SAVE</strong> to save the G-Code file.
</p>
</li>
</ol></div>
<div class="paragraph"><p>COLUMNS &amp; ROWS - specifies the number of duplicates of the original shape arranged in columns and rows as well as the offset distance from the original shape.</p></div>
<div class="paragraph"><p>ORIGIN - offset the result from the origin coordinates.</p></div>
<div class="paragraph"><p>ANGLE - rotate the result.</p></div>
<div class="paragraph"><p>SCALE - scale the result.</p></div>
<div class="paragraph"><p>ROTATION - rotate the shape within the result.</p></div>
<div class="paragraph"><p>MIRROR - mirror the shape about its X coordinates within the result.</p></div>
<div class="paragraph"><p>FLIP - flip the shape about its Y coordinates within the result.</p></div>
<div class="paragraph"><p>If the result is an array of shapes then the cut order of the result is from the left column to the right column, starting at the bottom row and ending at the top row.</p></div>
</div>
<div class="sect2">
<h3 id="_conversational_saving_a_job">10.6. Conversational Saving A Job</h3>
<div class="paragraph"><p>The current job displayed in the Preview Panel may be saved at any time by using the bottom <strong>SAVE</strong> button. If the G-Code has been sent to LinuxCNC (QtPlasmaC) and the user has left the <a href="qtplasmac.html#qt_conversational-tab">CONVERSATIONAL Tab</a>, the user may still save the G-Code file from the GUI. Alternatively, the user could click the <a href="qtplasmac.html#qt_conversational-tab">CONVERSATIONAL Tab</a> which will reload the job, at which time they can press the <strong>SAVE</strong> button.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_error_messages">11. Error Messages</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_error_logging">11.1. Error Logging</h3>
<div class="paragraph"><p>All errors are logged into the machine log which is able to be viewed in the <a href="qtplasmac.html#qt_statistics-tab">STATISTICS Tab</a>. The log file is saved into the configuration directory when QtPlasmaC is shutdown. The five last logfiles are kept, after which the oldest logfile is deleted each time a new log file is created. These saved log files may be viewed with any text editor.</p></div>
</div>
<div class="sect2">
<h3 id="_error_message_display">11.2. Error Message Display</h3>
<div class="paragraph"><p>By default, QtPlasmaC will display error messages via a Operator Error popup window. In addition, QtPlasmaC will alert the user that an error has been sent to the machine log by displaying the message <strong>"ERROR SENT TO MACHINE LOG"</strong> in the lower left portion of the status bar.</p></div>
<div class="paragraph"><p>The user may opt to disable the Operator Error popup window, and view the error messages by going to the <a href="qtplasmac.html#qt_statistics-tab">STATISTICS Tab</a> by changing the following preference to <strong>False</strong> in the <strong>[SCREEN_OPTIONS]</strong> of the qtplasmac.prefs file in the &lt;machine_name&gt; folder:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>desktop_notify</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">qtplasmac.prefs must be edited with QtPlasmaC closed or any changes will be overwritten on exit.</td>
</tr></table>
</div>
<div class="paragraph"><p>Additionally, it is possible for <strong>ERROR SENT TO MACHINE LOG</strong> to flash to get the user&#8217;s attention by adding or editing the following line in the [QTPLASMAC] section of the &lt;machine_name&gt;.ini file:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>FLASH_ERROR = 1</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_critical_errors">11.3. Critical Errors</h3>
<div class="paragraph"><p>There are a number of error messages printed by QtPlasmaC to inform the user of faults as they occur. The messages can be split into two groups, <strong>Critical</strong> and <strong>Warning</strong>.</p></div>
<div class="paragraph"><p>Critical Errors will cause the running program to pause, and the operator will need to clear the cause of the error before proceeding.</p></div>
<div class="paragraph"><p>If the error was received during cutting then forward or reverse motion is allowed while the machine is paused to enable the user to reposition the machine prior to resuming the cut.</p></div>
<div class="paragraph"><p>When the error is cleared the program may be resumed.</p></div>
<div class="paragraph"><p>These errors indicate the corresponding sensor was activated during cutting:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>breakaway switch activated program is paused</strong>
</p>
</li>
<li>
<p>
<strong>float switch activated program is paused</strong>
</p>
</li>
<li>
<p>
<strong>ohmic probe activated program is paused</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>These errors indicate the corresponding sensor was activated before probing commenced:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>ohmic probe detected before probing program is paused</strong>
</p>
</li>
<li>
<p>
<strong>float switch detected before probing program is paused</strong>
</p>
</li>
<li>
<p>
<strong>breakaway switch detected before probing program is paused</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>The Arc OK signal was lost during cutting motion, before the <strong>M5</strong> command was reached:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>valid arc lost program is paused</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>The Z axis reached the bottom limit before the work piece was detected:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>bottom limit reached while probing down program is paused</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>The work piece is too high for any safe rapid removes:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>material too high for safe traverse program is paused</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>One of these values in MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> is invalid (For example: if they are set to zero):</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>invalid pierce height or invalid cut height or invalid cut volts program is paused</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>No arc has been detected after attempting to start the number of times indicated by <strong>Max Starts</strong> in the ARC frame of the CONFIGURATION section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>no arc detected after &lt;n&gt;d start attempts program is paused</strong>
</p>
</li>
<li>
<p>
<strong>no arc detected after &lt;n&gt;d start attempts manual cut is stopped</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>THC has caused the bottom limit to be reached while cutting:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>bottom limit reached while THC moving down program is paused</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>THC has caused the top limit to be reached while cutting:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>top limit reached while THC moving up program is paused</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>These errors indicate move to pierce height would exceed the Z Axis MAX_LIMIT for the corresponding probe method:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>pierce height would exceed Z axis maximum limit condition found while moving to probe height during float switch probing</strong>
</p>
</li>
<li>
<p>
<strong>pierce height would exceed Z axis maximum limit condition found while moving to probe height during ohmic probing</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>These errors indicate the move to pierce height would exceed the Z axis maximum safe height for the corresponding probe method:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>pierce height would exceed Z axis maximum safe height condition found while float switch probing</strong>
</p>
</li>
<li>
<p>
<strong>pierce height would exceed Z axis maximum safe height condition found while ohmic probing</strong>
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_warning_errors">11.4. Warning Errors</h3>
<div class="paragraph"><p>Warning errors will not pause a running program and are informational only.</p></div>
<div class="paragraph"><p>These errors indicate the corresponding sensor was activated before a probe test commenced:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>ohmic probe detected before probing probe test aborted</strong>
</p>
</li>
<li>
<p>
<strong>float switch detected before probing probe test aborted</strong>
</p>
</li>
<li>
<p>
<strong>breakaway switch detected before probing probe test aborted</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>This indicates that the corresponding sensor was activated during a consumable change:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>breakaway, float, or ohmic activated during consumable change, motion is paused</strong><br />
<strong>WARNING: MOTION WILL RESUME IMMEDIATELY UPON RESOLVING THIS CONDITION!</strong>
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">CONSUMABLE CHANGE MOTION WILL RESUME IMMEDIATELY UPON RESOLVING THE CORRESPONDING SENSOR ACTIVATION.</td>
</tr></table>
</div>
<div class="paragraph"><p>This indicates that the corresponding sensor was activated during probe testing:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>breakaway switch detected during probe test</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>This indicates that probe contact was lost before probing up to find the zero point:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>probe trip error while probing</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>This indicates that the bottom limit was reached during a probe test:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>bottom limit reached while probe testing</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>This indicates that the move to pierce height would exceed the Z Axis MAX_LIMIT during the corresponding probe method:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>pierce height would exceed Z axis maximum limit condition found while moving to probe height during float switch probe testing</strong>
</p>
</li>
<li>
<p>
<strong>pierce height would exceed Z axis maximum limit condition found while moving to probe height during ohmic probe testing</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>This indicates that the safe height has been reduced due to THC raising the Z axis during cutting:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>safe traverse height has been reduced</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>This indicates that the value for the Arc Voltage was invalid (NAN or INF) when QtPlasmaC launched.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>invalid arc-voltage-in</strong>
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="qt_update">12. Updating QtPlasmaC</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_standard_update">12.1. Standard Update</h3>
<div class="paragraph"><p>QtPlasmaC update notices are posted at: <a href="https://forum.linuxcnc.org/plasmac/37233-plasmac-updates">https://forum.linuxcnc.org/plasmac/37233-plasmac-updates</a></p></div>
<div class="paragraph"><p><strong>Users are strongly encouraged to create a Username and subscribe to the above thread to receive update notices.</strong></p></div>
<div class="paragraph"><p>For a standard ISO installation, LinuxCNC will only be updated when a new minor release has been released. QtPlasmaC will then automatically update its configuration the first time it is run after a LinuxCNC update.</p></div>
<div class="paragraph"><p>LinuxCNC is normally updated by entering the following commands into a terminal window (one at a time):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>sudo apt update
sudo apt dist-upgrade</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_continuous_update">12.2. Continuous Update</h3>
<div class="paragraph"><p>Enhancements and bug fixes will not be available on a standard installation until a new minor release of LinuxCNC has been released. If the user wishes to update whenever a new QtPlasmaC version has been pushed, they could use the LinuxCNC Buildbot repository rather than the standard LinuxCNC repository by following the instructions at: <a href="http://buildbot.linuxcnc.org/">http://buildbot.linuxcnc.org/</a></p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modify_an_existing_qtplasmac_configuration">13. Modify An Existing QtPlasmaC Configuration</h2>
<div class="sectionbody">
<div class="paragraph"><p>There are two ways to modify an existing QtPlasmaC configuration:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Running the appropriate <a href="qtplasmac.html#configuring">configuration wizard</a> and loading the conf file saved by the wizard.
</p>
</li>
<li>
<p>
Manually edit the .ini and/or the .hal file of the configuration.
</p>
</li>
</ol></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">Any manual modification to the &lt;machine_name&gt;.ini and &lt;machine_name&gt;.hal files will not be registered in PnCConf or StepConf.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If unsure of the HAL pin&#8217;s full name, the user may start LinuxCNC and run <strong>HalShow</strong> for a full listing of all HAL pins.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_customizing_qtplasmac_gui">14. Customizing QtPlasmaC GUI</h2>
<div class="sectionbody">
<div class="paragraph"><p>Styling of the QtPlasmaC GUI is done with Qt stylesheets and some customization may be achieved by the use of a custom stylesheet. This allows the user to change some GUI items such as color, border, size, etc. It cannot change the layout of the GUI.</p></div>
<div class="paragraph"><p>Information on Qt stylesheets is available <a href="https://doc.qt.io/archives/qt-5.11/stylesheet.html">here</a>.</p></div>
<div class="paragraph"><p>There are two methods available to apply custom styles:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Add A Custom Style: use this for minor style changes.
</p>
</li>
<li>
<p>
Create A New Style use this for a complete style change.
</p>
</li>
</ol></div>
<div class="sect2">
<h3 id="_add_a_custom_style">14.1. Add A Custom Style</h3>
<div class="paragraph"><p>Adding style changes to the default stylesheet is achieved by creating a file in the &lt;machine_name&gt; configuration folder. This file MUST be named qtplasmac_custom.qss. Any required style changes are then added to this file.</p></div>
<div class="paragraph"><p>For example the user may want the arc voltage display in red, a green Torch On LED of a larger size and a larger Torch Enable button. This would be done with the following code in qtplasmac_custom.qss:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>#arc_voltage {
    color: #ff0000 }

#led_torch_on {
    qproperty-diameter: 30;
    qproperty-color: green }

#torch_enable::indicator {
    width: 30;
    height: 30}</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_create_a_new_style">14.2. Create A New Style</h3>
<div class="paragraph"><p>Custom stylesheets are enable by a setting in the [QTPLASMAC] section of the INI file with the filename of the stylesheet.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>CUSTOM_STYLE = the_cool_style.qss</code></pre>
</div></div>
<div class="paragraph"><p>The filename may be any valid filename. The standard extension name is .qss but this is not mandatory.</p></div>
<div class="paragraph"><p>There are some constraints on the custom stylesheet for QtPlasmaC, e.g. the jog buttons, cut-recovery buttons, and the conversational shape buttons are image files and are not able to be custom styled.</p></div>
<div class="paragraph"><p>The custom style file requires a header in the following format:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>/*****************************
Custom Stylesheet Header

color1 = #000000
#QtPlasmaC default = #ffee06

color2 = #e0e0e0
#QtPlasmaC default = #16160e

color3 = #c0c0c0
#QtPlasmaC default = #ffee06

color4 = #e0e0e0
#QtPlasmaC default = #26261e

color5 = #808080
#QtPlasmaC default = #b0b0b0

*****************************/</code></pre>
</div></div>
<div class="paragraph"><p>The colors may be expressed in any valid stylesheet format.</p></div>
<div class="paragraph"><p>The above colors are used for the following widgets. So any custom styling will need to take these into account. The colors shown below are the defaults used in QtPlasmaC along with the color name from the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="50%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Color</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Parameter</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Affects</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">color1 (#ffee06)</p></td>
<td align="left" valign="top"><p class="table">Foreground</p></td>
<td align="left" valign="top"><p class="table">foreground of jog buttons<br />
                  foreground of latching user buttons<br />
                  foreground of camera/laser buttons<br />
                  foreground of conversational shape buttons<br />
                  background of active conversational shape buttons</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">color2 (#16160e)</p></td>
<td align="left" valign="top"><p class="table">Background</p></td>
<td align="left" valign="top"><p class="table">background of latching user buttons<br />
                  background of camera/laser buttons<br />
                  background of G-Code editor active line<br />
                  background of conversational shape buttons</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">color3 (#ffee06)</p></td>
<td align="left" valign="top"><p class="table">Highlight</p></td>
<td align="left" valign="top"><p class="table">background of active latching user buttons<br />
                  background of active camera/laser buttons<br />
                  foreground of G-Code editor cursor</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">color4 (#36362e)</p></td>
<td align="left" valign="top"><p class="table">Alt Background</p></td>
<td align="left" valign="top"><p class="table">background of G-Code display active line</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="qt_default_styling">14.3. Returning To The Default Styling</h3>
<div class="paragraph"><p>The user may return to the default styling at any time by following the following steps:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Close QtPlasmaC if open.
</p>
</li>
<li>
<p>
Delete qtplasmac.qss from the machine config folder.
</p>
</li>
<li>
<p>
Delete qtplasmac_custom.qss from the machine config folder (if it exists).
</p>
</li>
<li>
<p>
Comment out or delete any CUSTOM_STYLE lines from the &lt;machine_name&gt;.ini file.
</p>
</li>
<li>
<p>
Open qtplasmac.prefs and delete the "[COLOR_OPTIONS]" section. Save the file.
</p>
</li>
</ol></div>
<div class="paragraph"><p>The next time QtPlasmaC is loaded all custom styling will be removed and the default styling will return.</p></div>
<div class="paragraph"><p>Below is an example of the section to be deleted from qtplasmac.prefs:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>[COLOR_OPTIONS]
Foreground = #ffee06
Highlight = #ffee06
LED = #ffee06
Background = #16160e
Background Alt = #36362e
Frames = #ffee06
Estop = #ff0000
Disabled = #b0b0b0
Preview = #000000</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_qtplasmac_advanced_topics">15. QtPlasmaC Advanced Topics</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="qt_custom-user-buttons">15.1. Custom User Buttons</h3>
<div class="paragraph"><p>The QtPlasmaC GUI offers user buttons that can be customized by adding commands in the &lt;machine_name&gt;.ini file.</p></div>
<div class="paragraph"><p>The number of user buttons varies by display type and resolution as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
16:9 and 4:3 - Minimum 8, Maximum 20
</p>
</li>
<li>
<p>
9:16 - Minimum 15, Maximum 20
</p>
</li>
</ul></div>
<div class="paragraph"><p>The user will need to run QtPlasmaC at the desired screen size to determine how many user buttons are available for use.</p></div>
<div class="paragraph"><p>All &lt;machine_name&gt;.ini file settings for the buttons are found in the [QTPLASMAC] section.</p></div>
<div class="paragraph"><div class="title">Button Names</div><p>The text that appears on the button is set the following way:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_NAME = HAL Show</code></pre>
</div></div>
<div class="paragraph"><p>Where n is the button number and <strong>HAL Show</strong> is the text.</p></div>
<div class="paragraph"><p>For text on multiple lines, split the text with a \</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_NAME = HAL\Show</code></pre>
</div></div>
<div class="paragraph"><p>If an ampersand is required to be displayed as text then two consecutive ampersands are required:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_NAME = PIERCE\&amp;&amp;CUT</code></pre>
</div></div>
<div class="paragraph"><div class="title">Button Code</div><p>Buttons can run the following:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<a href="qtplasmac.html#qt_button-cmds">External commands</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-code">G-Code commands</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-toggle">Toggle a HAL pin</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-laser">Toggle the alignment laser HAL pin</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-pulse">Pulse a HAL pin</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-probe">Probe test</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-ohmic">Ohmic Test</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-cut">Cut Type</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-consumables">Change consumables</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-load">Load a G-Code program</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-torch">Pulse the torch on</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-single">Single unidirectional cut</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-framing">Framing a job</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-mancut">Begin/End a manual cut</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-offsets">Display/Hide an offsets viewer</a>
</p>
</li>
<li>
<p>
<a href="qtplasmac.html#qt_button-latest">Load the latest modified ngc file found in a directory</a>
</p>
</li>
</ol></div>
<div class="paragraph" id="qt_button-cmds"><p><strong><span class="underline">External Commands</span></strong></p></div>
<div class="paragraph"><p>To run an external command, the command is preceded by a % character.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = %halshow</code></pre>
</div></div>
<div class="paragraph" id="qt_button-code"><p><strong><span class="underline">G-Code</span></strong></p></div>
<div class="paragraph"><p>To run G-Code, just enter the code to be run.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = G0 X100</code></pre>
</div></div>
<div class="paragraph"><p>To run an existing subroutine.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = o&lt;the_subroutine&gt; call</code></pre>
</div></div>
<div class="paragraph"><p>&lt;machine_name&gt;.ini file variables can be entered by using {} (a space must be placed after the })</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = G0 X{JOINT_0 HOME} Y1
BUTTON_n_CODE = G53 G0 Z[{AXIS_Z MAX_LIMIT} - 1.001]</code></pre>
</div></div>
<div class="paragraph"><p>Multiple codes can be run by separating the codes with a \ symbol. The exception is the special commands which are required to be a single command per button.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = G0 X0 Y0 \ G1 X5 \ G1 Y5</code></pre>
</div></div>
<div class="paragraph"><p>External commands and G-Code may be mixed on the same button.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = %halshow \ g0x.5y.5 \ %halmeter</code></pre>
</div></div>
<div class="paragraph" id="qt_button-toggle"><p><strong><span class="underline">Toggle HAL Pin</span></strong></p></div>
<div class="paragraph"><p>The following code will allow the user to use a button to invert the current state of a HAL bit pin:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = toggle-halpin the-hal-pin-name</code></pre>
</div></div>
<div class="paragraph"><p>This code is required to be used as a single command and may only control one HAL bit pin per button.</p></div>
<div class="paragraph"><p>The button colors will follow the state of the hal pin.</p></div>
<div class="paragraph"><p>After setting the code, upon clicking, the button will invert colors and the HAL pin will invert pin state. The button will stay "latched" until the button is clicked again, which will return the button to the original colors and the HAL pin to the original pin state.</p></div>
<div class="paragraph"><p>There are three <a href="qtplasmac.html#qt_ext-hal-pin">External HAL Pins</a> that are available to toggle as an output, the pin names are qtplasmac.ext_out_0, qtplasmac.ext_out_1, and qtplasmac.ext_out_2. HAL connections to these HAL pins need to be specified in a postgui HAL file as the Hal pins are not available until the QtPlasmac GUI has loaded.</p></div>
<div class="paragraph"><p>It is possible for the user to mark a toggle-halpin button&#8217;s associated hal pin as being required to be turned "ON" before <strong>CYCLE START</strong> can be pressed by adding "runcritical" after the hal pin in the button code.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = toggle-halpin the-hal-pin-name runcritical</code></pre>
</div></div>
<div class="paragraph" id="qt_button-laser"><p><strong><span class="underline">Toggle Alignment Laser HAL Pin</span></strong></p></div>
<div class="paragraph"><p>The following code will allow the user to use a button to invert the current state of the alignment laser HAL bit pin:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = toggle-laser</code></pre>
</div></div>
<div class="paragraph"><p>This code is also able to be used as a multiple command with g-code or external commands but may control only the alignment laser HAL bit pin.</p></div>
<div class="paragraph"><p>The button colors will follow the state of the alignment laser hal pin.</p></div>
<div class="paragraph"><p>After setting the code, upon clicking, the button will invert colors and the alignment laser HAL pin will invert pin state. The button will stay "latched" until the button is clicked again, which will return the button to the original colors and the alignment laser HAL pin to the original pin state.</p></div>
<div class="paragraph"><p>The following code would allow the user to use a button to invert the current state of the alignment laser HAL bit pin and then move the X and Y axes to the offset for the alignment laser as specified in the &lt;machine_name&gt;.ini file:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = G0 {QTPLASMAC LASER_TOUCHOFF} \ toggle-laser</code></pre>
</div></div>
<div class="paragraph"><p>The position of the "toggle-laser" command is not important as it is always the first command actioned regardless of position.</p></div>
<div class="paragraph" id="qt_button-pulse"><p><strong><span class="underline">Pulse HAL Pin</span></strong></p></div>
<div class="paragraph"><p>The following code will allow the user to use a button to pulse a HAL bit pin for a duration of 0.5 seconds:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = pulse-halpin the-hal-pin-name 0.5</code></pre>
</div></div>
<div class="paragraph"><p>This code is required to be used as a single command and may only control one HAL bit pin per button.</p></div>
<div class="paragraph"><p>The pulse duration is specified in seconds, if the pulse duration is not specified then it will default to one second.</p></div>
<div class="paragraph"><p>The button colors will follow the state of the hal pin.</p></div>
<div class="paragraph"><p>After setting the code, upon clicking the button, the button will invert colors, the HAL pin will invert pin state, and the time remaining will be displayed on the button. The button color and the pin state will stay inverted until the pulse duration timer has completed, which will return the button to the original colors, the HAL pin to the original pin state, and the original button name.</p></div>
<div class="paragraph"><p>An active pulse can be canceled by clicking the button again.</p></div>
<div class="paragraph"><p>There are three <a href="qtplasmac.html#qt_ext-hal-pin">External HAL Pins</a> that are available to pulse as an output, the pin names are qtplasmac.ext_out_0, qtplasmac.ext_out_1, and qtplasmac.ext_out_2. HAL connections to these HAL pins need to be specified in a postgui HAL file as the Hal pins are not available until the QtPlasmac GUI has loaded.</p></div>
<div class="paragraph" id="qt_button-probe"><p><strong><span class="underline">Probe Test</span></strong></p></div>
<div class="paragraph"><p>QtPlasmaC will begin a probe and when the material is detected, the Z axis will rise to the Pierce Height currently displayed in the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>. If the user has "View Material" selected in the GUI SETTINGS section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>, this value will be displayed in the top left corner of the PREVIEW Window next to <strong>PH:</strong>.</p></div>
<div class="paragraph"><p>QtPlasmaC will then wait in this state for the time specified (rounded to no decimal places) before returning the Z axis to the starting position. An example of a 6 second delay is below. If there is no time specified then the probe time will default to 10 seconds.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = probe-test 6</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Enabling a user button as a Probe Test button will add an <a href="qtplasmac.html#qt_ext-hal-pin">external HAL pin</a> that may be connected from a pendant etc. HAL connections to this HAL pin needs to be specified in a postgui HAL file as the Hal pin is not available until the QtPlasmac GUI has loaded.</td>
</tr></table>
</div>
<div class="paragraph" id="qt_button-ohmic"><p><strong><span class="underline">Ohmic Test</span></strong></p></div>
<div class="paragraph"><p>QtPlasmaC will enable the Ohmic Probe Enable output signal and if the Ohmic Probe input is sensed, the LED indicator in the SENSOR Panel will light. The main purpose of this is to allow a quick test for a shorted torch tip.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = ohmic-test</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Enabling a user button as an Ohmic Test button will add an <a href="qtplasmac.html#qt_ext-hal-pin">external HAL pin</a> that may be connected from a pendant etc. HAL connections to this HAL pin needs to be specified in a postgui HAL file as the Hal pin is not available until the QtPlasmac GUI has loaded.</td>
</tr></table>
</div>
<div class="paragraph" id="qt_button-cut"><p><strong><span class="underline">Cut Type</span></strong></p></div>
<div class="paragraph"><p>This button if selected will toggle between the two <a href="qtplasmac.html#qt_cut-types">cut types</a>, Pierce and Cut (default cutting mode) or Pierce Only.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = cut-type</code></pre>
</div></div>
<div class="paragraph" id="qt_button-consumables"><p><strong><span class="underline">Change Consumables</span></strong></p></div>
<div class="paragraph"><p>Pressing this button moves the torch to the specified coordinates when the machine is paused to allow the user easy access to change the torch consumables.</p></div>
<div class="paragraph"><p>Valid entries are Xnnn Ynnn Fnnn. Feed Rate (F) is mandatory and at least one of the X or Y coordinates are required.</p></div>
<div class="paragraph"><p>The X and Y coordinates are in absolute machine coordinates. If X or Y are missing then the current coordinate for that axis will be used.</p></div>
<div class="paragraph"><p>There are three methods to return to the previous coordinates:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Press the <strong>Change Consumables</strong> button again - the torch will return to the original coordinates and the machine will wait in this position for the user to resume the program.
</p>
</li>
<li>
<p>
Press <strong>CYCLE RESUME</strong> - the torch to return to the original coordinates and the program will resume.
</p>
</li>
<li>
<p>
Press <strong>CYCLE STOP</strong> - the torch to return to the original coordinates and the program will abort.
</p>
</li>
</ol></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = change-consumables X10 Y10 F1000</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Enabling a user button as a Change Consumables button will add an <a href="qtplasmac.html#qt_ext-hal-pin">external HAL pin</a> that may be connected from a pendant etc. HAL connections to this HAL pin needs to be specified in a postgui HAL file as the Hal pin is not available until the QtPlasmac GUI has loaded.</td>
</tr></table>
</div>
<div class="paragraph" id="qt_button-load"><p><strong><span class="underline">Load</span></strong></p></div>
<div class="paragraph"><p>Loading a G-Code program from the directory specified by the <strong>PROGRAM_PREFIX</strong> variable in the &lt;machine_name&gt;.ini file (usually ~/linuxcnc/nc_files) is possible by using the following format:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = load G-Code.ngc</code></pre>
</div></div>
<div class="paragraph"><p>If the user&#8217;s G-Code file is located in a sub-directory of the <strong>PROGRAM_PREFIX</strong> directory, it would be accessed by adding the sub-directory name to the beginning of the G-Code file name. Example for a sub-directory named <strong>plasma</strong>:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = load plasma/G-Code.ngc</code></pre>
</div></div>
<div class="paragraph"><p>Note that the first "/" is not necessary as it will be added automatically.</p></div>
<div class="paragraph" id="qt_button-torch"><p><strong><span class="underline">Torch Pulse</span></strong></p></div>
<div class="paragraph"><p>Pulse the torch on for a predetermined time. The time must be specified in seconds using up to one decimal place. The maximum allowable time is 3 seconds, anything specified above that value will be limited to 3 seconds. An example of a 0.5 second pulse is below. It there is no time specified then it will default to 1 second. Pulse times with more than one decimal place will be rounded to one decimal place.</p></div>
<div class="paragraph"><p>Pressing the button again during the countdown will cause the torch to be turned off, as will pressing Esc if keyboard shortcuts are enabled in the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.</p></div>
<div class="paragraph"><p>If the button is released before the countdown is complete then the torch will turn off at countdown completion, holding the button on until after the countdown has completed will cause the torch to remain on until the button has been released.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = torch-pulse 0.5</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Enabling a user button as a Torch Pulse button will add an <a href="qtplasmac.html#qt_ext-hal-pin">external HAL pin</a> that may be connected from a pendant etc. HAL connections to this HAL pin needs to be specified in a postgui HAL file as the Hal pin is not available until the QtPlasmac GUI has loaded.</td>
</tr></table>
</div>
<div class="paragraph" id="qt_button-single"><p><strong><span class="underline">Single Cut</span></strong></p></div>
<div class="paragraph"><p>Run a single unidirectional cut. This utilises the automatic <a href="qtplasmac.html#qt_single-cut">Single Cut</a> feature.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = single-cut</code></pre>
</div></div>
<div class="paragraph" id="qt_button-framing"><p><strong><span class="underline">Framing</span></strong></p></div>
<div class="paragraph"><p>Framing is the ability to move the torch around the perimeter of a rectangle that encompasses the bounds of the current job.</p></div>
<div class="paragraph"><p>The laser enable HAL pin (qtplasmac.laser_on) will be enabled during the framing moves and any X/Y offsets for the laser pointer in the &lt;machine_name&gt;.ini file will also be applied to the X/Y motion.</p></div>
<div class="paragraph"><p>Upon starting a Framing cycle, it is important to note that by default the Z axis will be moved to a height of [AXIS_Z]MAX_LIMIT - 5mm before X/Y motion begins.</p></div>
<div class="paragraph"><p>The velocity for the XY movements of the Framing motion can be specified so that Framing motion always occurs at a set velocity. This can be achieved by adding the feed rate (F) as the as the last portion of the button code. If the feed rate is omitted from the button code, Framing motion velocity will default to the feed rate for the currently selected material.</p></div>
<div class="paragraph"><p>The following GUI buttons and Keyboard Shortcuts (if enabled in the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>) are valid during Framing motion:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Pressing <strong>CYCLE STOP</strong> or the ESC <a href="qtplasmac.html#qt_keyboard-shortcuts">keyboard shortcut</a> - Stops Framing motion.
</p>
</li>
<li>
<p>
Pressing <strong>CYCLE PAUSE</strong> or the SPACE BAR <a href="qtplasmac.html#qt_keyboard-shortcuts">keyboard shortcut</a>- Pauses Framing motion.
</p>
</li>
<li>
<p>
Pressing <strong>CYCLE RESUME</strong> or the CTRL+r <a href="qtplasmac.html#qt_keyboard-shortcuts">keyboard shortcut</a>- Resumes paused Framing motion.
</p>
</li>
<li>
<p>
Changing the <strong>FEED SLIDER</strong> or any of the CTRL+0-9 <a href="qtplasmac.html#qt_keyboard-shortcuts">keyboard shortcuts</a> - Slows the feed rate.
</p>
</li>
</ol></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">IF THE FEED RATE IS CHANGED FOR THE FRAMING MOTION, IT WILL BE NECESSARY TO RETURN THE FEED SLIDER TO 100% BEFORE PRESSING CYCLE START AND CUTTING THE LOADED JOB.</td>
</tr></table>
</div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = framing</code></pre>
</div></div>
<div class="paragraph"><p>It is possible for the user to omit the initial default Z movement and run the framing sequence at the current Z height by adding "usecurrentzheight" after "framing".</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = framing usecurrentzheight</code></pre>
</div></div>
<div class="paragraph"><p>To specify a feed rate:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = framing F100</code></pre>
</div></div>
<div class="paragraph"><p>or:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = framing usecurrentzheight F100</code></pre>
</div></div>
<div class="paragraph"><p>Enabling a user button as a Framing button will add an <a href="qtplasmac.html#qt_ext-hal-pin">external HAL pin</a> that may be connected from a pendant etc. HAL connections to this HAL pin needs to be specified in a postgui HAL file as the Hal pin is not available until the QtPlasmac GUI has loaded.</p></div>
<div class="paragraph" id="qt_button-mancut"><p><strong><span class="underline">Manual Cut</span></strong></p></div>
<div class="paragraph"><p>Manual Cut functions identically to the <strong>F9</strong> button to begin or end a <a href="qtplasmac.html#qt_manual-single-cut">manual cut</a>.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = manual-cut</code></pre>
</div></div>
<div class="paragraph" id="qt_button-offsets"><p><strong><span class="underline">Offset Viewer</span></strong></p></div>
<div class="paragraph"><p>This allows the showing/hiding of an offset viewing screen that displays all machine offsets. All relative offsets can be edited and the G54 ~ G59.3 work system coordinates are able to be given custom names.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = offsets-view</code></pre>
</div></div>
<div class="paragraph" id="qt_button-latest"><p>[underline]*Load Latest File</p></div>
<div class="paragraph"><p>this allows the loading of the last modified file in a directory. The directory name is optional and if omitted will default to the last directory a file was loaded from.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>BUTTON_n_CODE = latest-file /home/me/linuxcnc/nc_files/qtplasmac-test</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="peripheral-offsets">15.2. Peripheral Offsets (Laser, Camera, Scribe, Offset Probing)</h3>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_peripheral_offsets.png" alt="images/qtplasmac_peripheral_offsets.png" width="400" />
</div>
</div>
<div class="paragraph"><p>Use the following sequence to set the offsets for a laser, camera, or scribe:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Place a piece of scrap material under the torch.
</p>
</li>
<li>
<p>
Click the X0Y0 button to set the torch position to zero.
</p>
</li>
<li>
<p>
Make a mark on the material by one of:
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
jog the torch down to pierce height then pulse the torch on to make a dimple in the material.
</p>
</li>
<li>
<p>
place marking dye on the torch shield then jog the torch down to mark the material.
</p>
</li>
</ol></div>
</li>
<li>
<p>
Raise the Z axis so the torch and peripheral are clear of the material
</p>
</li>
<li>
<p>
Jog the X/Y axes so that the peripheral is centered in the mark from the torch.
</p>
</li>
<li>
<p>
Open the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> (or SETTINGS tab for 4x3 GUI).
</p>
</li>
<li>
<p>
Click the SET OFFSETS button which opens the OFFSET dialog.
</p>
</li>
<li>
<p>
Click the appropriate peripheral button and a confirmation dialog will open.
</p>
</li>
<li>
<p>
Click CONTINUE and the offsets will now be saved.
</p>
</li>
</ol></div>
<div class="paragraph"><p>Cancelling may be done at any stage by pressing the CANCEL button which will close the dialog and no changes will be saved.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">By following the above procedure the offsets are available for use immediately and no restart of LinuxCNC is required.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_keep_z_motion">15.3. Keep Z Motion</h3>
<div class="paragraph"><p>By default, QtPlasmaC will remove all Z motion from a loaded G-Code file and add an initial Z movement to bring the torch near the top of travel at the beginning of the file. If the user wishes to use their table with a marker, a drag knife, diamond scribe, etc. mounted in the torch holder, QtPlasmaC has the ability to retain the Z movements when executing a program by adding the following command in a G-Code file:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>  #&lt;keep-z-motion&gt; = 1</code></pre>
</div></div>
<div class="paragraph"><p>Omitting this command, or setting this value to anything but 1 will cause QtPlasmaC to revert to the default behavior of stripping all Z motion from a loaded G-Code file and making an initial Z movement to bring the torch near the top of travel at the beginning of the file.</p></div>
</div>
<div class="sect2">
<h3 id="qt_ext-hal-pin">15.4. External HAL Pins</h3>
<div class="paragraph"><p>QtPlasmaC creates some HAL pins that may be used to connect a momentary external button or pendant etc.</p></div>
<div class="paragraph"><p>HAL connections to these HAL pins need to be specified in a postgui HAL file as the Hal pins are not available until the QtPlasmac GUI has loaded.</p></div>
<div class="paragraph"><p>The following HAL bit pins are always created. The HAL pin has the identical behaviour of the related QtPlasmaC GUI button.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="37%" />
<col width="25%" />
<col width="37%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>User Button Function</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>HAL Pin</strong></p></td>
<td align="left" valign="top"><p class="table">*GUI Function</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Toggle machine power</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_power</p></td>
<td align="left" valign="top"><p class="table">POWER</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Run the loaded G-Code program</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_run</p></td>
<td align="left" valign="top"><p class="table">CYCLE START</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Pause/Resume the loaded G-Code program</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_pause</p></td>
<td align="left" valign="top"><p class="table">CYCLE PAUSE</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Abort the loaded G-Code program</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_abort</p></td>
<td align="left" valign="top"><p class="table">CYCLE STOP</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Touchoff X &amp; Y axes to zero</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_touchoff</p></td>
<td align="left" valign="top"><p class="table">X0Y0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Run/Pause/Resume the loaded G-Code program</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_run_pause</p></td>
<td align="left" valign="top"><p class="table">CYCLE START, CYCLE PAUSE, CYCLE RESUME in sequence</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Torch height override plus</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_height_ovr_plus</p></td>
<td align="left" valign="top"><p class="table">OVERRIDE<br /></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Torch height override minus</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_height_ovr_minus</p></td>
<td align="left" valign="top"><p class="table">OVERRIDE -</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Torch height override reset</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_height_ovr_reset</p></td>
<td align="left" valign="top"><p class="table">OVERRIDE RESET TO 0.00</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Torch height override scale</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_height_ovr_scale</p></td>
<td align="left" valign="top"><p class="table">N/A</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Toggle jogging speed between fast and slow</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_jog_slow</p></td>
<td align="left" valign="top"><p class="table">JOGGING FAST/SLOW</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Toggle THC enable</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_thc_enable</p></td>
<td align="left" valign="top"><p class="table">THC ENABLE</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Toggle torch enable</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_torch_enable</p></td>
<td align="left" valign="top"><p class="table">TORCH ENABLE</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Toggle corner Lock enable</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cornerlock_enable</p></td>
<td align="left" valign="top"><p class="table">VELOCITY ANTI DIVE ENABLE</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Toggle kerfkross enable</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_kerfcross_enable</p></td>
<td align="left" valign="top"><p class="table">VOID ANTI DIVE ENABLE</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Toggle use auto volts</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_auto_volts_enable</p></td>
<td align="left" valign="top"><p class="table">AUTO VOLTS</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Toggle ohmic probe enable</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_ohmic_probe_enable</p></td>
<td align="left" valign="top"><p class="table">OHMIC ENABLE</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Toggle mesh mode</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_mesh_mode</p></td>
<td align="left" valign="top"><p class="table">MESH MODE</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Toggle arc ignore OK</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_ignore_arc_ok</p></td>
<td align="left" valign="top"><p class="table">IGNORE OK</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Forward along the programmed path</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cutrec_fwd</p></td>
<td align="left" valign="top"><p class="table">CUT RECOVERY FWD</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Reverse along the programmed path</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cutrec_rev</p></td>
<td align="left" valign="top"><p class="table">CUT RECOVERY REV</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cancel any Cut Recovery movement</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cutrec_cancel</p></td>
<td align="left" valign="top"><p class="table">CUT RECOVERY CANCEL MOVE</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Move up</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cutrec_n</p></td>
<td align="left" valign="top"><p class="table">CUT RECOVERY arrow up</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Move down</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cutrec_s</p></td>
<td align="left" valign="top"><p class="table">CUT RECOVERY arrow down</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Move right</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cutrec_e</p></td>
<td align="left" valign="top"><p class="table">CUT RECOVERY arrow right</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Move left</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cutrec_w</p></td>
<td align="left" valign="top"><p class="table">CUT RECOVERY arrow left</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Move up-right</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cutrec_ne</p></td>
<td align="left" valign="top"><p class="table">CUT RECOVERY arrow up-right</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Move up-left</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cutrec_nw</p></td>
<td align="left" valign="top"><p class="table">CUT RECOVERY arrow up-left</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Move down-right</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cutrec_se</p></td>
<td align="left" valign="top"><p class="table">CUT RECOVERY arrow down-right</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Move down-left</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_cutrec_sw</p></td>
<td align="left" valign="top"><p class="table">CUT RECOVERY arrow down-left</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The following HAL pins which allow the use of an MPG to control height override are always created.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="40%" />
<col width="60%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Function</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>HAL Pin</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Enable MPG height control</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_height_ovr_count_enable</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">MPG height change</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_height_ovr_counts</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The following HAL bit pins are only created if the function is specified in a <a href="qtplasmac.html#qt_custom-user-buttons">custom user button</a>. The HAL pin has the identical behaviour of the related custom user button.</p></div>
<div class="tableblock">
<table rules="all"
width="50%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>User Button Function</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>HAL Pin</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Probe Test</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_probe</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Torch Pulse</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_pulse</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Ohmic Test</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_ohmic</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Change Consumables</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_consumables</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Framing</p></td>
<td align="left" valign="top"><p class="table">qtplasmac.ext_frame_job</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The following HAL bit output pins are always created and can be used by either the <a href="qtplasmac.html#qt_button-toggle">Toggle HAL Pin</a> or <a href="qtplasmac.html#qt_button-pulse">Pulse HAL Pin</a> custom user buttons to change the state of an output.</p></div>
<div class="tableblock">
<table rules="all"
width="50%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="100%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>HAL Pin</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">qtplasmac.ext_out_0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">qtplasmac.ext_out_1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">qtplasmac.ext_out_2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_hide_program_buttons">15.5. Hide Program Buttons</h3>
<div class="paragraph"><p>If the user has external buttons and/or a pendant that emulates any of the program buttons, CYCLE START, CYCLE PAUSE, or CYCLE STOP then it is possible to hide any or all of these GUI program buttons by adding the following code to the [QTPLASMAC] section of the &lt;machine_name&gt;.ini file:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>HIDE_RUN       = 1
HIDE_PAUSE     = 1
HIDE_ABORT     = 1</code></pre>
</div></div>
<div class="paragraph"><p>For the 16:9 or 4:3 GUIs, the hiding of each of these GUI buttons will expose two more custom user buttons in the GUI.</p></div>
</div>
<div class="sect2">
<h3 id="_tuning_void_sensing">15.6. Tuning Void Sensing</h3>
<div class="paragraph"><p>Void sensing may be further tuned by adjusting the required number of consecutive times that the threshold has been exceeded before applying the void lock to the THC.</p></div>
<div class="paragraph"><p>The HAL pin for adjusting this is named plasmac.kerf-errors-max and the default value is 2. To change this value, add the pin and the required value to the custom.hal file. The following example would set the required number of consecutive times to exceed the threshold to 3:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>setp plasmac.kerf-error-max 3</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_lost_arc_delay">15.7. Lost Arc Delay</h3>
<div class="paragraph"><p>Some plasma power sources/machine configurations may lose the Arc OK signal either momentarily during a cut, or permanently near the end of a cut causing QtPlasmaC to pause the program and report a "valid arc lost" error. There is a HAL pin named <strong>plasmac.arc-lost-delay</strong> that may be used to set a delay (in seconds) that will prevent a paused program/error if the lost Arc OK signal is regained, or the <strong>M5</strong> command is reached before the set delay period expires. It is important to note that the THC will be disabled and locked at the cutting height at the time the Arc OK signal was lost.</p></div>
<div class="paragraph"><p>The following code would set a delay of 0.1 seconds:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>setp plasmac.arc-lost-delay 0.1</code></pre>
</div></div>
<div class="paragraph"><p>It is recommended that the user set this pin in the custom.hal file.</p></div>
<div class="paragraph"><p>This setting should only be used if the user experiences the above symptoms. It should also be noted that the user could use the appropriate <a href="qtplasmac.html#qt_ignore-ok">Ignore Arc OK</a> G-Code commands to achieve a similar result.</p></div>
</div>
<div class="sect2">
<h3 id="mode0-arcok">15.8. Tuning Mode 0 Arc OK</h3>
<div class="paragraph"><p>Mode 0 Arc OK relies on the arc voltage to set the Arc OK signal. This is accomplished by sampling the arc voltage every servo thread cycle. There needs to be a specified number of consecutive samples all within a specified threshold for the Arc OK signal to be set. These voltages are also required to be within a specified range.</p></div>
<div class="paragraph"><p>There are two settings in the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a> for setting the range, these are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>OK HIGH VOLTS</strong> which is the upper value of the voltage range. The default is 250V.
</p>
</li>
<li>
<p>
<strong>OK LOW VOLTS</strong> which is the lower value of the voltage range. The default is 60V.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Both of these values may be changed by direct entry or by the use of the increment/decrement buttons.</p></div>
<div class="paragraph"><p>There are also two HAL pins that have been provided to allow the user to tune the set point. These HAL pins are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>plasmac.arc-ok-counts</strong> which is the number of consecutive readings within the threshold that are required to set the Arc OK signal. The default is 10.
</p>
</li>
<li>
<p>
<strong>plasmac.arc-ok-threshold</strong> which is the maximum voltage deviation that is allowed for a valid voltage to set the Arc OK signal. The default is 10.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The following example would set the number of valid consecutive readings required to 6:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>setp plasmac.arc-ok-counts 6</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_zero_window">15.9. Zero Window</h3>
<div class="paragraph"><p>Small fluctuations in the arc voltage displayed while the machine is at idle are possible depending on many different variables (electrical noise, incorrect THCAD tuning, etc.). After all contributing factors have been mitigated, if a small fluctuation still exists it is possible to eliminate it by widening the voltage window for which QtPlasmaC will display 0v.</p></div>
<div class="paragraph"><p>The pin for adjusting this value is named plasmac.zero-window and the default value is set to 0.1. To change this value, add the pin and the required value to the custom.hal file. The following example would set the voltage window to be displayed as 0v from -5v to +5v:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>setp plasmac.zero-window 5</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_max_offset">15.10. Max Offset</h3>
<div class="paragraph"><p>Max Offset is the distance (in millimeters) away from the Z MAX_LIMIT that QtPlasmaC will allow the Z axis to travel while under machine control.</p></div>
<div class="paragraph"><p>The pin for adjusting this value is named plasmac.max-offset and the default value (in millimeters) is set to 5. To change this value, add the pin and the required value to the custom.hal file. It is not recommended to use values less than 5mm as offset overrun may cause unforeseen issues.</p></div>
<div class="paragraph"><p>The following example would set the distance from Z MAX_LIMIT to 10mm:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>setp plasmac.max-offset 10</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_qtplasmac_state_outputs">15.11. QtPlasmaC State Outputs</h3>
<div class="paragraph"><p>The plasmac HAL component has a HAL pin named <strong>plasmac.state-out</strong> which can be used to interface with user-coded components to provide the current state of the component.</p></div>
<div class="paragraph"><p>The different states QtPlasmaC could encounter are as follows:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="5%" />
<col width="27%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>State</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Name</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">IDLE</p></td>
<td align="left" valign="top"><p class="table">idle and waiting for a start command</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">PROBE_HEIGHT</p></td>
<td align="left" valign="top"><p class="table">move down to probe height</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table">PROBE_DOWN</p></td>
<td align="left" valign="top"><p class="table">probe down until material sensed</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">3</p></td>
<td align="left" valign="top"><p class="table">PROBE_UP</p></td>
<td align="left" valign="top"><p class="table">probe up until material not sensed, this sets the zero height</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">4</p></td>
<td align="left" valign="top"><p class="table">ZERO_HEIGHT</p></td>
<td align="left" valign="top"><p class="table">not used at present</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">5</p></td>
<td align="left" valign="top"><p class="table">PIERCE_HEIGHT</p></td>
<td align="left" valign="top"><p class="table">move up to pierce height</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">6</p></td>
<td align="left" valign="top"><p class="table">TORCH_ON</p></td>
<td align="left" valign="top"><p class="table">turn the torch on</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">7</p></td>
<td align="left" valign="top"><p class="table">ARC_OK</p></td>
<td align="left" valign="top"><p class="table">wait until arc ok detected</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">8</p></td>
<td align="left" valign="top"><p class="table">PIERCE_DELAY</p></td>
<td align="left" valign="top"><p class="table">wait for pierce delay time</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">9</p></td>
<td align="left" valign="top"><p class="table">PUDDLE_JUMP</p></td>
<td align="left" valign="top"><p class="table">xy motion begins, move to puddle jump height</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">10</p></td>
<td align="left" valign="top"><p class="table">CUT_HEIGHT</p></td>
<td align="left" valign="top"><p class="table">move to cut height</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">11</p></td>
<td align="left" valign="top"><p class="table">CUT_MODE_01</p></td>
<td align="left" valign="top"><p class="table">cutting in either mode 0 or mode 1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">12</p></td>
<td align="left" valign="top"><p class="table">CUT_MODE_2</p></td>
<td align="left" valign="top"><p class="table">cutting in mode 2</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">13</p></td>
<td align="left" valign="top"><p class="table">PAUSE_AT_END</p></td>
<td align="left" valign="top"><p class="table">pause motion at end of cut</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">14</p></td>
<td align="left" valign="top"><p class="table">SAFE_HEIGHT</p></td>
<td align="left" valign="top"><p class="table">move to safe height</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">15</p></td>
<td align="left" valign="top"><p class="table">MAX_HEIGHT</p></td>
<td align="left" valign="top"><p class="table">move to maximum height</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">16</p></td>
<td align="left" valign="top"><p class="table">END_CUT</p></td>
<td align="left" valign="top"><p class="table">end the current cut</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">17</p></td>
<td align="left" valign="top"><p class="table">END_JOB</p></td>
<td align="left" valign="top"><p class="table">end the current job</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">18</p></td>
<td align="left" valign="top"><p class="table">TORCHPULSE</p></td>
<td align="left" valign="top"><p class="table">a torch pulse is active</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">19</p></td>
<td align="left" valign="top"><p class="table">PAUSED_MOTION</p></td>
<td align="left" valign="top"><p class="table">cut recovery motion is active while paused</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">20</p></td>
<td align="left" valign="top"><p class="table">OHMIC_TEST</p></td>
<td align="left" valign="top"><p class="table">an ohmic test is active</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">21</p></td>
<td align="left" valign="top"><p class="table">PROBE_TEST</p></td>
<td align="left" valign="top"><p class="table">a probe test is active</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">22</p></td>
<td align="left" valign="top"><p class="table">SCRIBING</p></td>
<td align="left" valign="top"><p class="table">a scribing job is active</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">23</p></td>
<td align="left" valign="top"><p class="table">CONSUMABLE_CHANGE_ON</p></td>
<td align="left" valign="top"><p class="table">move to consumable change coordinates</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">24</p></td>
<td align="left" valign="top"><p class="table">CONSUMABLE_CHANGE_OFF</p></td>
<td align="left" valign="top"><p class="table">return from consumable change coordinates</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">25</p></td>
<td align="left" valign="top"><p class="table">CUT_RECOVERY_ON</p></td>
<td align="left" valign="top"><p class="table">cut recovery is active</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">26</p></td>
<td align="left" valign="top"><p class="table">CUT_RECOVERY_OFF</p></td>
<td align="left" valign="top"><p class="table">cut recovery is deactivated</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The DEBUG state is for testing purposes only and will not normally be encountered.</p></div>
</div>
<div class="sect2">
<h3 id="_qtplasmac_debug_print">15.12. QtPlasmaC Debug Print</h3>
<div class="paragraph"><p>The plasmac HAL component has a HAL pin named <strong>plasmac.debug-print</strong> which if set to 1 (true) will print to terminal every state change as a debug aid.</p></div>
</div>
<div class="sect2">
<h3 id="qt_pm_comms">15.13. Hypertherm PowerMax Communications</h3>
<div class="paragraph"><p>Communications can be established with a Hypertherm PowerMax plasma cutter that has a RS485 port. This feature enables the setting of <strong>Cut Mode</strong>, <strong>Cutting Amperage</strong> and <strong>Gas Pressure</strong> automatically from the <strong>Cut Parameters</strong> of the material file. In addition, the user will be able to view the PowerMax&#8217;s <strong>Arc On Time</strong> in hh:mm:ss format on the <a href="qtplasmac.html#qt_statistics-tab">STATISTICS Tab</a>.</p></div>
<div class="paragraph"><p>If <strong>Gas Pressure</strong> is set to Zero then the PowerMax will automatically calculate the required pressure from the <strong>Cut Mode</strong>, <strong>Cut Current</strong>, torch type, and torch length.</p></div>
<div class="paragraph"><p>Changing the cutting mode will set the gas pressure to zero causing the machine to use its automatic gas pressure mode.</p></div>
<div class="paragraph"><p>The maximum and minimum values of these parameters are read from the plasma cutter and the related spin-buttons in the Cut Parameters are then limited by these values. Gas pressure cannot be changed from zero until communications have been established.</p></div>
<div class="paragraph"><p>This feature is enabled by setting the correct port name for the PM_PORT variable in the [QTPLASMAC] section of the &lt;machine_name&gt;.ini file. If the PM_PORT variable is not set in the &lt;machine_name&gt;.ini file then the widgets associated with this feature will not be visible.</p></div>
<div class="paragraph"><p>Example showing enabling the Hypertherm PowerMax Communications on USB0:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>[QTPLASMAC]
PM_PORT = /dev/ttyusb0</code></pre>
</div></div>
<div class="paragraph"><p>If the user is unsure of the name of the port, there is a python script in the configuration directory that will show all available ports and can also be used to test communications with the plasma unit prior to enabling this feature in the QtPlasmaC GUI.</p></div>
<div class="paragraph"><p>To use the test script follow these instructions:</p></div>
<div class="paragraph"><p>For a package installation (Buildbot) enter the following command in a terminal window:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>pmx485-test</code></pre>
</div></div>
<div class="paragraph"><p>For a run in place installation enter the following two commands in a terminal window:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>source ~/linuxcnc-dev/scripts/rip-environment
pmx485-test</code></pre>
</div></div>
<div class="paragraph"><p>The gas pressure units display (psi or bar) is determined by the data received during initial setup of the communication link and is then shown next to the Gas Pressure setting in the MATERIAL section of the <a href="qtplasmac.html#qt_parameters-tab">PARAMETERS Tab</a>.</p></div>
<div class="paragraph"><p>The PowerMax machine will go into remote mode after communications have been established and may only be controlled remotely (via the QtPlasmaC GUI) at this point. The connection can be validated by observing the PowerMax display.</p></div>
<div class="paragraph"><p>To switch the PowerMax back to local mode the user can either:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Disable PowerMax Comms from the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a>
</p>
</li>
<li>
<p>
Close LinuxCNC which will put the PowerMax into local mode during shutdown.
</p>
</li>
<li>
<p>
Turn the PowerMax off for 30 seconds and then power it back on.
</p>
</li>
</ol></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">If PowerMax communications is active then selecting <a href="qtplasmac.html#qt_mesh-mode">Mesh Mode</a> will automatically select CPA mode on the PowerMax unit.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">To use the PowerMax communications feature it is necessary to have the python pyserial module installed.<br />
If pyserial is not installed an error message will be displayed.</td>
</tr></table>
</div>
<div class="paragraph"><p>To install pyserial, enter the following command into a terminal window:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>sudo apt install python-serial</code></pre>
</div></div>
<div class="paragraph"><p>A typical <a href="qtplasmac.html#qt_rs485_connections">connection diagram</a> is shown in the appendix of this document as well as confirmed working interfaces.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_internationalisation">16. Internationalisation</h2>
<div class="sectionbody">
<div class="paragraph"><p>It is possible to create translation files for QtPlasmaC to display in the language of the current locale.</p></div>
<div class="paragraph"><p>To create and or edit a translation file requires that LinuxCNC has been installed as run in place.</p></div>
<div class="paragraph"><p>The following assumes that the linuxcnc git directory is ~/linuxcnc-dev.</p></div>
<div class="paragraph"><p>The <strong>$</strong> indicates a terminal prompt.</p></div>
<div class="paragraph"><p>All language files are kept in ~/linuxcnc-dev/share/screens/qtplasmac/languages.</p></div>
<div class="paragraph"><p>The qtplasmac.py file is a python version of the GUI file used for translation purposes.</p></div>
<div class="paragraph"><p>The .ts files are the translation source files for the translations. These are the files that require creating/editing for each language.</p></div>
<div class="paragraph"><p>The .qm files are the compiled translation files used by pyqt.</p></div>
<div class="paragraph"><p>The language is determined by an underscore plus the first two letters of the locale, for example if an Italian translation was being done then it would be "\_it". It will be referred to as "_xx" in this document, so "qtplasmac_xx.ts" in this document would actually be "qtplasmac_it.ts" for an Italian translation.</p></div>
<div class="paragraph"><p>The default locale for QtPlasmaC is "_en" which means that any translation files created as "qtplasmac_en.*" will not be used for translations.</p></div>
<div class="paragraph"><p>If any of the required utilities (pyuic5, pylupdate5, linguist) are not installed then the user will need to install pyqt5-dev-tools:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ sudo apt install pyqt5-dev-tools</code></pre>
</div></div>
<div class="paragraph"><p>Change to the languages directory:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ cd ~/linuxcnc-dev/share/qtvcp/screens/qtplasmac/languages</code></pre>
</div></div>
<div class="paragraph"><p>If any text changes have been made to the GUI then run the following to update the GUI python file:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ pyuic5 ../qtplasmac.ui &gt; qtplasmac.py</code></pre>
</div></div>
<div class="paragraph"><p>The user can either create a new translation source file for a non-existing language translation or modify an existing translation source file due to changes being made to some text in a QtPlasmaC source file. If modifying an existing translation that has had no source file changes then this step is not required.</p></div>
<div class="paragraph"><p>Create or edit a .ts file:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ langfile xx</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">this command is a script which runs the following: $ pylupdate5 <strong>.py ../</strong>.py ../../../../../lib/python/qtvcp/lib/qtplasmac/*.py -ts qtplasmac_xx.ts</td>
</tr></table>
</div>
<div class="paragraph"><p>The editing of the translation is done with the linguist application:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ linguist</code></pre>
</div></div>
<div class="paragraph"><p>Then open the required translation file.</p></div>
<div class="paragraph"><p>It is not necessary to provide a translation for every text string, if no translation is specified for a string then the original string will be used in the application.
The user needs to be careful with the length of strings that appear on widgets as space is limited. If possible try to make the translation no longer than the original.</p></div>
<div class="paragraph"><p>When editing is complete save the file:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>File &gt; Save</code></pre>
</div></div>
<div class="paragraph"><p>Then create the .qm file:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>File &gt; Release</code></pre>
</div></div>
<div class="paragraph"><p>Then create links to the compiled .qm file for the other QtPlasmaC GUIs.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ ln -s qtplasmac_en.qm ../../qtplasmac_4x3/languages/
$ ln -s qtplasmac_en.qm ../../qtplasmac_9x16/languages/</code></pre>
</div></div>
<div class="paragraph"><p>QtPlasmaC will be translated to the language of the current locale on the next start so long as a .qm file exists in that language.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_appendix">17. Appendix</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_example_configurations">17.1. Example Configurations</h3>
<div class="paragraph"><p>There are example configuration files which use the QtPlasmaC GUI to simulate plasma cutting machines.</p></div>
<div class="paragraph"><p>They can be found in the LinuxCNC chooser under: Sample Configurations -&gt; by_machine -&gt; qtplasmac</p></div>
<div class="paragraph"><p>Three versions are available in both metric and imperial units:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
qtplasmac_l - 16:9 format, minimum resolution 1366x768
</p>
</li>
<li>
<p>
qtplasmac_p - 9:16 format, minimum resolution 786x1366
</p>
</li>
<li>
<p>
qtplasmac_s - 4:3 format, minimum resolution 1024x768
</p>
</li>
</ol></div>
<div class="paragraph"><p>Each sample configuration includes a popup control panel to simulate various inputs to the GUI such as:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
ARC VOLTAGE
</p>
</li>
<li>
<p>
OHMIC SENSE
</p>
</li>
<li>
<p>
FLOAT SWITCH
</p>
</li>
<li>
<p>
BREAKAWAY SWITCH
</p>
</li>
<li>
<p>
ESTOP
</p>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="_ngc_samples">17.2. NGC Samples</h3>
<div class="paragraph"><p>There are some sample G-Code files in nc_files/plasmac.</p></div>
</div>
<div class="sect2">
<h3 id="_change_type_of_linuxcnc_installation">17.3. Change Type Of LinuxCNC Installation</h3>
<div class="paragraph"><p>It is recommended that a <a href="qtplasmac.html#qt_backup">backup</a> copy of the existing QtPlasmaC configuration is made before proceeding.</p></div>
<div class="paragraph"><p>To change the type of LinuxCNC installation from a Package installation (Buildbot) to a Run In Place or vice versa the user will need to run the qtplasmac-setup program.</p></div>
<div class="paragraph"><p>Enter the following command into a terminal window do one of the following:</p></div>
<div class="paragraph"><p>Switch to a Package installation (Buildbot):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>qtplasmac-setup</code></pre>
</div></div>
<div class="paragraph"><p>Switch to a Run In Place installation:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>source ~/linuxcnc-dev/scripts/rip-environment
qtplasmac-setup</code></pre>
</div></div>
<div class="paragraph"><p>This will load the setup program:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_setup.png" alt="images/qtplasmac_setup.png" width="400" />
</div>
</div>
<div class="paragraph"><p>press <em>SELECT</em> which will open a file dialog box, select the .ini file of the QtPlasmaC configuration then press <em>SWITCH</em>. The installation type will now be changed.</p></div>
</div>
<div class="sect2">
<h3 id="_qtplasmac_specific_g_codes">17.4. QtPlasmaC Specific G-Codes</h3>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Code</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Begin <a href="qtplasmac.html#qt_multi-tool">cut</a></p></td>
<td align="left" valign="top"><p class="table">M3 $0 S1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">End <a href="qtplasmac.html#qt_multi-tool">cut</a></p></td>
<td align="left" valign="top"><p class="table">M5 $0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Begin <a href="qtplasmac.html#qt_scribe">scribe</a></p></td>
<td align="left" valign="top"><p class="table">M3 $1 S1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">End <a href="qtplasmac.html#qt_scribe">scribe</a></p></td>
<td align="left" valign="top"><p class="table">M5 $1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Begin <a href="qtplasmac.html#qt_spotting">center spot</a></p></td>
<td align="left" valign="top"><p class="table">M3 $2 S1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">End <a href="qtplasmac.html#qt_spotting">center spot</a></p></td>
<td align="left" valign="top"><p class="table">M5 $2</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">End all the above</p></td>
<td align="left" valign="top"><p class="table">M5 $-1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Select a <a href="qtplasmac.html#qt_material-handling">material</a></p></td>
<td align="left" valign="top"><p class="table">M190 Pn<br />
    n denotes the material number</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Wait for <a href="qtplasmac.html#qt_material-handling">material</a> change confirmation</p></td>
<td align="left" valign="top"><p class="table">M66 P3 L3 Qn<br />
    n is delay time (in seconds)
    This value may need to be increased for very
    large material files</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Set feed rate from <a href="qtplasmac.html#qt_material-handling">material</a></p></td>
<td align="left" valign="top"><p class="table">F#&lt;_hal[plasmac.cut-feed-rate]&gt;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Enable <a href="qtplasmac.html#qt_ignore-ok">Ignore Arc OK</a></p></td>
<td align="left" valign="top"><p class="table">M62 P1 (synchronized with motion)<br />
    M64 P1 (immediate)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Disable <a href="qtplasmac.html#qt_ignore-ok">Ignore Arc OK</a></p></td>
<td align="left" valign="top"><p class="table">M63 P1 (synchronized with motion)<br />
    M65 P1 (immediate)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Disable <a href="qtplasmac.html#qt_thc">THC</a></p></td>
<td align="left" valign="top"><p class="table">M62 P2 (synchronized with motion)<br />
    M64 P2 (immediate)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Enable <a href="qtplasmac.html#qt_thc">THC</a></p></td>
<td align="left" valign="top"><p class="table">M63 P2 (synchronized with motion)<br />
    M65 P2 (immediate)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Disable <a href="qtplasmac.html#qt_overcut">Torch</a></p></td>
<td align="left" valign="top"><p class="table">M62 P3 (synchronized with motion)<br />
    M64 P3 (immediate)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Enable <a href="qtplasmac.html#qt_overcut">Torch</a></p></td>
<td align="left" valign="top"><p class="table">M63 P3 (synchronized with motion)<br />
    M65 P3 (immediate)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Set <a href="qtplasmac.html#qt_velocity_thc">velocity</a> to a percentage of feed rate</p></td>
<td align="left" valign="top"><p class="table">M67 E3 Qn (synchronized with motion)<br />
    M68 E3 Qn (immediate)<br />
    n is the percentage to set<br />
    10 is the minimum, below this will be set to 100%<br />
    100 is the maximum, above this will be set to 100%
    <strong>It is recommended to have M68 E3 Q0 in both the preamble and postamble</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cutter <a href="qtplasmac.html#qt_cutter-compensation">compensation</a> - left of path</p></td>
<td align="left" valign="top"><p class="table">G41.1 D#&lt;_hal[plasmac_run.kerf-width-f]&gt;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cutter <a href="qtplasmac.html#qt_cutter-compensation">compensation</a> - right of path</p></td>
<td align="left" valign="top"><p class="table">G42.1 D#&lt;_hal[plasmac_run.kerf-width-f]&gt;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cutter <a href="qtplasmac.html#qt_cutter-compensation">compensation</a> off</p></td>
<td align="left" valign="top"><p class="table">G40<br />
    <strong>Note that M62 through M68 are invalid while cutter compensation is on</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut <a href="qtplasmac.html#qt_hole-cutting">holes</a> at 60% feed rate</p></td>
<td align="left" valign="top"><p class="table">#&lt;holes&gt; = 1<br />
    for holes less than 32mm (1.26") diameter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut <a href="qtplasmac.html#qt_hole-cutting">holes</a> at 60% feed rate,<br />
turn torch off at hole end,<br />
continue hole path for overcut</p></td>
<td align="left" valign="top"><p class="table">#&lt;holes&gt; = 2<br />
    for holes less than 32mm (1.26") diameter
    overcut length = 4mm (0.157")</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut <a href="qtplasmac.html#qt_hole-cutting">holes</a> and arcs at 60% feed rate</p></td>
<td align="left" valign="top"><p class="table">#&lt;holes&gt; = 3<br />
    for holes less than 32mm (1.26") diameter<br />
    for arcs less than 16mm (0.63") radius</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut <a href="qtplasmac.html#qt_hole-cutting">holes</a> and arcs at 60% feed rate,<br />
turn torch off at hole end,<br />
continue hole path for overcut</p></td>
<td align="left" valign="top"><p class="table">#&lt;holes&gt; = 4<br />
    for holes less than 32mm (1.26") diameter<br />
    for arcs less than 16mm (0.63") radius<br />
    overcut length = 4mm (0.157")</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Specify <a href="qtplasmac.html#qt_hole-cutting">hole</a> diameter for<br />
#&lt;holes&gt; = 1-4</p></td>
<td align="left" valign="top"><p class="table">#&lt;h_diameter&gt; = n (n is the diameter, use the same units system as the rest of the G-Code file)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Specify <a href="qtplasmac.html#qt_hole-cutting">hole</a> velocity for<br />
#&lt;holes&gt; = 1-4</p></td>
<td align="left" valign="top"><p class="table">#&lt;h_velocity&gt; = n (n is the percentage, set the percentage of the current feed rate)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Specify <a href="qtplasmac.html#qt_overcut">overcut</a> length</p></td>
<td align="left" valign="top"><p class="table">#&lt;oclength&gt; = n (n is the length, use the same units system as the rest of the G-Code file)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Specify <a href="qtplasmac.html#qt_cut-types">pierce-only</a> mode</p></td>
<td align="left" valign="top"><p class="table">#&lt;pierce-only&gt; = n (n is the mode, 0=normal cut mode, 1=pierce only mode)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Create or edit materials.<br />
options:<br />
1 - Create temporary default<br />
2 - Add if not existing<br />
3 - Overwrite if existing else add new<br /></p></td>
<td align="left" valign="top"><p class="table">mandatory parameters:<br />
    (o=&lt;option&gt;, nu=&lt;nn&gt;, na=&lt;ll&gt;, ph=&lt;nn&gt;, pd=&lt;nn&gt;, ch=&lt;nn&gt;, fr=&lt;nn&gt;)<br />
    optional parameters:<br />
    (kw=&lt;nn&gt;, th=&lt;nn&gt;, ca=&lt;nn&gt;, cv=&lt;nn&gt;, pe=&lt;nn&gt;, gp=&lt;nn&gt;, cm=&lt;nn&gt;, jh=&lt;nn&gt;, jd=&lt;nn&gt;)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><a href="qtplasmac.html#qt_magic-comments">Keep Z Motion</a></p></td>
<td align="left" valign="top"><p class="table">#&lt;keep-z-motion&gt; = 1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_qtplasmac_g_code_examples">17.5. QtPlasmaC G-code Examples</h3>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Description</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Example</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Select material and do a normal cut</p></td>
<td align="left" valign="top"><p class="table">M190 P3<br />
    M66 P3 L3 Q1<br />
    F#&lt;_hal[plasmac.cut-feed-rate]&gt;<br />
    M3 $0 S1<br />
    .<br />
    .<br />
    M5 $0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Set velocity to 100% of CutFeedRate</p></td>
<td align="left" valign="top"><p class="table">M67 E3 Q0 or M67 E3 Q100</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Set velocity to 60% of CutFeedRate</p></td>
<td align="left" valign="top"><p class="table">M67 E3 Q60</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Set velocity to 40% of CutFeedRate</p></td>
<td align="left" valign="top"><p class="table">M67 E3 Q40</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut a hole with 60% reduced speed using velocity setting</p></td>
<td align="left" valign="top"><p class="table">G21 (metric)<br />
    G64 P0.05<br />
    M52 P1 (allow paused motion)<br />
    F#&lt;_hal[plasmac.cut-feed-rate]&gt;<br />
    G0 X10 Y10<br />
    M3 $0 S1 (start cut)<br />
    G1 X0<br />
    M67 E3 Q60 (reduce feed rate to 60%)<br />
    G3 I10 (the hole)<br />
    M67 E3 Q100 (restore feed rate to 100%)<br />
    M5 $0 (end cut)<br />
    G0 X0 Y0<br />
    M2 (end job)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut a hole with 60% reduced speed using the #&lt;holes&gt; command</p></td>
<td align="left" valign="top"><p class="table">G21 (metric)<br />
    G64 P0.05<br />
    M52 P1 (allow paused motion)<br />
    #&lt;holes&gt; = 1 (velocity reduction for holes)<br />
    F#&lt;_hal[plasmac.cut-feed-rate]&gt;<br />
    G0 X10 Y10<br />
    M3 $0 S1 (start cut)<br />
    G1 X0<br />
    G3 I10 (the hole)<br />
    M5 $0 (end cut)<br />
    G0 X0 Y0<br />
    M2 (end job)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut a hole with overcut using torch disable</p></td>
<td align="left" valign="top"><p class="table">G21 (metric)<br />
    G64 P0.05<br />
    M52 P1 (allow paused motion)<br />
    F#&lt;_hal[plasmac.cut-feed-rate]&gt;<br />
    G0 X10 Y10<br />
    M3 $0 S1 (start cut)<br />
    G1 X0<br />
    M67 E3 Q60 (reduce feed rate to 60%)<br />
    G3 I10 (the hole)<br />
    M62 P3 (turn torch off)<br />
    G3 X0.8 Y6.081 I10 (continue motion for 4mm)<br />
    M63 P3 (allow torch to be turned on)<br />
    M67 E3 Q0 (restore feed rate to 100%)<br />
    M5 $0 (end cut)<br />
    G0 X0 Y0<br />
    M2 (end job)<br /></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut a hole with overcut using the #&lt;holes&gt; command</p></td>
<td align="left" valign="top"><p class="table">G21 (metric)<br />
    G64 P0.05<br />
    M52 P1 (allow paused motion)<br />
    #&lt;holes&gt; = 2 (overcut for holes)<br />
    F#&lt;_hal[plasmac.cut-feed-rate]&gt;<br />
    G0 X10 Y10<br />
    M3 $0 S1 (start cut)<br />
    G1 X0<br />
    G3 I10 (the hole)<br />
    M5 $0 (end cut)<br />
    G0 X0 Y0<br />
    M2 (end job)<br /></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Cut a hole with 6.5mm overcut using the #&lt;holes&gt; command</p></td>
<td align="left" valign="top"><p class="table">G21 (metric)<br />
    G64 P0.05<br />
    M52 P1 (allow paused motion)<br />
    #&lt;holes&gt; = 2 (overcut for holes)<br />
    &lt;oclength&gt; = 6.5 (6.5mm overcut length)<br />
    F&lt;_hal[plasmac.cut-feed-rate]&gt;<br />
    G0 X10 Y10<br />
    M3 $0 S1 (start cut)<br />
    G1 X0<br />
    G3 I10 (the hole)<br />
    M5 $0 (end cut)<br />
    G0 X0 Y0<br />
    M2 (end job)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Select scribe and select torch at end of scribing</p></td>
<td align="left" valign="top"><p class="table">.<br />
    .<br />
    M52 P1 (paused motion on)<br />
    F#&lt;_hal[plasmac.cut-feed-rate]&gt;<br />
    T1 M6 (select scribe)<br />
    G43 H0 (apply offsets)<br />
    M3 $1 S1 (start plasmac with scribe)<br />
    .<br />
    .<br />
    T0 M6 (select torch)<br />
    G43 H0 (apply offsets)<br />
    G0 X0 Y0 (parking position)<br />
    M5 $1 (end)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Hole center spotting.<br /></p></td>
<td align="left" valign="top"><p class="table">(Requires a small motion command or nothing happens)<br />
    G21 (metric)<br />
    F99999 (high feed rate)<br />
    G0 X10 Y10<br />
    M3 $2 S1 (spotting on)<br />
    G91 (relative distance mode)<br />
    G1 X0.000001<br />
    G90 (absolute distance mode)<br />
    M5 $2 (spotting off)<br />
    G0 X0 Y0<br />
    G90<br />
    M2<br /></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Create temporary default material</p></td>
<td align="left" valign="top"><p class="table">(o=1, nu=2, na=5mm Mild Steel 40A, ph=3.1, pd=0.1, ch=0.75, fr=3000)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Edit material, if not existing create a new one</p></td>
<td align="left" valign="top"><p class="table">(o=3, nu=2, na=5mm Mild Steel 40A, ph=3.1, pd=0.1, ch=0.75, fr=3000, kw=1.0)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="qt_mesa-thcad">17.6. Mesa THCAD</h3>
<div class="paragraph"><p>The Mesa THCAD is a common way of obtaining the arc voltage from a plasma cutter and is also useful for ohmic sensing of the material during probing. The THCAD may be used for parallel port configurations as well as configurations using Mesa Electronics hardware. The THCAD is available in three different models, THCAD-5, THCAD-10, and THCAD-300.</p></div>
<div class="paragraph"><p>There is a mode jumper on each THCAD card which should be set to <strong>UNIPOLAR</strong></p></div>
<div class="paragraph"><p>There is a frequency divider jumper on each THCAD card which should be set according to the hardware type:</p></div>
<div class="tableblock">
<table rules="all"
width="40%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Parallel Port</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Mesa Card</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">F/64</p></td>
<td align="left" valign="top"><p class="table">F/32</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>This value is required to be entered into PNcConf during installation.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If using a parallel port and the user&#8217;s computer has very good latency then they may be able to use <strong>F/32</strong></td>
</tr></table>
</div>
<div class="paragraph" id="qt_calibration-values"><p>Located on the rear of the THCAD is a calibration sticker showing:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    THCAD-nnn

 0V  121.1 kHz
 5V  925.3 kHz</code></pre>
</div></div>
<div class="paragraph"><p>or similar values, these values are required to be entered into PNcConf during installation.</p></div>
<div class="paragraph"><p>PNcConf has entries for all required THCAD parameters and will calculate and configure any required settings. The calculations used are as follows:</p></div>
<div class="paragraph"><p><strong><span class="underline">Voltage Scale</span></strong></p></div>
<div class="listingblock">
<div class="content">
<pre><code>vs = r / ((f - z) / d / v)</code></pre>
</div></div>
<div class="paragraph"><p><strong><span class="underline">Voltage Offset</span></strong></p></div>
<div class="listingblock">
<div class="content">
<pre><code>vo = z / d</code></pre>
</div></div>
<div class="paragraph"><p><em>r</em> = divider ratio (see below).</p></div>
<div class="paragraph"><p><em>f</em> = full scale value from calibration sticker.</p></div>
<div class="paragraph"><p><em>z</em> = 0V value from calibration sticker.</p></div>
<div class="paragraph"><p><em>d</em> = value from jumper above.</p></div>
<div class="paragraph"><p><em>v</em> = full scale voltage of THCAD</p></div>
<div class="paragraph"><p><strong><span class="underline">Divider Ratio</span></strong></p></div>
<div class="paragraph"><p><em>THCAD-5 or THCAD-10</em></p></div>
<div class="paragraph"><p>If connecting to a plasma CNC port then the divider ratio is selected from the plasma machine. A common ratio used is 20:1</p></div>
<div class="paragraph"><p>If connecting to the plasma machines full arc voltage then a common setup for a THCAD-10 is to use a 1 Megohm resistor from arc negative to THCAD negative and a 1 Megohm resistor from arc positive to THCAD positive.
The divider ratio is obtained by:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>r = (total_resistance + 100000) / 100000</code></pre>
</div></div>
<div class="paragraph"><p><em>THCAD-300</em></p></div>
<div class="listingblock">
<div class="content">
<pre><code>r = 1</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">IF THE USER IS USING A HF START PLASMA POWER SUPPLY THEN EACH OF THESE RESISTANCES SHOULD BE MADE UP OF SEVERAL HIGH VOLTAGE RESISTORS.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">IF THE USER IS USING A HF START PLASMA POWER SUPPLY THEN OHMIC SENSING IS NOT RECOMMENDED.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">These values can be calculated by using <a href="https://jscalc.io/calc/NTr5QDX6WgMThBVb">this online calculator</a>.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">There is a <a href="qtplasmac.html#qt_lowpass">lowpass filter</a> available which may be useful if using a THCAD and there is a lot of noise on the returned arc voltage.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="qt_rs485_connections">17.7. RS485 Connections</h3>
<div class="paragraph"><p>Hypertherm RS485 Wiring Diagram (wire colors inside the Hypertherm in parentheses):</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Connection at Machine Pin #</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Connection at Breakout Board</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><strong>1</strong> - Tx+ (Red)</p></td>
<td align="left" valign="top"><p class="table">-&gt;RXD+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><strong>2</strong> - Tx- (Black)</p></td>
<td align="left" valign="top"><p class="table">-&gt;RXD-</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><strong>3</strong> - Rx+ (Brown)</p></td>
<td align="left" valign="top"><p class="table">-&gt;T/R+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><strong>4</strong> - Rx- (White)</p></td>
<td align="left" valign="top"><p class="table">-&gt;T/R-</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><strong>5</strong> - GND (Green)</p></td>
<td align="left" valign="top"><p class="table">-&gt;GND</p></td>
</tr>
</tbody>
</table>
</div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_rs485_pmx.png" alt="images/qtplasmac_rs485_pmx.png" width="400" />
</div>
</div>
<div class="paragraph"><p>RS485 interfaces that are known to work:</p></div>
<div class="paragraph"><p>DTECH DT-5019 USB to RS485 converter adapter:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_rs485_dtech.png" alt="images/qtplasmac_rs485_dtech.png" width="400" />
</div>
</div>
<div class="paragraph"><p>The following is necessary to convert a motherboard Serial connection or Serial card (RS232) to RS485:</p></div>
<div class="paragraph"><p>DTECH RS232 to RS485 converter:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_rs485_converter.png" alt="images/qtplasmac_rs485_converter.png" width="400" />
</div>
</div>
<div class="paragraph"><p>Serial card example (Sunnix SER5037A PCI Card shown with Breakout Board):</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_rs485_sunnix.png" alt="images/qtplasmac_rs485_sunnix.png" width="400" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="qt_reed-arc-ok">17.8. Arc OK With A Reed Relay</h3>
<div class="paragraph"><p>An effective and very reliable method of obtaining an Arc OK signal from a plasma power supply without a CNC port is to mount a reed relay inside a non-conductive tube and wrap and secure three turns of the work lead around the tube.</p></div>
<div class="paragraph"><p>This assembly will now act as a relay that will switch on when current is flowing through the work lead which only occurs when a cutting arc has been established.</p></div>
<div class="paragraph"><p>This will require that QtPlasmaC be operated in Mode 1 rather than Mode 0. See the <a href="qtplasmac.html#qt_ini-mode">INI File</a> and <a href="qtplasmac.html#qt_mode">QtPlasmaC Modes</a> sections for more information.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_reed_arc_ok.png" alt="images/qtplasmac_reed_arc_ok.png" width="600" />
</div>
</div>
</div>
<div class="sect2">
<h3 id="qt_contact-load-schematics">17.9. Contact Load Schematics</h3>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/qtplasmac_relay_contact.png" alt="images/qtplasmac_relay_contact.png" width="600" />
</div>
</div>
<div class="paragraph"><p>A full description is at <a href="qtplasmac.html#qt-contact-load">Contact Load</a></p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_known_issues">18. Known Issues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_keyboard_jogging">18.1. Keyboard Jogging</h3>
<div class="paragraph"><p>There is a known issue with some combinations of hardware and keyboards that may affect the autorepeat feature of the keyboard and will then affect keyboard jogging by intermittent stopping and starting during jogging. This issue can be prevented by disabling the Operating System&#8217;s autorepeat feature for all keys. QtPlasmaC uses this disabling feature by default for all keys only when the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a> is visible, with the following exceptions when autorepeat is allowed with the <a href="qtplasmac.html#qt_main-tab">MAIN Tab</a> visible:  G-Code editor is active, MDI is active. When QtPlasmaC is shut down, the Operating System&#8217;s autorepeat feature will be enabled for all keys.</p></div>
<div class="paragraph"><p>If the user wishes to prevent QtPlasmaC from changing the Operating System&#8217;s autorepeat settings, enter the following in the [QTPLASMAC] section of the &lt;machine_name&gt;.ini file:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>AUTOREPEAT_ALL == ENABLE</code></pre>
</div></div>
<div class="paragraph"><p>This issue does not affect any jogging using the GUI jog buttons.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Disconnecting and reconnecting a keyboard during an active QtPlasmaC session will cause the autorepeat feature to re-enable itself automatically which may cause intermittent stopping and starting during jogging. The user must restart QtPlasmaC to disable the autorepeat feature again.</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_support">19. Support</h2>
<div class="sectionbody">
<div class="paragraph"><p>Online help and support is available from the <a href="https://forum.linuxcnc.org/plasmac">PlasmaC section</a> of the <a href="https://forum.linuxcnc.org/">LinuxCNC Forum</a>.</p></div>
<div class="paragraph"><p>The user can create a compressed file containing the complete machine configuration to aid in fault diagnosis by pressing following the directions in the <a href="qtplasmac.html#qt_backup">backup</a> section. The resulting file is suitable for attaching to a post on the LinuxCNC Forum to help the community diagnose specific issues.</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2022-02-19 19:48:43 CET
</div>
</div>
</body>
</html>
