<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 9.0.0rc2" />
<title>QtVCP Widgets</title>
<link rel="stylesheet" href="..//asciidoc.css" type="text/css" />


<link rel="stylesheet" href="..//linuxcnc.css" type="text/css" />
<script type="text/javascript" src="..//asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="book">
<div id="header">
<h1>QtVCP Widgets</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph" id="cha:qtvcp:widgets"><p><strong><code>Qtscreen</code></strong> uses <em>QtVCP widgets</em> for LinuxCNC integration.</p></div>
<div class="paragraph"><p><strong>Widget</strong> is the general name for the <em>UI objects</em> such as buttons and
labels in PyQt.</p></div>
<div class="paragraph"><p>You are free to use any available <strong>default widgets</strong> in the <em>Qt Designer</em> editor.</p></div>
<div class="paragraph"><p>There are also <strong>special widgets</strong> made for LinuxCNC that make integration easier.
These are split in two, heading on the right side of the editor:</p></div>
<div class="ulist"><ul>
<li>
<p>
One is for <strong>HAL only widgets</strong>.
</p>
</li>
<li>
<p>
The other is for <strong>CNC control widgets</strong>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>You are free to mix them in any way on your panel.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">This description of widget properties can easily be out of date due to further development and lack of people to write docs (a good way to give back to the project).
The definitive descriptions are found by looking in the <a href="https://github.com/LinuxCNC/linuxcnc/tree/master/lib/python/qtvcp/widgets">source code</a>.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:qtvcp:widgets:hal">1. HAL Only Widgets</h2>
<div class="sectionbody">
<div class="paragraph"><p>These widgets usually have <em>HAL pins</em> and <strong>don&#8217;t react to the machine controller</strong>.</p></div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:xembed">1.1. <code>XEmbed</code> - Program Embedding Widget</h3>
<div class="paragraph"><p>Allows one to <strong>embed a program into the widget</strong>.</p></div>
<div class="paragraph"><p>Only programs that utilize the <code>xembed</code> protocol will work such as:</p></div>
<div class="ulist"><ul>
<li>
<p>
GladeVCP virtual control panels
</p>
</li>
<li>
<p>
Onboard virtual keyboard
</p>
</li>
<li>
<p>
QtVCP virtual control panels
</p>
</li>
<li>
<p>
mplayer video player
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:slider">1.2. <code>Slider</code> - HAL Pin Value Adjusting Widget</h3>
<div class="paragraph"><p>Allows one to <strong>adjust a HAL pin value using a sliding pointer</strong>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:led">1.3. <code>LED</code> - Indicator Widget</h3>
<div class="imageblock" style="text-align:center;">
<div class="content">
<figure>
<img src="images/qtvcp_ledWidget.png" alt="QtVCP LED: LED Indicator Widget"/>
<figcaption class="title"> Figure 1. QtVCP <code>LED</code>: LED Indicator Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>A <strong>LED like indicator</strong> that optionally follows a HAL pin&#8217;s logic.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>halpin_option</code></strong>
</dt>
<dd>
<p>
  Selects if the LED follows an input HAL pin or program state.
</p>
</dd>
<dt class="hdlist1">
<strong><code>diameter</code></strong>
</dt>
<dd>
<p>
  Diameter of the LED
</p>
</dd>
<dt class="hdlist1">
<strong><code>color</code></strong>
</dt>
<dd>
<p>
  Color of the LED when on.
</p>
</dd>
<dt class="hdlist1">
<strong><code>off_color</code></strong>
</dt>
<dd>
<p>
  Color of the LED when off.
</p>
</dd>
<dt class="hdlist1">
<strong><code>alignment</code></strong>
</dt>
<dd>
<p>
  Qt alignment hint.
</p>
</dd>
<dt class="hdlist1">
<strong><code>state</code></strong>
</dt>
<dd>
<p>
  Current state of LED
</p>
</dd>
<dt class="hdlist1">
<strong><code>flashing</code></strong>
</dt>
<dd>
<p>
  Turns flashing option on and off.
</p>
</dd>
<dt class="hdlist1">
<strong><code>flashRate</code></strong>
</dt>
<dd>
<p>
  Sets the flash rate.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The <code>LED</code> properties can be defined in a <em>stylesheet</em> with the following code added to the <code>.qss</code> file,
<code>name_of_led</code> being the widget name defined in Qt Designer&#8217;s editor:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>LED <span style="color: #993399">#name_0f_led</span><span style="color: #FF0000">{</span>
  <span style="color: #0000FF">qproperty-color:</span> <span style="font-style: italic"><span style="color: #009900">red</span></span>;
  <span style="color: #0000FF">qproperty-diameter:</span> <span style="font-style: italic"><span style="color: #009900">20</span></span>;
  <span style="color: #0000FF">qproperty-flashRate:</span> <span style="font-style: italic"><span style="color: #009900">150</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:checkbox">1.4. <code>CheckBox</code> Widget</h3>
<div class="paragraph"><p>This widget allows the user to <strong>check a box to set a HAL pin true or false</strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QCheckButton</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:radio">1.5. <code>RadioButton</code> Widget</h3>
<div class="paragraph"><p>This widget allows a user to <strong>set HAL pins true or false</strong>.
Only one <code>RadioButton</code> widget of a group can be true at a time.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QRadioButton</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:gauge">1.6. <code>Gauge</code> - Round Dial Gauge Widget</h3>
<div class="imageblock" style="text-align:center;">
<div class="content">
<figure>
<img src="images/qtvcp_round_gauge.png" alt="QtVCP `Gauge`: Round Dial Gauge Widget"/>
<figcaption class="title"> Figure 2. QtVCP <code>Gauge</code>: Round Dial Gauge Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>Round Gauge can be used in a LinuxCNC GUI to <strong>display an input parameter</strong> on the dial face.</p></div>
<div class="paragraph"><div class="title">Customizable Parameters</div><p>There are several properties that are user settable in order to customize the <em>appearance of the gauge</em>.</p></div>
<div class="paragraph"><p>The following parameters can be set either programmatically or via the Qt Designer property editor.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>halpin_option</code></strong>
</dt>
<dd>
<p>
  Setting this to <code>True</code> will <em>create 2 HAL pins</em>:
</p>
<div class="ulist"><ul>
<li>
<p>
One is for setting the <code>value</code> input
</p>
</li>
<li>
<p>
The other is for setting the <code>setpoint</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If this option is not set, then <code>value</code> and <code>setpoint</code> must be connected programmatically, i.e., in the handler file.
<strong><code>max_reading</code></strong>::
  This value determines the <em>highest number displayed</em> on the gauge face.
<strong><code>max_value</code></strong>::
  This is the <em>maximum expected value of the value input signal</em>.<br />
  In other words, it is the full scale input.
<strong><code>num_ticks</code></strong>::
  This is the <em>number of ticks/gauge readings</em> on the gauge face.<br />
  It should be set to a number that ensures the text readings around the gauge face are readable.<br />
  The minimum allowed value is 2.
<strong><code>zone1_color</code></strong>::
  Zone1 extends <em>from the maximum reading to the threshold point</em>.<br />
  It can be set to any RGB color.
<strong><code>zone2_color</code></strong>::
  Zone2 extends <em>from the threshold point to the minimum reading</em>, which is 0.<br />
  It can be set to any RGB color.
<strong><code>bezel_color</code></strong>::
  This is the color of the <em>outer ring of the gauge</em>.
<strong><code>threshold</code></strong>::
  The threshold is the <em>transition point between the zones</em>.<br />
  It should be set to a value between 0 and the maximum value.<br />
  The maximum allowed value is set to the gauge&#8217;s <code>max_value</code> and minimum value is 0.
<strong><code>gauge_label</code></strong>::
  This is the <em>text below the value readout</em>, near the bottom of the gauge.<br />
  The function of the gauge is then easily visible.</p></div>
</dd>
</dl></div>
<div class="paragraph"><div class="title">Non Customizable Parameters</div><p>There are 2 inputs that are not customizable.
They can be set via HAL pins, programmatically or via signals from other widgets:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>value</code></strong>
</dt>
<dd>
<p>
  This is the <em>actual input value</em> that will be displayed with the gauge needle and in the digital readout.<br />
  It must be set to a value between 0 and <code>max_value</code> maximum value.
</p>
</dd>
<dt class="hdlist1">
<strong><code>setpoint</code></strong>
</dt>
<dd>
<p>
  This is a value that determines the location of a small <em>marker on the gauge face</em>.
  It must be set to a value between 0 and the maximum value.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:halpad">1.7. <code>HALPad</code> - HAL Buttons Joypad</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_HALPad.png" alt="QtVCP HALPad: HAL Buttons Joypad "/>
<figcaption class="title"> Figure 3. QtVCP <code>HALPad</code>: HAL Buttons Joypad</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This widget looks and acts like a <strong>5 buttons D-pad</strong>, with an LED ring.</p></div>
<div class="paragraph"><p>Each button has an selectable type (Bit, S32 or Float) output HAL pin.</p></div>
<div class="paragraph"><p>The LED center ring has selectable colors for off and on and is controlled by a bit HAL pin.</p></div>
<div class="paragraph"><div class="title"><code>HALPad</code> <code>ENUMS</code></div><p>There are <em>enumerated constants</em> used:</p></div>
<div class="ulist"><ul>
<li>
<p>
To reference <strong>indicator positions</strong>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>NONE</code>
</p>
</li>
<li>
<p>
<code>LEFT</code>
</p>
</li>
<li>
<p>
<code>RIGHT</code>
</p>
</li>
<li>
<p>
<code>CENTER</code>
</p>
</li>
<li>
<p>
<code>TOP</code>
</p>
</li>
<li>
<p>
<code>BOTTOM</code>
</p>
</li>
<li>
<p>
<code>LEFTRIGHT</code>
</p>
</li>
<li>
<p>
<code>TOPBOTTOM</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
For <strong>HAL pins type</strong>:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>NONE</code>
</p>
</li>
<li>
<p>
<code>BIT</code>
</p>
</li>
<li>
<p>
<code>S32</code>
</p>
</li>
<li>
<p>
<code>FLOAT</code>
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>You use the widget name in Qt Designer plus the reference constant:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>halpadname<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">set_highlight</span></span><span style="color: #990000">(</span>self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>halpadname<span style="color: #990000">.</span>LEFTRIGHT<span style="color: #990000">)</span></tt></pre></div></div>
<div class="dlist"><div class="title"><code>HALPad</code> Properties</div><dl>
<dt class="hdlist1">
<strong><code>pin_name</code></strong>
</dt>
<dd>
<p>
  Optional name to use for the <em>HAL pins basename</em>. If left blank, the Qt Designer widget name will be used.
</p>
</dd>
<dt class="hdlist1">
<strong><code>pin_type</code></strong>
</dt>
<dd>
<p>
  Select the <em>HAL output pin type</em>. This property is only used at startup.
  Selection can be set in Qt Designer:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>NONE</code>
</p>
</li>
<li>
<p>
<code>BIT</code>
</p>
</li>
<li>
<p>
<code>S32</code>
</p>
</li>
<li>
<p>
<code>FLOAT</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>left_image_path</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>right_image_path</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>center_image_path</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>top_image_path</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>bottom_image_path</code></strong>
</dt>
<dd>
<p>
  File or resource path to an image to display in the described button location.<br />
  If the reset button is pressed in the Qt Designer editor property, the image will not be displayed (allowing optional text).
</p>
</dd>
<dt class="hdlist1">
<strong><code>left_text</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>right_text</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>center_text</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>top_text</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>bottom_text</code></strong>
</dt>
<dd>
<p>
  A text string to be displayed in the described button location.<br />
  If left blank an image can be designated to be displayed.
</p>
</dd>
<dt class="hdlist1">
<strong><code>true_color</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>false_color</code></strong>
</dt>
<dd>
<p>
  Color selection for the center LED ring to be displayed when the <code>&lt;BASENAME&gt;.light.center</code> HAL pin is <code>True</code> or <code>False</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>text_color</code></strong>
</dt>
<dd>
<p>
  Color selection for the button text.
</p>
</dd>
<dt class="hdlist1">
<strong><code>text_font</code></strong>
</dt>
<dd>
<p>
  Font selection for the button text.
</p>
</dd>
</dl></div>
<div class="paragraph"><div class="title"><code>HALPad</code> Styles</div><p>The above properties could be set in <em>styles sheets</em>.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>HALPad<span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-on_color:</span> <span style="color: #FF0000">#000</span>;
    <span style="color: #0000FF">qproperty-off_color:</span> <span style="color: #FF0000">#444</span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:pushbutton">1.8. <code>PushButton</code> - HAL Pin Toggle Widget</h3>
<div class="paragraph"><p>This widget allows a user to <strong>set a HAL pin true or false</strong> with the push of a button.</p></div>
<div class="paragraph"><p>As an option it can be a <em>toggle button</em>.</p></div>
<div class="paragraph"><p>For  a <em>LED Indicator Option</em>, see <a href="qtvcp-widgets.html#sub:qtvcp:widgets:indicatedpushbutton">[sub:qtvcp:widgets:indicatedpushbutton]</a>[IndicatedPushButton] below for more info.</p></div>
<div class="paragraph"><p>It also has other options.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QPushButton</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:focus-ovelay">1.9. <code>focusOverlay</code> - Focus Overlay Widget</h3>
<div class="paragraph"><p>This widget places a <strong>colored overlay over the screen</strong>, usually while a dialog is showing.</p></div>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_focusOverlay.png" alt="QtVCP focus overlay"/>
<figcaption class="title"> Figure 4. Focus overlay example for confirm close prompt</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>Used to create a <em>focused</em> feel and to draw attention to critical information.</p></div>
<div class="paragraph"><p>It can also show a translucent image.<br />
It can also display message text and buttons.</p></div>
<div class="paragraph"><p>This widget <em>can be controlled with <code>STATUS</code> messages</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:grid-layout">1.10. <code>gridLayout</code> - Grid Layout Widget</h3>
<div class="paragraph"><p>This widget <strong>controls if the widgets inside it are enabled or disabled</strong>.</p></div>
<div class="paragraph"><p>Disabled widgets typically have a different color and do not respond to actions.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <code>QGridLayout</code>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:hal-label">1.11. <code>hal_label</code> - HAL Label Widget</h3>
<div class="paragraph"><p>This widget <strong>displays values sent to it</strong>.</p></div>
<div class="paragraph"><p>Values can be sent from:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>HAL pins</em><br />
  The input pin can be selected as Bit, S32, Float or no pin selected
</p>
</li>
<li>
<p>
<em>Programmatically</em>
</p>
</li>
<li>
<p>
<em>A <code>QtSignal</code></em>
</p>
</li>
</ul></div>
<div class="paragraph"><p>There is a <code>textTemplate</code> property to set the rich text and/or to format the text.<br />
Basic formatting might be:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>%r</code> for booleans
</p>
</li>
<li>
<p>
<code>%d</code> for integers
</p>
</li>
<li>
<p>
<code>%0.4f</code> for floats.
</p>
</li>
</ul></div>
<div class="paragraph"><p>A rich text example might be:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>my_hal_label<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span>textTemplate<span style="color: #990000">,</span><span style="color: #FF0000">"""</span>
<span style="color: #FF0000">&lt;html&gt;</span>
<span style="color: #FF0000">&lt;head/&gt;</span>
<span style="color: #FF0000">&lt;body&gt;</span>
<span style="color: #FF0000">  &lt;p&gt;&lt;span style="font-size:12pt;font-weight:600;color:#f40c11;"&gt;%0.4f&lt;/span&gt;&lt;/p&gt;</span>
<span style="color: #FF0000">&lt;/body&gt;</span>
<span style="color: #FF0000">&lt;/html&gt;</span>
<span style="color: #FF0000">"""</span>
<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>The <code>setDisplay</code> slot can be connected to an integer, a float or a bool signal.</p></div>
<div class="paragraph"><p>If the property <code>pin_name</code> is not set the widget name will be used.</p></div>
<div class="paragraph"><p>There are function calls to display values:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>[HALLabelName].setDisplay(some_value)</code></strong>
</dt>
<dd>
<p>
  Can be used to set the display if no HAL pin is selected.
</p>
</dd>
<dt class="hdlist1">
<strong><code>[HALLabelName].setProperty(textTemplate,"%d")</code></strong>
</dt>
<dd>
<p>
  Sets the template of the display.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QLabel</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:lcdnumber">1.12. <code>LCDNumber</code> - LCD Style Number Readout Widget</h3>
<div class="paragraph"><p>This widget <em>displays HAL float/s32/bit values in a LCD looking way</em>.</p></div>
<div class="paragraph"><p>It can display numbers in decimal, hexadecimal, binary and octal formats by setting the <strong><code>mode</code></strong> property.</p></div>
<div class="paragraph"><p>When using floats you can set a formatting string.</p></div>
<div class="paragraph"><p>You must set the <strong><code>digitCount</code></strong> property to an appropriate setting to display the largest number.</p></div>
<div class="dlist"><div class="title">Properties</div><dl>
<dt class="hdlist1">
<strong><code>pin_name</code></strong>
</dt>
<dd>
<p>
  Option string to be used as the HAL pin name.<br />
  If set to an empty string the widget name will be used.
</p>
</dd>
<dt class="hdlist1">
<strong><code>bit_pin_type</code></strong>
</dt>
<dd>
<p>
  Selects the input pin as type BIT.
</p>
</dd>
<dt class="hdlist1">
<strong><code>s32_pin_type</code></strong>
</dt>
<dd>
<p>
  Selects the input pin as type S32.
</p>
</dd>
<dt class="hdlist1">
<strong><code>float_pin_type</code></strong>
</dt>
<dd>
<p>
  Select the input pin as type <code>FLOAT</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>floatTemplate</code></strong>
</dt>
<dd>
<p>
  A string that will be used as a Python3 format template to tailor the LCD display.<br />
  Only used when a <code>FLOAT</code> pin is selected, e.g., <code>{:.2f}</code> will display a float rounded to 2 numbers after the decimal.<br />
  A blank setting will allow the decimal to move as required.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QLCDNumber</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:doublescale">1.13. <code>DoubleScale</code> - Spin Button Entry Widget</h3>
<div class="paragraph"><p>This widget is a <strong>spin button entry</strong> widget used for <em>setting a s32 and float HAL pin</em>.</p></div>
<div class="paragraph"><p>It has an internal <em>scale factor</em>, set to a default of 1, that can be set programmatically or using a QtSignal.</p></div>
<div class="paragraph"><p>The <code>setInput</code> slot can be connected to an integer, or a float signal.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>[HALLabelName].setInput(some_value)</code></strong>
</dt>
<dd>
<p>
  This is a function call to change the internal scaling factor.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The HAL pins will be set to the value of the <em>internal scale times the widget displayed value</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:generalhalinput">1.14. <code>GeneralHALInput</code> - General Signals/Slots Input Connection Widget</h3>
<div class="paragraph"><p>This widget is used to <strong>connect an arbitrary Qt widget to HAL using signals/slots</strong>.</p></div>
<div class="paragraph"><p>It is used <em>for widgets that should <strong>respond</strong> to HAL pin changes</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:generalhaloutput">1.15. <code>GeneralHALOutput</code> - General Signals/Slots Output Connection Widget</h3>
<div class="paragraph"><p>This widget is used to <strong>connect an arbitrary Qt widget to HAL using signals/slots</strong>.</p></div>
<div class="paragraph"><p>It is used <em>for widgets that should <strong>control</strong> HAL pins</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:widgetswitche">1.16. <code>WidgetSwitcher</code> - Multi-widget Layout View Switcher Widget</h3>
<div class="paragraph"><p>This is used to switch the view of a multi-widget layout to show just one widget,
i.e. to <strong>flip between a large view of a widget and a smaller multi widget view</strong>.</p></div>
<div class="paragraph"><p>It is <em>different from a stacked widget</em> as it can pull a widget from anywhere in the screen
and place it in its page with a different layout than it originally had.</p></div>
<div class="paragraph"><p>The <em>original widget must be in a layout</em> for switcher to put it back.</p></div>
<div class="paragraph"><p>In Qt Designer you will:</p></div>
<div class="ulist"><ul>
<li>
<p>
Add the <code>WidgetSwitcher</code> widget on screen.
</p>
</li>
<li>
<p>
Right click the <code>WidgetSwitcher</code> and add a page.
</p>
</li>
<li>
<p>
Populate it with the widgets/layouts you wish to see in a default form.
</p>
</li>
<li>
<p>
Add as many pages as there are views to switch to.
</p>
</li>
<li>
<p>
On each page, add a layout widget.<br />
  After adding the layout you must right click the widget switcher again and set the layout option.
</p>
</li>
<li>
<p>
Click on the <code>WidgetSwitcher</code> widget and then scroll to the bottom of the property editor.
</p>
</li>
<li>
<p>
Look for the dynamic property <code>widget_list</code> and double click to the right of it.
</p>
</li>
<li>
<p>
A dialog pops up allowing you to add the names of the widgets to move to the pages you added to the <code>WidgetSwitcher</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>There are <em>function calls</em> to display specific widgets.<br />
By calling one of these functions, you control what widget is currently displayed:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>[_WidgetSwitcherName_].show_id_widget(_number_)</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>[_WidgetSwitcherName_].show_named_widget(_widget_name_)</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>[_WidgetSwitcherName_].show_default()</code></strong>
</dt>
<dd>
<p>
  This shows the <code>page 0</code> layout, and puts all other widgets back to where they were as initially built in Qt Designer.
</p>
</dd>
<dt class="hdlist1">
<strong><code>[_WidgetSwitcherName_].show_next()</code></strong>
</dt>
<dd>
<p>
Show next widget.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>It is based on the <em>QStack</em> widget.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:qtvcp:widgets:machine-controller">2. Machine Controller Widgets</h2>
<div class="sectionbody">
<div class="paragraph"><p>These widgets <strong>interact with the Machine Controller state</strong>.</p></div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:actionbutton">2.1. <code>ActionButton</code> - Machine Controller Action Control Widget</h3>
<div class="paragraph"><p>These buttons are used for <strong>control actions on the machine controller</strong>.</p></div>
<div class="paragraph"><p>They are built on top of <code>IndicatedPushButton</code> so can have LEDs overlaid.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If you left double click on this widget you can launch a dialog to set any of these actions.
The dialogs will help to set the right related data to the selected action.
You can also change these properties directly in the property editor.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Actions</div><p>You can select one of these:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>Estop</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>Machine On</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>Auto</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>mdi</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>manual</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>run</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>run_from_line status</code></strong>
</dt>
<dd>
<p>
  Gets line number from <code>STATUS</code> message <code>gcode-line-selected</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>run_from_line slot</code></strong>
</dt>
<dd>
<p>
  Gets line number from Qt Designer int/str slot <code>setRunFromLine</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>abort</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>pause</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>load dialog</code></strong>
</dt>
<dd>
<p>
Requires a dialog widget present.
</p>
</dd>
<dt class="hdlist1">
<strong><code>Camview dialog</code></strong>
</dt>
<dd>
<p>
Requires <code>camview</code> dialog widget present.
</p>
</dd>
<dt class="hdlist1">
<strong><code>origin offset dialog</code></strong>
</dt>
<dd>
<p>
Requires origin offset dialog widget present.
</p>
</dd>
<dt class="hdlist1">
<strong><code>macro dialog</code></strong>
</dt>
<dd>
<p>
Requires macro dialog widget present.
</p>
</dd>
<dt class="hdlist1">
<strong><code>Launch Halmeter</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>Launch Status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>Launch Halshow</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>Home</code></strong>
</dt>
<dd>
<p>
Set the joint number to -1 for <code>all-home</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>Unhome</code></strong>
</dt>
<dd>
<p>
Set the joint number to -1 for <code>all-unhome</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>Home Selected</code></strong>
</dt>
<dd>
<p>
Homes the joint/axis selected by <code>STATUS</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>Unhome Selected</code></strong>
</dt>
<dd>
<p>
Unhomes the joint/axis selected by <code>STATUS</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>zero axis</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>zero G5X</code></strong>
</dt>
<dd>
<p>
Zeros the current user coordinate system offsets.
</p>
</dd>
<dt class="hdlist1">
<strong><code>zero G92</code></strong>
</dt>
<dd>
<p>
Zeros the optional <code>G92</code> offsets.
</p>
</dd>
<dt class="hdlist1">
<strong><code>zero Z rotational</code></strong>
</dt>
<dd>
<p>
Zeros the rotation offset.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jog joint positive</code></strong>
</dt>
<dd>
<p>
Set the joint number.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jog joint negative</code></strong>
</dt>
<dd>
<p>
Set the joint number.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jog selected positive</code></strong>
</dt>
<dd>
<p>
Selected with a different widget or <code>STATUS</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jog selected negative</code></strong>
</dt>
<dd>
<p>
Selected with a different widget or <code>STATUS</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jog increment</code></strong>
</dt>
<dd>
<p>
Set metric/imperial/angular numbers.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jog rate</code></strong>
</dt>
<dd>
<p>
Set the float/alt float number.
</p>
</dd>
<dt class="hdlist1">
<strong><code>feed override</code></strong>
</dt>
<dd>
<p>
Set the float/alt float number.
</p>
</dd>
<dt class="hdlist1">
<strong><code>rapid override</code></strong>
</dt>
<dd>
<p>
Set the float/alt float number.
</p>
</dd>
<dt class="hdlist1">
<strong><code>spindle override</code></strong>
</dt>
<dd>
<p>
Set the float/alt float number.
</p>
</dd>
<dt class="hdlist1">
<strong><code>spindle fwd</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>spindle backward</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>spindle stop</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>spindle up</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>spindle down</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>view change</code></strong>
</dt>
<dd>
<p>
Set <code>view_type_string</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>limits override</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>flood</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>mist</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>block delete</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>optional stop</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>mdi command</code></strong>
</dt>
<dd>
<p>
Set <code>command_string</code>, i.e.,calls a hard coded MDI command
</p>
</dd>
<dt class="hdlist1">
<strong><code>INI mdi number</code></strong>
</dt>
<dd>
<p>
Set <code>ini_mdi_number</code>, i.e., calls an INI based MDI command
</p>
</dd>
<dt class="hdlist1">
<strong><code>dro absolute</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>dro relative</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>dro dtg</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>exit screen</code></strong>
</dt>
<dd>
<p>
Closes down LinuxCNC
</p>
</dd>
<dt class="hdlist1">
<strong><code>Override limits</code></strong>
</dt>
<dd>
<p>
Temporarily override hard limits
</p>
</dd>
<dt class="hdlist1">
<strong><code>launch dialogs</code></strong>
</dt>
<dd>
<p>
Pops up dialogs if they are included in ui file.
</p>
</dd>
<dt class="hdlist1">
<strong><code>set DRO to relative</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>set DRO to absolute</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>set DRO to distance-to-go</code></strong>
</dt>
<dd>
<p>
</p>
</dd>
</dl></div>
<div class="paragraph"><div class="title">Attributes</div><p>These set <em>attributes</em> of the selected action (availability depends on the widget):</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>toggle float option</code></strong>
</dt>
<dd>
<p>
  Allows jog rate and overrides to toggle between two rates.
</p>
</dd>
<dt class="hdlist1">
<strong><code>joint number</code></strong>
</dt>
<dd>
<p>
  Selects the joint/axis that the button controls.
</p>
</dd>
<dt class="hdlist1">
<strong><code>incr imperial number</code></strong>
</dt>
<dd>
<p>
  Sets the imperial jog increment (set negative to ignore).
</p>
</dd>
<dt class="hdlist1">
<strong><code>incr mm number</code></strong>
</dt>
<dd>
<p>
  Sets the metric jog increment (set negative to ignore).
</p>
</dd>
<dt class="hdlist1">
<strong><code>incr angular number</code></strong>
</dt>
<dd>
<p>
  Sets the angular jog increment (set negative to ignore).
</p>
</dd>
<dt class="hdlist1">
<strong><code>float number</code></strong>
</dt>
<dd>
<p>
  Used for <code>jograte</code> and overrides.
</p>
</dd>
<dt class="hdlist1">
<strong><code>float alternate number</code></strong>
</dt>
<dd>
<p>
  For <code>jograte</code> and overrides that can toggle between two float numbers.
</p>
</dd>
<dt class="hdlist1">
<strong><code>view type string</code></strong>
</dt>
<dd>
<p>
  Can be:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>p</code>,
</p>
</li>
<li>
<p>
<code>x</code>, <code>y</code>, <code>y2</code>, <code>z</code>, <code>z2</code>,
</p>
</li>
<li>
<p>
<code>zoom-in</code>, <code>zoom-out</code>,
</p>
</li>
<li>
<p>
<code>pan-up</code>, <code>pan-down</code>, <code>pan-left</code>, <code>pan-right</code>,
</p>
</li>
<li>
<p>
<code>rotate-up</code>, <code>rotate-down</code>, <code>rotate-cw</code>, <code>rotate-ccw</code>
</p>
</li>
<li>
<p>
<code>clear</code>.
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong><code>command string</code></strong>
</dt>
<dd>
<p>
  MDI command string that will be invoked if the MDI command action is selected.
</p>
</dd>
<dt class="hdlist1">
<strong><code>ini_mdi_number</code></strong>
</dt>
<dd>
<p>
  A reference to the <em>INI file</em> <code>[MDI_COMMAND_LIST]</code> section.<br />
  Set an integer of select one line under the INI`s <code>[MDI_COMMAND]</code> line starting at 0.<br />
  Then in the INI file, under the heading <code>[MDI_COMMAND_LIST]</code> add appropriate lines.<br />
  The commands are separated by the <code>;</code>.<br />
  The <code>label</code> is set after the comma, and <code>\n</code> symbol adds a line break.
</p>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">[MDI_COMMAND_LIST]</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">MDI_COMMAND </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> G0 Z25;X0 Y0;Z0, Goto\nUser\nZero</span>
<span style="font-weight: bold"><span style="color: #0000FF">MDI_COMMAND </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> G53 G0 Z0;G53 G0 X0 Y0, Goto\nMachn\nZero</span></tt></pre></div></div>
<div class="paragraph"><p>Action buttons are subclassed from
<a href="qtvcp-widgets.html#sub:qtvcp:widgets:indicatedpushbutton">[sub:qtvcp:widgets:indicatedpushbutton]</a>[<code>IndicatedPushButton</code>].
See the following sections for more information about:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="qtvcp-widgets.html#sub:qtvcp:widgets:indicatedpushbutton:led">LED Indicator option</a>
</p>
</li>
<li>
<p>
<a href="qtvcp-widgets.html#sub:qtvcp:widgets:indicatedpushbutton:state-enabled">Enabled on State</a>
</p>
</li>
<li>
<p>
<a href="qtvcp-widgets.html#sub:qtvcp:widgets:indicatedpushbutton:state-text">Text Changes On State</a>
</p>
</li>
<li>
<p>
<a href="qtvcp-widgets.html#sub:qtvcp:widgets:indicatedpushbutton:python-command">Call Python Command On State</a>
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:actiontoolbutton">2.2. <code>ActionToolButton</code> - Optional Actions Menu Button Widget</h3>
<div class="paragraph"><p><strong><code>ActionToolButton</code></strong> buttons are similar in concept to action buttons,
but they use <em>QToolButtons</em> to allow for <strong>optional actions</strong> to be selected by pushing and holding the button till the option menu pops up.</p></div>
<div class="paragraph"><p>Currently there is only one option: <code>userView</code>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QToolButton</em>.</p></div>
<div class="paragraph" id="sub:qtvcp:widgets:userview"><div class="title"><code>userView</code> Record and Set User View Widget</div><p>User View tool button allows to <strong>record and return to an arbitrary graphics view</strong>.</p></div>
<div class="paragraph"><p>Press and hold the button to have the menu pop up and press <em>record view</em> to record the currently displayed graphics view.</p></div>
<div class="paragraph"><p>Click the button normally to return to the last recorded position.</p></div>
<div class="paragraph"><p>The recorded position will be remembered at shutdown if a preference file option is set up.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Due to programming limitations, the recorded position may not show exactly the same.
Particularly, if you pan zoomed out and pan zoomed in again while setting the desired view.<br />
<em>Best practice</em> is to select a main view, modify as desired, record, then immediately click the button to switch to the recorded position.
If it is not as you like, modify it&#8217;s existing position and re-record.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:roundbutton">2.3. <code>RoundButton</code> - Round Shapped <code>ActionButton</code> Widget</h3>
<div class="paragraph"><p>Round buttons work the same as <em>ActionButtons</em> other than the button is cropped round.</p></div>
<div class="paragraph"><p>They are intended only to be visually different.</p></div>
<div class="paragraph"><p>They have <em>two path properties</em> for displaying <strong>images on true and false</strong>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:axistoolbutton">2.4. <code>AxisToolButton</code> - Select and Set Axis Widget</h3>
<div class="paragraph"><p>This allows one to <strong>select and set an axis</strong>.</p></div>
<div class="paragraph"><p>If the button is set checkable, it will indicate which axis is selected.</p></div>
<div class="paragraph"><p>If you press and hold the button a pop up menu will show allowing one to:</p></div>
<div class="ulist"><ul>
<li>
<p>
Zero the axis
</p>
</li>
<li>
<p>
Divide the axis by 2
</p>
</li>
<li>
<p>
Set the axis arbitrarily
</p>
</li>
<li>
<p>
Reset the axis to the last number recorded
</p>
</li>
</ul></div>
<div class="paragraph"><p>You select the axis by setting the joint number.</p></div>
<div class="paragraph"><p>You can select a <code>halpin</code> option that is set true when the axis is selected.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QToolButton</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:camview">2.5. <code>CamView</code> - Workpiece Alignment and Origin Setting Widget</h3>
<div class="paragraph"><p>This widget <strong>displays a image from a web camera</strong>.</p></div>
<div class="paragraph"><p>It <em>overlays an adjustable circular and cross hair target</em> over the image.</p></div>
<div class="paragraph"><p>CamView was built with precise visual positioning in mind.</p></div>
<div class="paragraph"><p>This is used to <strong>align the work piece or zero part features using a webcam</strong>.</p></div>
<div class="paragraph"><p>It uses <em>OpenCV</em> vision library.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:drolabel">2.6. <code>DROLabel</code> - Axis Position Display Widget</h3>
<div class="paragraph"><p>This will <strong>display the current position of an axis</strong>.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>Qjoint_number</code></strong>
</dt>
<dd>
<p>
  Joint number of offset to display (10 will specify rotational offset).
</p>
</dd>
<dt class="hdlist1">
<strong><code>Qreference_type</code></strong>
</dt>
<dd>
<p>
  Actual, relative or distance to go (0,1,2).
</p>
</dd>
<dt class="hdlist1">
<strong><code>metric_template</code></strong>
</dt>
<dd>
<p>
  Format of display, e.g. <code>%10.3f</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>imperial_template</code></strong>
</dt>
<dd>
<p>
  format of display, e.g. <code>%9.4f</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>angular_template</code></strong>
</dt>
<dd>
<p>
  Format of display, e.g. <code>%Rotational: 10.1f</code>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The <code>DROLabel</code> widget holds a property <strong><code>isHomed</code></strong> that can be used with a stylesheet to change the <em>color of the <code>DRO_Label</code>
based on homing state of the joint</em> number in LinuxCNC.</p></div>
<div class="paragraph"><p>Here is a sample stylesheet entry that:</p></div>
<div class="ulist"><ul>
<li>
<p>
Sets the font of all <code>DRO_Label</code> widgets,
</p>
</li>
<li>
<p>
Sets the text template (to set resolution) of the DRO,
</p>
</li>
<li>
<p>
Then sets the text color based on the Qt <code>isHomed</code> property.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>DROLabel <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">font:</span> <span style="font-style: italic"><span style="color: #009900">25pt</span></span> "<span style="font-style: italic"><span style="color: #009900">Lato</span></span> <span style="font-style: italic"><span style="color: #009900">Heavy</span></span>";
    <span style="color: #0000FF">qproperty-imperial_template:</span> '<span style="font-style: italic"><span style="color: #009900">%9.4f</span></span>';
    <span style="color: #0000FF">qproperty-metric_template:</span> '<span style="font-style: italic"><span style="color: #009900">%10.3f</span></span>';
    <span style="color: #0000FF">qproperty-angular_template:</span> '<span style="font-style: italic"><span style="color: #009900">%11.2f</span></span>';
<span style="color: #FF0000">}</span>

DROLabel<span style="color: #990000">[</span>isHomed<span style="color: #990000">=</span>false<span style="color: #990000">]</span> <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">color:</span> <span style="font-style: italic"><span style="color: #009900">red</span></span>;
<span style="color: #FF0000">}</span>

DROLabel<span style="color: #990000">[</span>isHomed<span style="color: #990000">=</span>true<span style="color: #990000">]</span> <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">color:</span> <span style="font-style: italic"><span style="color: #009900">green</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Here is how you specify a particular widget by its <code>objectName</code> in Qt Designer:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>DROLabel <span style="color: #993399">#dr0_x_axis</span> <span style="color: #990000">[</span>isHomed<span style="color: #990000">=</span>false<span style="color: #990000">]</span> <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">color:</span> <span style="font-style: italic"><span style="color: #009900">yellow</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QLabel</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:gcodedisplay">2.7. <code>GcodeDisplay</code> - G-code Text Display Widget</h3>
<div class="paragraph"><p>This <strong>displays G-code in text form</strong>, highlighting the currently running line.</p></div>
<div class="paragraph"><p>This can also display:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>MDI history</strong> when LinuxCNC is in <code>MDI</code> mode.
</p>
</li>
<li>
<p>
<strong>Log entries</strong> when LinuxCNC is in <code>MANUAL</code> mode.
</p>
</li>
<li>
<p>
<strong>Preference file entries</strong> if you enter <code>PREFERENCE</code> in capitals into the <code>MDILine</code> widget.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It has a <em>signal</em> <strong><code>percentDone(int)</code></strong> that can be connected to a slot (such as a <code>progressBar</code> to display percent run).</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>auto_show_mdi_status</code></strong>
</dt>
<dd>
<p>
  Set true to have the widget switch to MDI history when in MDI mode.
</p>
</dd>
<dt class="hdlist1">
<strong><code>auto_show_manual_status</code></strong>
</dt>
<dd>
<p>
  Set true to have the widget switch to machine log when in Manual mode.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The <code>GcodeDisplay</code> properties can be set in a stylesheet with the following code added to the .qss file
(the following color choices are random).</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>EditorBase<span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-styleColorBackground:</span> <span style="font-style: italic"><span style="color: #009900">lightblue</span></span>;
    <span style="color: #0000FF">qproperty-styleColor0:</span> <span style="font-style: italic"><span style="color: #009900">black</span></span>;
    <span style="color: #0000FF">qproperty-styleColor1:</span> <span style="color: #FF0000">#000000</span>; <span style="font-style: italic"><span style="color: #9A1900">/* black */</span></span>
    <span style="color: #0000FF">qproperty-styleColor2:</span> <span style="font-style: italic"><span style="color: #009900">blue</span></span>;
    <span style="color: #0000FF">qproperty-styleColor3:</span> <span style="font-style: italic"><span style="color: #009900">red</span></span>;
    <span style="color: #0000FF">qproperty-styleColor4:</span> <span style="font-style: italic"><span style="color: #009900">green</span></span>;
    <span style="color: #0000FF">qproperty-styleColor5:</span> <span style="font-style: italic"><span style="color: #009900">darkgreen</span></span>;
    <span style="color: #0000FF">qproperty-styleColor6:</span> <span style="font-style: italic"><span style="color: #009900">darkred</span></span>;
    <span style="color: #0000FF">qproperty-styleColor7:</span> <span style="font-style: italic"><span style="color: #009900">deeppink</span></span>;
    <span style="color: #0000FF">qproperty-styleColorMarginText:</span> <span style="font-style: italic"><span style="color: #009900">White</span></span>;
    <span style="color: #0000FF">qproperty-styleColorMarginBackground:</span> <span style="font-style: italic"><span style="color: #009900">blue</span></span>;
    <span style="color: #0000FF">qproperty-styleFont0:</span> "<span style="font-style: italic"><span style="color: #009900">Times</span></span>,<span style="font-style: italic"><span style="color: #009900">12</span></span>,<span style="font-style: italic"><span style="color: #009900">-1</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">90</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>";
    <span style="color: #0000FF">qproperty-styleFont1:</span> "<span style="font-style: italic"><span style="color: #009900">Times</span></span>,<span style="font-style: italic"><span style="color: #009900">18</span></span>,<span style="font-style: italic"><span style="color: #009900">-1</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">90</span></span>,<span style="font-style: italic"><span style="color: #009900">1</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>";
    <span style="color: #0000FF">qproperty-styleFont2:</span> "<span style="font-style: italic"><span style="color: #009900">Times</span></span>,<span style="font-style: italic"><span style="color: #009900">12</span></span>,<span style="font-style: italic"><span style="color: #009900">-1</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">90</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>";
    <span style="color: #0000FF">qproperty-styleFont3:</span> "<span style="font-style: italic"><span style="color: #009900">Times</span></span>,<span style="font-style: italic"><span style="color: #009900">12</span></span>,<span style="font-style: italic"><span style="color: #009900">-1</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">90</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>";
    <span style="color: #0000FF">qproperty-styleFont4:</span> "<span style="font-style: italic"><span style="color: #009900">Times</span></span>,<span style="font-style: italic"><span style="color: #009900">12</span></span>,<span style="font-style: italic"><span style="color: #009900">-1</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">90</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>";
    <span style="color: #0000FF">qproperty-styleFont5:</span> "<span style="font-style: italic"><span style="color: #009900">Times</span></span>,<span style="font-style: italic"><span style="color: #009900">12</span></span>,<span style="font-style: italic"><span style="color: #009900">-1</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">90</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>";
    <span style="color: #0000FF">qproperty-styleFont6:</span> "<span style="font-style: italic"><span style="color: #009900">Times</span></span>,<span style="font-style: italic"><span style="color: #009900">12</span></span>,<span style="font-style: italic"><span style="color: #009900">-1</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">90</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>";
    <span style="color: #0000FF">qproperty-styleFont7:</span> "<span style="font-style: italic"><span style="color: #009900">Times</span></span>,<span style="font-style: italic"><span style="color: #009900">12</span></span>,<span style="font-style: italic"><span style="color: #009900">-1</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">90</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>";
    <span style="color: #0000FF">qproperty-styleFontMargin:</span> "<span style="font-style: italic"><span style="color: #009900">Times</span></span>,<span style="font-style: italic"><span style="color: #009900">14</span></span>,<span style="font-style: italic"><span style="color: #009900">-1</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">90</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>,<span style="font-style: italic"><span style="color: #009900">0</span></span>";
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>For <code>GcodeDisplay</code> widget&#8217;s <em>default G-code lexer</em>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>styleColor0 = Default</strong>: Everything not part of the groups below
</p>
</li>
<li>
<p>
<strong>styleColor1 = LineNo and Comments</strong>: Nxxx and comments (characters inside of and including <em>()</em> or anything after <em>;</em> (when used outside of parenthesis) with the exception of the note below)
</p>
</li>
<li>
<p>
<strong>styleColor2 = G-code</strong>: G and the digits after
</p>
</li>
<li>
<p>
<strong>styleColor3 = M-code</strong>: M and the digits after
</p>
</li>
<li>
<p>
<strong>styleColor4 = Axis</strong>: XYZABCUVW
</p>
</li>
<li>
<p>
<strong>styleColor5 = Other</strong>: EFHIJKDQLRPST (feed, rpm, radius, etc.)
</p>
</li>
<li>
<p>
<strong>styleColor6 = AxisValue</strong>: Values following XYZABCUVW
</p>
</li>
<li>
<p>
<strong>styleColor7 = OtherValue</strong>: Values following EFHIJKDQLRPST$
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">For comments, the "OtherValue" color (Color 5) can be used to highlight "print," "debug," "msg," "logopen," "logappend," "logclose" "log," "pyrun," "pyreload" "abort," "probeopen" "probeclose" inside of a parenthesis comment in a line of G-code.
As well as "py," if a line that starts with ";py,".
Examples: (print, text), (log, text), (msg, text), or (debug, text).
Only the last of the examples will be highlighted if there are more than one on the same line.</td>
</tr></table>
</div>
<div class="paragraph"><p><em>Font definitions</em>:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>"style name, size, -1, 0, bold setting (0-99), italics (0-1),
underline (0-1),0,0,0"</code></pre>
</div></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QsciScintilla</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:gcodeeditor">2.8. <code>GcodeEditor</code> - G-code Program Editor Widget</h3>
<div class="paragraph"><p>This is an extension of the <code>GcodeDisplay</code> widget that <strong>adds editing convenience</strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QWidget</em> which incorporates <code>GcodeDisplay</code> widget.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:gcodegraphics">2.9. <code>GCodeGraphics</code> - G-code Graphic Backplot Widget</h3>
<div class="imageblock" style="text-align:center;">
<div class="content">
<figure>
<img src="images/qtvcp_gcodeGraphics.png" alt="QtVCP GcodeGraphics: G-code Graphic Backplot Widget"/>
<figcaption class="title"> Figure 5. QtVCP GcodeGraphics: G-code Graphic Backplot Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This <strong>displays the current G-code in a graphical form</strong>.</p></div>
<div class="dlist"><div class="title">Stylesheets Properties</div><dl>
<dt class="hdlist1">
<strong><code>_view</code></strong> <em>(string)</em>
</dt>
<dd>
<p>
  Sets the <em>default view orientation</em> on GUI load.<br />
  Valid choices for a lathe are p, y, y2. For other screens, valid choices are p, x, y, z, z2.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-_view:</span> <span style="font-style: italic"><span style="color: #009900">z</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>_dro</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
  Determines whether or not to <em>show the DRO</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-_dro:</span> <span style="font-style: italic"><span style="color: #009900">False</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>_dtg</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
  Determine whether or not to <em>show the Distance To Go</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-_dtg:</span> <span style="font-style: italic"><span style="color: #009900">False</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>_metric</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
  Determines whether or not to <em>show the units in metric by default</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-_metric:</span> <span style="font-style: italic"><span style="color: #009900">False</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>_overlay</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
  Determines whether or not to <em>show the overlay by default</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-_overlay:</span> <span style="font-style: italic"><span style="color: #009900">False</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>_offsets</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
  Determines whether or not to <em>show the offsets by default</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-_offsets:</span> <span style="font-style: italic"><span style="color: #009900">False</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>_small_origin</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
  Determines whether or not to <em>show the small origin by default</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-_small_origin:</span> <span style="font-style: italic"><span style="color: #009900">False</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>overlay_color</code></strong> <em>(primary, secondary, or RGBA formatted color)</em>
</dt>
<dd>
<p>
  Sets the <em>default overlay color</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-overlay_color:</span> <span style="font-style: italic"><span style="color: #009900">blue</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>background_color</code></strong> <em>(primary, secondary, or RGBA formatted color)</em>
</dt>
<dd>
<p>
  Sets the <em>default background color</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-background_color:</span> <span style="font-style: italic"><span style="color: #009900">blue</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>+_use_gradient_background+</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
  Determines whether or not <em>use a gradient background by default</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-_use_gradient_background:</span> <span style="font-style: italic"><span style="color: #009900">False</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>jog_color</code></strong> <em>(primary, secondary, or RGBA formatted color)</em>
</dt>
<dd>
<p>
  Sets the <em>default jog color</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-jog_color:</span> <span style="font-style: italic"><span style="color: #009900">red</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>Feed_color</code></strong> <em>(primary, secondary, or RGBA formatted color)</em>
</dt>
<dd>
<p>
  Sets the <em>default feed color</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-Feed_color:</span> <span style="font-style: italic"><span style="color: #009900">green</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>Rapid_color</code></strong> <em>(primary, secondary, or RGBA formatted color)</em>
</dt>
<dd>
<p>
  Sets the <em>default rapid color</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-Rapid_color:</span> <span style="font-style: italic"><span style="color: #009900">rgba</span></span>(<span style="font-style: italic"><span style="color: #009900">0</span></span>, <span style="font-style: italic"><span style="color: #009900">0</span></span>, <span style="font-style: italic"><span style="color: #009900">255</span></span>, <span style="font-style: italic"><span style="color: #009900">.5</span></span>);
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>InhibitControls</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
  Determines whether or not to <em>inhibit external controls by default</em>.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-InhibitControls:</span><span style="font-style: italic"><span style="color: #009900">True</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>MouseButtonMode</code></strong> <em>(int)</em>
</dt>
<dd>
<p>
  Changes the <em>mouse button behavior</em> to rotate, move or zoom within
  the preview.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-MouseButtonMode:</span> <span style="font-style: italic"><span style="color: #009900">1</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>There are 12 valid modes:</p></div>
<div class="tableblock">
<table rules="all" class="tableblock"
width="50%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Mode</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Move</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Zoom</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Rotate</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Left</p></td>
<td align="left" valign="top"><p class="table">Middle</p></td>
<td align="left" valign="top"><p class="table">Right</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Middle</p></td>
<td align="left" valign="top"><p class="table">Right</p></td>
<td align="left" valign="top"><p class="table">Left</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table">Middle</p></td>
<td align="left" valign="top"><p class="table">Left</p></td>
<td align="left" valign="top"><p class="table">Right</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">3</p></td>
<td align="left" valign="top"><p class="table">Left</p></td>
<td align="left" valign="top"><p class="table">Right</p></td>
<td align="left" valign="top"><p class="table">Middle</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">4</p></td>
<td align="left" valign="top"><p class="table">Right</p></td>
<td align="left" valign="top"><p class="table">Left</p></td>
<td align="left" valign="top"><p class="table">Middle</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">5</p></td>
<td align="left" valign="top"><p class="table">Right</p></td>
<td align="left" valign="top"><p class="table">Middle</p></td>
<td align="left" valign="top"><p class="table">Left</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Modes 6-11 are intended for machines that only require a 2D preview such as plasma or some lathes and have no rotate button assigned.</p></div>
<div class="tableblock">
<table rules="all" class="tableblock"
width="50%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>Mode</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Move</strong></p></td>
<td align="left" valign="top"><p class="table"><strong>Zoom</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">6</p></td>
<td align="left" valign="top"><p class="table">Left</p></td>
<td align="left" valign="top"><p class="table">Middle</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">7</p></td>
<td align="left" valign="top"><p class="table">Middle</p></td>
<td align="left" valign="top"><p class="table">Left</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">8</p></td>
<td align="left" valign="top"><p class="table">Right</p></td>
<td align="left" valign="top"><p class="table">Left</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">9</p></td>
<td align="left" valign="top"><p class="table">Left</p></td>
<td align="left" valign="top"><p class="table">Right</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">10</p></td>
<td align="left" valign="top"><p class="table">Middle</p></td>
<td align="left" valign="top"><p class="table">Right</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">11</p></td>
<td align="left" valign="top"><p class="table">Right</p></td>
<td align="left" valign="top"><p class="table">Middle</p></td>
</tr>
</tbody>
</table>
</div>
</dd>
<dt class="hdlist1">
<strong><code>MouseWheelInvertZoom</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
  Determines whether or not to <em>invert the zoom direction</em> when zooming with the mouse wheel.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#gcodegraphics</span><span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-MouseWheelInvertZoom:</span><span style="font-style: italic"><span style="color: #009900">True</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
</dl></div>
<div class="paragraph"><div class="title"><code>ACTION</code> functions</div><p>The <code>ACTION</code> library can control the G-code graphics widget.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>ACTION.RELOAD_DISPLAY()</code></strong>
</dt>
<dd>
<p>
  Reload the current program which recalculates the origin/offsets.
</p>
</dd>
<dt class="hdlist1">
<strong><code>ACTION.SET_GRAPHICS_VIEW(_view_)</code></strong>
</dt>
<dd>
<p>
  The following <code>view</code> commands can be sent:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>clear</code>
</p>
</li>
<li>
<p>
<code>zoom-in</code>
</p>
</li>
<li>
<p>
<code>zoom-out</code>
</p>
</li>
<li>
<p>
<code>pan-up</code>
</p>
</li>
<li>
<p>
<code>pan-down</code>
</p>
</li>
<li>
<p>
<code>pan-right</code>
</p>
</li>
<li>
<p>
<code>pan-left</code>
</p>
</li>
<li>
<p>
<code>rotate-cw</code>
</p>
</li>
<li>
<p>
<code>rotate-ccw</code>
</p>
</li>
<li>
<p>
<code>rotate-up</code>
</p>
</li>
<li>
<p>
<code>rotate-down</code>
</p>
</li>
<li>
<p>
<code>overlay-dro-on</code>
</p>
</li>
<li>
<p>
<code>overlay-dro-off</code>
</p>
</li>
<li>
<p>
<code>overlay-offsets-on</code>
</p>
</li>
<li>
<p>
<code>overlay-offsets-off</code>
</p>
</li>
<li>
<p>
<code>alpha-mode-on</code>
</p>
</li>
<li>
<p>
<code>alpha-mode-off</code>
</p>
</li>
<li>
<p>
<code>inhibit-selection-on</code>
</p>
</li>
<li>
<p>
<code>inhibit-selection-off</code>
</p>
</li>
<li>
<p>
<code>dimensions-on</code>
</p>
</li>
<li>
<p>
<code>dimensions-off</code>
</p>
</li>
<li>
<p>
<code>grid-size</code>
</p>
</li>
<li>
<p>
<code>record-view</code>
</p>
</li>
<li>
<p>
<code>set-recorded-view</code>
</p>
</li>
<li>
<p>
<code>P</code>
</p>
</li>
<li>
<p>
<code>X</code>
</p>
</li>
<li>
<p>
<code>Y</code>
</p>
</li>
<li>
<p>
<code>Y2</code>
</p>
</li>
<li>
<p>
<code>Z</code>
</p>
</li>
<li>
<p>
<code>Z2</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong><code>ACTION.ADJUST_PAN(_X,Y_)</code></strong>
</dt>
<dd>
<p>
  Directly set the relative pan of view in x and y direction.
</p>
</dd>
<dt class="hdlist1">
<strong><code>ACTION.ADJUST_ROTATE(_X,Y_)</code></strong>
</dt>
<dd>
<p>
  Directly set the relative rotation of view in x and y direction.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>OpenGL</em> widget.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:statelabel">2.10. <code>StateLabel</code> - Controller Modes State Label Display Widget</h3>
<div class="paragraph"><p>This will <strong>display a label based on the machine controller modes true/false states</strong>.</p></div>
<div class="paragraph"><p>You can select between different texts based on true or false.</p></div>
<div class="paragraph"><div class="title">States Selection Properties</div><p>The states are selectable via these properties:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>css_mode_status</code></strong>
</dt>
<dd>
<p>
  <code>True</code> when machine is in <code>G96</code> <em>Constant Surface Speed Mode</em>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>diameter_mode_status</code></strong>
</dt>
<dd>
<p>
  <code>True</code> when machine is in <code>G7</code> <em>Lathe Diameter Mode</em>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>fpr_mode_status</code></strong>
</dt>
<dd>
<p>
  <code>True</code> when machine is in <code>G95</code> <em>Feed per revolution Mode</em>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>metric_mode_status</code></strong>
</dt>
<dd>
<p>
  <code>True</code> when machine is in <code>G21</code> <em>Metric Mode</em>.
</p>
</dd>
</dl></div>
<div class="dlist"><div class="title">Text templates properties</div><dl>
<dt class="hdlist1">
<strong><code>true_textTemplate</code></strong>
</dt>
<dd>
<p>
  This will be the text set when the option is <code>True</code>.<br />
  You can use <em>Qt rich text</em> code for different fonts/colors etc.<br />
  Typical template for metric mode in true state, might be: <em>Metric Mode</em>
</p>
</dd>
<dt class="hdlist1">
<strong><code>false_textTemplate</code></strong>
</dt>
<dd>
<p>
  This will be the text set when the option is <code>False</code>.<br />
  You can use <em>Qt rich text</em> code for different fonts/colors etc.<br />
  Typical template for metric mode in false state, might be: <em>Imperial Mode</em>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QLabel</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:statuslabel">2.11. <code>StatusLabel</code> - Controller Variables State Label Display Widget</h3>
<div class="paragraph"><p>This will display a label based on selectable status of the machine controller.<br />
You can change how the status will be displayed by substituting python formatting code in the text template. You can also use rich text for different fonts/colors etc.</p></div>
<div class="paragraph"><div class="title">Selectable States</div><p>These states are selectable:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>actual_spindle_speed_status</code></strong>
</dt>
<dd>
<p>
  Used to display the actual spindle speed as <em>reported from the HAL pin</em> <code>spindle.0.speed-i</code>.<br />
  It&#8217;s converted to <em>RPM</em>.<br />
  A <code>textTemplate</code> of <code>%d</code> would typically be used.
</p>
</dd>
<dt class="hdlist1">
<strong><code>actual_surface_speed_status</code></strong>
</dt>
<dd>
<p>
  Used to display the actual cutting surface speed on a lathe based on X axis and spindle speed.<br />
  It&#8217;s converted to distance per minute.<br />
  A <code>textTemplate</code> of <code>%4.1f</code> (feet per minute) and <code>altTextTemplate</code> of <code>%d</code> (meters per minute) would typically be used.
</p>
</dd>
<dt class="hdlist1">
<strong><code>blendcode_status</code></strong>
</dt>
<dd>
<p>
  Shows the current <code>G64</code> setting.
</p>
</dd>
<dt class="hdlist1">
<strong><code>current_feedrate_status</code></strong>
</dt>
<dd>
<p>
  Shows the current actual feedrate.
</p>
</dd>
<dt class="hdlist1">
<strong><code>current_FPU_status</code></strong>
</dt>
<dd>
<p>
  Shows the current actual feed per unit.
</p>
</dd>
<dt class="hdlist1">
<strong><code>fcode_status</code></strong>
</dt>
<dd>
<p>
  Shows the current programmed <code>F</code> code setting.
</p>
</dd>
<dt class="hdlist1">
<strong><code>feed_override_status</code></strong>
</dt>
<dd>
<p>
  Shows the current feed override setting in percent.
</p>
</dd>
<dt class="hdlist1">
<strong><code>filename_status</code></strong>
</dt>
<dd>
<p>
  Shows the last loaded file name.
</p>
</dd>
<dt class="hdlist1">
<strong><code>filepath_status</code></strong>
</dt>
<dd>
<p>
  Shows the last loaded full file path name.
</p>
</dd>
<dt class="hdlist1">
<strong><code>gcode_status</code></strong>
</dt>
<dd>
<p>
  Shows all active G-codes.
</p>
</dd>
<dt class="hdlist1">
<strong><code>gcode_selected_status</code></strong>
</dt>
<dd>
<p>
  Show the current selected G-code line.
</p>
</dd>
<dt class="hdlist1">
<strong><code>halpin_status</code></strong>
</dt>
<dd>
<p>
  Shows the HAL pin output of a selected HAL pin.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jograte_status</code></strong>
</dt>
<dd>
<p>
  Shows the current QtVCP based Jog Rate.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jograte_angular_status</code></strong>
</dt>
<dd>
<p>
  Shows the current QtVCP based Angular Jog Rate.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jogincr_status</code></strong>
</dt>
<dd>
<p>
  Shows the current QtVCP based Jog increment.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jogincr_angular_status</code></strong>
</dt>
<dd>
<p>
  Shows the current QtVCP based Angular Jog increment.
</p>
</dd>
<dt class="hdlist1">
<strong><code>machine_state_status</code></strong>
</dt>
<dd>
<p>
  Shows the current <em>machine interpreter state</em> using the text described from the machine_state_list.<br />
  The interpreter states are:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>Estopped</code>
</p>
</li>
<li>
<p>
<code>Running</code>
</p>
</li>
<li>
<p>
<code>Stopped</code>
</p>
</li>
<li>
<p>
<code>Paused</code>
</p>
</li>
<li>
<p>
<code>Waiting</code>
</p>
</li>
<li>
<p>
<code>Reading</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong><code>max_velocity_override_status</code></strong>
</dt>
<dd>
<p>
  Shows the current max axis velocity override setting.
</p>
</dd>
<dt class="hdlist1">
<strong><code>mcode_status</code></strong>
</dt>
<dd>
<p>
  Shows <em>all active M-codes</em>.
</p>
</dd>
<dt class="hdlist1">
<strong><em>motion_type_status</em></strong>
</dt>
<dd>
<p>
  Shows current type of machine motion using the text described from the motion_type_list.<br />
</p>
<div class="ulist"><ul>
<li>
<p>
<em>None</em>
</p>
</li>
<li>
<p>
<em>Rapid</em>
</p>
</li>
<li>
<p>
<em>Feed</em>
</p>
</li>
<li>
<p>
<em>Arc</em>
</p>
</li>
<li>
<p>
<em>Tool Change</em>
</p>
</li>
<li>
<p>
<em>Probe</em>
</p>
</li>
<li>
<p>
<em>Rotary Index</em>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong><code>requested_spindle_speed_status</code></strong>
</dt>
<dd>
<p>
  Shows the requested spindle speed - actual may be different.
</p>
</dd>
<dt class="hdlist1">
<strong><code>rapid_override_status</code></strong>
</dt>
<dd>
<p>
  Shows the current rapid override setting in (0-100) percent.
</p>
</dd>
<dt class="hdlist1">
<strong><code>spindle_override_status</code></strong>
</dt>
<dd>
<p>
  Shows the current spindle override setting in percent.
</p>
</dd>
<dt class="hdlist1">
<strong><code>timestamp_status</code></strong>
</dt>
<dd>
<p>
  Shows the time based on the system settings.<br />
  An example of a useful <code>textTemplate</code> setting: <code>%I:%M:%S %p</code>.<br />
  See the Python time module for more info.
</p>
</dd>
<dt class="hdlist1">
<strong><code>tool comment_status</code></strong>
</dt>
<dd>
<p>
  Returns the comment text from the current loaded tool.
</p>
</dd>
<dt class="hdlist1">
<strong><code>tool diameter_status</code></strong>
</dt>
<dd>
<p>
  Returns the diameter from the current loaded tool.
</p>
</dd>
<dt class="hdlist1">
<strong><code>tool_number_status</code></strong>
</dt>
<dd>
<p>
  Returns the tool number of the current loaded tool.
</p>
</dd>
<dt class="hdlist1">
<strong><code>tool_offset_status</code></strong>
</dt>
<dd>
<p>
  Returns the offset of the current loaded tool, indexed by <code>index_number</code> to select axis (0=x,1=y,etc.).
</p>
</dd>
<dt class="hdlist1">
<strong><code>user_system_status</code></strong>
</dt>
<dd>
<p>
  Shows the <em>active user coordinate system</em> (<code>G5x</code> setting).
</p>
</dd>
</dl></div>
<div class="dlist"><div class="title">Other Properties</div><dl>
<dt class="hdlist1">
<strong><code>index_number</code></strong>
</dt>
<dd>
<p>
  Integer that specifies the tool status index to display.
</p>
</dd>
<dt class="hdlist1">
<strong><code>state_label_list</code></strong>
</dt>
<dd>
<p>
  List of labels used to describe different machine states.
</p>
</dd>
<dt class="hdlist1">
<strong><em>motion_label_list</em></strong>
</dt>
<dd>
<p>
  List of labels used to describe different motion types.
</p>
</dd>
<dt class="hdlist1">
<strong><code>halpin_names</code></strong>
</dt>
<dd>
<p>
  Name of a halpin to monitor (must be the complete name, including the HAL component basename).
</p>
</dd>
<dt class="hdlist1">
<strong><code>textTemplate</code></strong>
</dt>
<dd>
<p>
  This is usually used for <strong>imperial (<code>G20</code>) or angular numerical settings</strong>,
  though not every option has imperial/metric conversion.<br />
  This uses <em>Python formatting rules</em> to set the text output.<br />
  One can use <code>%s</code> for no conversion, <code>%d</code> for integer conversion, <code>%f</code> for float conversion, etc.<br />
  You can also use <em>Qt rich text</em> code.<br />
  Typical template used for formatting imperial float numbers to text would be <code>%9.4f</code> or <code>%9.4f inch</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>alt_textTemplate</code></strong>
</dt>
<dd>
<p>
  This is usually used for <strong>metric (<code>G21</code>) numerical settings</strong>.<br />
  This uses <em>Python formatting rules</em> to set the text output.<br />
  Typical template used for formatting metric float to text would be <code>%10.3f</code> or <code>%10.3f mm</code>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QLabel</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:gcodegraphics:statusimageswitcher">2.12. <code>StatusImageSwitcher</code> - Controller Status Image Switcher</h3>
<div class="paragraph"><p>Status image switcher will <strong>switch between images based on LinuxCNC states</strong>.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
*<code>watch_spindle</code>
</dt>
<dd>
<p>
  Toggles between <em>3 images</em>: <code>stop</code>, <code>fwd</code>, <code>revs</code>.
</p>
</dd>
<dt class="hdlist1">
*<code>watch_axis_homed</code>
</dt>
<dd>
<p>
  Toggles between <em>2 images</em>: <code>axis not homed</code>, <code>axis homed</code>.
</p>
</dd>
<dt class="hdlist1">
*<code>watch_all_homed</code>
</dt>
<dd>
<p>
  Would toggle between <em>2 images</em>: <code>not all homed</code>, <code>all homed</code>.
</p>
</dd>
<dt class="hdlist1">
*<code>watch_hard_limits</code>
</dt>
<dd>
<p>
  Would toggle between <em>2 images or one per joint</em>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Here is an example of using it to display an icon of Z axis homing state:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<figure>
<img src="images/statusImageSwitcher.png" alt="QtVCP StatusImageSwitcher: Controller Status Image Switcher"/>
<figcaption class="title"> Figure 6. QtVCP <code>StatusImageSwitcher</code>: Controller Status Image Switcher</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>In the properties section notice that:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>watch_axis_homed</code> is checked
</p>
</li>
<li>
<p>
<code>axis_letter</code> is set to Z
</p>
</li>
</ul></div>
<div class="paragraph"><p>If you double click the <code>image_list</code> a dialog will show and allow you to add image paths to.</p></div>
<div class="paragraph"><p>If you have one image as an icon and one <em>clear image</em> then that will look like it shows and <em>hides the icon</em>.</p></div>
<div class="paragraph"><p>Selecting image paths can be done by selecting the <code>pixmap</code> property and selecting an image.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">The <code>pixmap</code> setting is for test display only and will be ignored outside of Qt Designer.</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
Right click the image name and you should see <em>Copy path</em>.
</p>
</li>
<li>
<p>
Click <em>Copy path</em>.
</p>
</li>
<li>
<p>
Now double click the <em>image list</em> property so the dialog shows.
</p>
</li>
<li>
<p>
Click the <em>New</em> button.
</p>
</li>
<li>
<p>
Paste the image path in the entry box.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Do that again for the next image.<br />
<em>Use a clear image to represent a hidden icon.</em></p></div>
<div class="paragraph"><p>You can <em>test the images display</em> from the image list by changing the <code>image number</code>.
In this case <code>0</code> is unhomed and <code>1</code> would be homed.<br />
This is for test display only and will be ignored outside of Qt Designer.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:statusstacked">2.13. <code>StatusStacked</code> - Mode Status Display Switching Widget</h3>
<div class="paragraph"><p>This widget <strong>displays one of three panels based on LinuxCNC&#8217;s mode</strong>.</p></div>
<div class="paragraph"><p>This allows you to automatically display different widgets on <em>Manual</em>, <em>MDI</em> and <em>Auto</em> modes.</p></div>
<div class="paragraph"><div class="title">TODO</div><p>It is based on PyQt&#8217;s <em>QStacked</em> widget.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:jogincrements">2.14. <code>JogIncrements</code> - Jog Increments Value Selection Widget</h3>
<div class="paragraph"><p>This widget allows the user to <strong>select jog increment values for jogging</strong>.</p></div>
<div class="paragraph"><p>The jogging values come from the <em>INI file</em> under:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>[DISPLAY]INCREMENTS</code>, or
</p>
</li>
<li>
<p>
<code>[DISPLAY]ANGULAR_INCREMENTS</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>This will be <em>available to all widgets</em> through <code>STATUS</code>.</p></div>
<div class="paragraph"><p>You can select linear or angular increments by the property <strong><code>linear_option</code></strong> in Qt Designer property editor.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>ComboBox</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:screenoption">2.15. <code>ScreenOption</code> - General Options Setting widget</h3>
<div class="paragraph"><p>This widget doesn&#8217;t add anything visually to a screen but <strong>sets up important options</strong>.</p></div>
<div class="paragraph"><p>This is the <em>preferred way to use these options</em>.</p></div>
<div class="paragraph"><div class="title">Properties</div><p>These properties can be set in Qt Designer, in Python handler code or (if appropriate) in stylesheets.</p></div>
<div class="paragraph"><p>These include:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>halCompBaseName</code></strong>
</dt>
<dd>
<p>
  If left empty QtVCP will use the screen&#8217;s name as the HAL component&#8217;s basename.<br />
  If set, QtVCP will use this string as the HAL component&#8217;s basename.<br />
  If the <code>-c</code> command line option is used when loading QtVCP, it will use the name specified on the command line - it overrides all above options.<br />
  If you programmatically set the basename in the <code>handlerfile</code> - it will override all above options.<br />
  This property cannot be set in stylesheets.
</p>
</dd>
<dt class="hdlist1">
<strong><code>notify_option</code></strong>
</dt>
<dd>
<p>
  Hooking into the desktop notification bubbles for error and messages.
</p>
</dd>
<dt class="hdlist1">
<strong><code>notify_max_messages</code></strong>
</dt>
<dd>
<p>
  Number of messages shown on screen at one time.
</p>
</dd>
<dt class="hdlist1">
<strong><code>catch_close_option</code></strong>
</dt>
<dd>
<p>
  Catching the close event to pop up a <em>'are you sure' prompt</em>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>close_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when quitting.
</p>
</dd>
<dt class="hdlist1">
<strong><code>catch_error_option</code></strong>
</dt>
<dd>
<p>
  <em>Monitoring of the LinuxCNC error channel</em>.<br />
  This also sends the message through <code>STATUS</code> to anything that registers.
</p>
</dd>
<dt class="hdlist1">
<strong><code>play_sounds_option</code></strong>
</dt>
<dd>
<p>
  Playing sounds using <code>beep</code>, <code>espeak</code> and the system sound.
</p>
</dd>
<dt class="hdlist1">
<strong><code>use_pref_file_option</code></strong>
</dt>
<dd>
<p>
  Setting up a <em>preferences file path</em>.<br />
  Using the magic word <code>WORKINGFOLDER</code> in the preference file path will be replaced with the launched configuration path, e.g. <code>WORKINFOLDER/my_preferences</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>use_send_zmq_option</code></strong>
</dt>
<dd>
<p>
  Used to initiate <em>ZMQ based outgoing messages</em>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>use_receive_zmq_messages</code></strong>
</dt>
<dd>
<p>
  Used to initiate <em>ZMQ based in coming messages</em>.<br />
  These messages <em>can be used to call functions in the handler file</em>,
  allowing <strong>external programs to integrate tightly with QtVCP</strong> based screens.
</p>
</dd>
<dt class="hdlist1">
<strong><code>embedded_program_option</code></strong>
</dt>
<dd>
<p>
  Embed programs defined in the <em>INI</em>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>default_embed_tab</code></strong>
</dt>
<dd>
<p>
  This is the property for a <em>default location to embed external programs</em>.<br />
  It should be set to name of a tab page widget in Qt Designer.
</p>
</dd>
<dt class="hdlist1">
<strong><code>focusOverlay_option</code></strong>
</dt>
<dd>
<p>
  Focus_overlay will put a transparent image or colored panel over the main screen to emphasize focus to an external event - typically a dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>messageDialog_option</code></strong>
</dt>
<dd>
<p>
  Sets up the message dialog - used for general messages.
</p>
</dd>
<dt class="hdlist1">
<strong><code>message_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the message dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>closeDialog_option</code></strong>
</dt>
<dd>
<p>
  Sets up the standard close screen prompt dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>entryDialog_option</code></strong>
</dt>
<dd>
<p>
  Sets up the numerical entry dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>entryDialogSoftKey_option</code></strong>
</dt>
<dd>
<p>
  Sets up a floating software keyboard when entry dialog is focused.
</p>
</dd>
<dt class="hdlist1">
<strong><code>entry_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the entry dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>toolDialog_option</code></strong>
</dt>
<dd>
<p>
  Sets up the manual tool change dialog, including HAL pin.
</p>
</dd>
<dt class="hdlist1">
<strong><code>tool_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the tool dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>ToolUseDesktopNotify</code></strong>
</dt>
<dd>
<p>
  Option to use desktop notify dialogs for manual tool change dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>ToolFrameless</code></strong>
</dt>
<dd>
<p>
  Frameless dialogs can not be easily moved by users.
</p>
</dd>
<dt class="hdlist1">
<strong><code>fileDialog_option</code></strong>
</dt>
<dd>
<p>
  Sets up the file choosing dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>file_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the file dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>keyboardDialog_option</code></strong>
</dt>
<dd>
<p>
  Sets up a keyboard entry widget.
</p>
</dd>
<dt class="hdlist1">
<strong><code>keyboard_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the keyboard dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>vesaProbe_option</code></strong>
</dt>
<dd>
<p>
  Sets up the Versa style probe dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>versaProbe_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the <code>versaProbe</code> dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>macroTabDialog_option</code></strong>
</dt>
<dd>
<p>
  Sets up the macro selection dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>macroTab_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the <code>macroTab</code> dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>camViewDialog_option</code></strong>
</dt>
<dd>
<p>
  Sets up the camera alignment dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>camView_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the <code>camView</code> dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>toolOffset_option</code></strong>
</dt>
<dd>
<p>
  Sets up the tool offset display/editor dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>toolOffset_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the <code>toolOffset</code> dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>originOffset_option</code></strong>
</dt>
<dd>
<p>
  Sets up the origin display/editor dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>originOffset_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the <code>originOffset</code> dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>calculatorDialog_option</code></strong>
</dt>
<dd>
<p>
  Sets up the calculator entry dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>calculator_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the calculator dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>machineLogDialog_option</code></strong>
</dt>
<dd>
<p>
  Sets up a dialog to display logs from the machine and QtVCP.
</p>
</dd>
<dt class="hdlist1">
<strong><code>machineLog_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the <code>machineLog</code> dialog is shown.
</p>
</dd>
<dt class="hdlist1">
<strong><code>runFromLineDialog_option</code></strong>
</dt>
<dd>
<p>
  Sets up a dialog to display starting options when starting machine execution from a arbitrary line.
</p>
</dd>
<dt class="hdlist1">
<strong><code>runFromLine_overlay_color</code></strong>
</dt>
<dd>
<p>
  Color of transparent layer shown when the <code>runFromLine</code> dialog is shown.
</p>
</dd>
</dl></div>
<div class="paragraph"><div class="title">Setting Properties Programmatically</div><p>The screen designer chooses the <strong>default settings of the <code>screenOptions</code> widget</strong>.</p></div>
<div class="paragraph"><p>Once chosen, most won&#8217;t ever need to be changed.
But if needed, some can be changed in the handler file or in stylesheets.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>In the handler file</strong>:<br />
  Here we reference the widget by the Qt Designer user defined name:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900"># red,green,blue,alpha 0-255</span></span>
color <span style="color: #990000">=</span> QtGui<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">QColor</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">255</span><span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">191</span><span style="color: #990000">)</span>
self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>screen_options<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'close_overlay_color'</span><span style="color: #990000">,</span> color<span style="color: #990000">)</span>
self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>screen_options<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'play_sounds_option'</span><span style="color: #990000">,</span>False<span style="color: #990000">)</span></tt></pre></div></div>
</li>
<li>
<p>
<strong>In style sheets</strong>:<br />
  Here we can reference the widget by Qt Designer user defined name or by widget class name.
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/* red, green, blue 0-255, alpha 0-100% or 0.0 to 1.0 */</span></span>
<span style="font-style: italic"><span style="color: #9A1900">/* the # sign is used to refer to Qt Designer defined widget name */</span></span>
<span style="font-style: italic"><span style="color: #9A1900">/* matches/applied to only this named widget */</span></span>
<span style="color: #993399">#screen_options</span> <span style="color: #FF0000">{</span>
  <span style="color: #0000FF">qproperty-close_overlay_color:</span> <span style="font-style: italic"><span style="color: #009900">rgba</span></span>(<span style="font-style: italic"><span style="color: #009900">0</span></span>, <span style="font-style: italic"><span style="color: #009900">255</span></span>, <span style="font-style: italic"><span style="color: #009900">0</span></span>, <span style="font-style: italic"><span style="color: #009900">0.75</span></span>)
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/* red, green, blue 0-255, alpha 0-100% or 0.0 to 1.0 */</span></span>
<span style="font-style: italic"><span style="color: #9A1900">/* use widget class name */</span></span>
<span style="font-style: italic"><span style="color: #9A1900">/* matches/applied to all widgets of this class */</span></span>
ScreenOptions <span style="color: #FF0000">{</span>
  <span style="color: #0000FF">qproperty-close_overlay_color:</span> <span style="font-style: italic"><span style="color: #009900">rgba</span></span>(<span style="font-style: italic"><span style="color: #009900">0</span></span>, <span style="font-style: italic"><span style="color: #009900">255</span></span>, <span style="font-style: italic"><span style="color: #009900">0</span></span>, <span style="font-style: italic"><span style="color: #009900">0.75</span></span>)
<span style="color: #FF0000">}</span></tt></pre></div></div>
</li>
</ul></div>
<div class="paragraph"><p><strong>Some settings are only checked on startup</strong> so will not cause changes after startup.
In these cases you would need to <em>make the changes in Qt Designer only</em>.</p></div>
<div class="paragraph"><div class="title">Preference File Entries</div><p>If the <em>preference file option is selected</em>, <code>screenOption</code> widget will make an <strong>INI based preference file</strong>.</p></div>
<div class="paragraph"><p>While <em>other QtVCP widgets will add to this list</em>, the <code>screenOptions</code> widget will add these entries under the following headings:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>[SCREEN_OPTIONS]</code></strong>
</dt>
<dd>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>catch_errors</code></strong> <em>(bool)</em>
</dt>
<dt class="hdlist1">
<strong><code>desktop_notify</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
    Whether to display errors/messages in the system&#8217;s notification mechanism.
</p>
</dd>
<dt class="hdlist1">
<strong><code>notify_max_msgs</code></strong> <em>(int)</em>
</dt>
<dd>
<p>
    Number of displayed errors at one time.
</p>
</dd>
<dt class="hdlist1">
<strong><code>shutdown_check</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
    Whether to pop a confirmation dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>sound_player_on</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
    Turns all sounds on or off.
</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<strong><code>[MCH_MSG_OPTIONS]</code></strong>
</dt>
<dd>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>mchnMsg_play_sound</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
    To play alert sound when dialog pops.
</p>
</dd>
<dt class="hdlist1">
<strong><code>mchnMsg_speak_errors</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
    To use Espeak to speak error messages.
</p>
</dd>
<dt class="hdlist1">
<strong><code>mchnMsg_speak_text</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
    To use Espeak to speak all other messages.
</p>
</dd>
<dt class="hdlist1">
<strong><code>mchnMsg_sound_type</code></strong> <em>(str)</em>
</dt>
<dd>
<p>
    Sound to play when messages displayed. See notes below.
</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<strong><code>[USER_MSG_OPTIONS]</code></strong>
</dt>
<dd>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>usermsg_play_sound</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
    To play alert sound when dialog pops.
</p>
</dd>
<dt class="hdlist1">
<strong><code>userMsg_sound_type</code></strong> <em>(str)</em>
</dt>
<dd>
<p>
    Sound to play when user messages displayed. See notes below.
</p>
</dd>
<dt class="hdlist1">
<strong><code>userMsg_use_focusOverlay</code></strong> <em>(bool)</em>
</dt>
<dd>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<strong><code>[SHUTDOWN_OPTIONS]</code></strong>
</dt>
<dd>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>shutdown_play_sound</code></strong> <em>(bool)</em>
</dt>
<dt class="hdlist1">
<strong><code>shutdown_alert_sound_type</code></strong> <em>(str)</em>
</dt>
<dd>
<p>
    Sound to play when messages displayed. See notes below.
</p>
</dd>
<dt class="hdlist1">
<strong><code>shutdown_exit_sound_type</code></strong> <em>(str)</em>
</dt>
<dd>
<p>
    Sound to play when messages displayed. See notes below.
</p>
</dd>
<dt class="hdlist1">
<strong><code>shutdown_msg_title</code></strong> <em>(str)</em>
</dt>
<dd>
<p>
    Short title string to display in dialog.
</p>
</dd>
<dt class="hdlist1">
<strong><code>shutdown_msg_focus_text</code></strong> <em>(str)</em>
</dt>
<dd>
<p>
    Large text string to superimpose in focus layer.
</p>
</dd>
<dt class="hdlist1">
<strong><code>shutdown_msg_detail</code></strong> <em>(str)</em>
</dt>
<dd>
<p>
    Longer descriptive string to display in dialog.
</p>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<strong><code>NOTIFY_OPTIONS</code></strong>
</dt>
<dd>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>notify_start_greeting</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
    Whether to display a greeting dialog on start-up.
</p>
</dd>
<dt class="hdlist1">
<strong><code>notify_start_title</code></strong> <em>(str)</em>
</dt>
<dd>
<p>
    Short Title string.<br />
    If the speak option is also selected it will be spoken with Espeak.
</p>
</dd>
<dt class="hdlist1">
<strong><code>notify_start_detail</code></strong> <em>(str)</em>
</dt>
<dd>
<p>
    Longer description string.
</p>
</dd>
<dt class="hdlist1">
<strong><code>notify_start_timeout</code></strong> <em>(int)</em>
</dt>
<dd>
<p>
    Time in seconds to display before closing.
</p>
</dd>
</dl></div>
</dd>
</dl></div>
<div class="ulist"><div class="title"><code>*_sound_type</code> entries</div><ul>
<li>
<p>
<strong>System Sounds</strong><br />
  In Debian/Ubuntu/Mint based installations these <em>system sounds</em> should be available as sound-type entries above:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>ERROR</code>
</p>
</li>
<li>
<p>
<code>READY</code>
</p>
</li>
<li>
<p>
<code>DONE</code>
</p>
</li>
<li>
<p>
<code>ATTENTION</code>
</p>
</li>
<li>
<p>
<code>RING</code>
</p>
</li>
<li>
<p>
<code>LOGIN</code>
</p>
</li>
<li>
<p>
<code>LOGOUT</code>
</p>
</li>
<li>
<p>
<code>BELL</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>These Sound options require <code>python3-gst1.0</code> installed.</p></div>
</li>
<li>
<p>
<strong>Audio Files</strong><br />
  You can also specify a <em>file path to an arbitrary audio file</em>.<br />
  You can use <code>~</code> in path to substitute for the user home file path.
</p>
</li>
<li>
<p>
<strong>Kernel Beeps</strong><br />
  If the <code>beep</code> <em>kernel module</em> is installed and it is not disabled, these sound-type entries are available:
</p>
<div class="ulist"><ul>
<li>
<p>
<code>BEEP</code>
</p>
</li>
<li>
<p>
<code>BEEP_RING</code>
</p>
</li>
<li>
<p>
<code>BEEP_START</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
<strong>Text-To-Speech</strong><br />
  If the <em>Espeak</em> module (<code>python3-espeak</code>) is installed, you can use the <code>SPEAK</code> entry to pronounce text:
</p>
</li>
<li>
<p>
<strong><code>SPEAK '_my message_'</code></strong>
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:statusslider">2.16. <code>StatusSlider</code> - Controller Setting Adjustment Slider Widget</h3>
<div class="paragraph"><p>This widget allow the user to <strong>adjust a LinuxCNC setting via a slider</strong>.</p></div>
<div class="paragraph"><p>The widget can adjust:</p></div>
<div class="ulist"><ul>
<li>
<p>
Jog rate
</p>
</li>
<li>
<p>
Angular jog rate
</p>
</li>
<li>
<p>
Feed rate
</p>
</li>
<li>
<p>
Spindle override rate
</p>
</li>
<li>
<p>
Rapid override rate
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Properties</div><p><code>StatusSlider</code> has the following properties:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>halpin_option</code></strong>
</dt>
<dd>
<p>
  Sets option to make a HAL float pin that reflects current value.
</p>
</dd>
<dt class="hdlist1">
<strong><code>rapid_rate</code></strong>
</dt>
<dd>
<p>
  Selects a rapid override rate slider.
</p>
</dd>
<dt class="hdlist1">
<strong><code>feed_rate</code></strong>
</dt>
<dd>
<p>
  Selects a feed override rate slider.
</p>
</dd>
<dt class="hdlist1">
<strong><code>spindle_rate</code></strong>
</dt>
<dd>
<p>
  Selects a spindle override rate slider.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jograte_rate</code></strong>
</dt>
<dd>
<p>
  Selects a linear jograte slider.
</p>
</dd>
<dt class="hdlist1">
<strong><code>jograte_angular_rate</code></strong>
</dt>
<dd>
<p>
  Selects a angular jograte slider.
</p>
</dd>
<dt class="hdlist1">
<strong><code>max_velocity_rate</code></strong>
</dt>
<dd>
<p>
  Selects a maximum velocity rate slider.
</p>
</dd>
<dt class="hdlist1">
<strong><code>alertState</code></strong>
</dt>
<dd>
<p>
  String to define style change: <code>read-only</code>, <code>under</code>, <code>over</code> and <code>normal</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>alertUnder</code></strong>
</dt>
<dd>
<p>
  Sets the float value that signals the stylesheet for <em>under</em> warning.
</p>
</dd>
<dt class="hdlist1">
<strong><code>alertOver</code></strong>
</dt>
<dd>
<p>
  Sets the float value that signals the stylesheet for <em>over</em> warning.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>These can be set in:</p></div>
<div class="ulist"><ul>
<li>
<p>
Qt Designer
</p>
</li>
<li>
<p>
Python handler code,
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>status_slider<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'spindle_rate'</span><span style="color: #990000">,</span>True<span style="color: #990000">)</span>
self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>status_slider<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'alertUnder'</span><span style="color: #990000">,</span><span style="color: #993399">35</span><span style="color: #990000">)</span>
self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>status_slider<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'alertOver'</span><span style="color: #990000">,</span><span style="color: #993399">100</span><span style="color: #990000">)</span></tt></pre></div></div>
</li>
<li>
<p>
Or (if appropriate) in stylesheets.
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/* warning colors for overrides if out of normal range*/</span></span>
<span style="font-style: italic"><span style="color: #9A1900">/* widget object name is slider_spindle_ovr */</span></span>

<span style="color: #993399">#slider_spindle_ovr</span><span style="color: #990000">[</span>alertState<span style="color: #990000">=</span>'over'<span style="color: #990000">]</span> <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">background:</span> <span style="font-style: italic"><span style="color: #009900">red</span></span>;
<span style="color: #FF0000">}</span>
<span style="color: #993399">#slider_spindle_ovr</span><span style="color: #990000">[</span>alertState<span style="color: #990000">=</span>'under'<span style="color: #990000">]</span> <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">background:</span> <span style="font-style: italic"><span style="color: #009900">yellow</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</li>
</ul></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QSlider</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:stateled">2.17. <code>StateLED</code> - Controller State LED Widget</h3>
<div class="paragraph"><p>This widget gives <strong>status on the selected LinuxCNC state</strong>.</p></div>
<div class="paragraph"><div class="title">States</div><p>The state options are:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>is_paused_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_estopped_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_on_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_idle_status_</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_homed_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_flood_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_mist_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_block_delete_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_optional_stop_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_joint_homed_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_limits_overridden_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_manual_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_mdi_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_auto_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_spindle_stopped_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_spindle_fwd_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_spindle_rev_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_spindle_at_speed_status</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_neg_limit_tripped</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_pos_limit_tripped</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>is_limits_tripped</code></strong>
</dt>
<dd>
<p>
</p>
</dd>
</dl></div>
<div class="paragraph"><div class="title">Properties</div><p>There are properties that can be changed:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>halpin_option</code></strong>
</dt>
<dd>
<p>
  Adds an output pin that reflects selected state.
</p>
</dd>
<dt class="hdlist1">
<strong><code>invert_state_status</code></strong>
</dt>
<dd>
<p>
  Invert the LED state compared to the LinuxCNC state.
</p>
</dd>
<dt class="hdlist1">
<strong><code>diameter</code></strong>
</dt>
<dd>
<p>
  Diameter of the LED.
</p>
</dd>
<dt class="hdlist1">
<strong><code>color</code></strong>
</dt>
<dd>
<p>
  Color of the LED when on.
</p>
</dd>
<dt class="hdlist1">
<strong><code>off_color</code></strong>
</dt>
<dd>
<p>
  Color of the LED when off.
</p>
</dd>
<dt class="hdlist1">
<strong><code>alignment</code></strong>
</dt>
<dd>
<p>
  Qt Alignment hint.
</p>
</dd>
<dt class="hdlist1">
<strong><code>state</code></strong>
</dt>
<dd>
<p>
  Current state of LED (for testing in Qt Designer).
</p>
</dd>
<dt class="hdlist1">
<strong><code>flashing</code></strong>
</dt>
<dd>
<p>
  Turns flashing option on and off.
</p>
</dd>
<dt class="hdlist1">
<strong><code>flashRate</code></strong>
</dt>
<dd>
<p>
  Sets the flash rate.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The LED properties can be defined in a stylesheet with the following code added to the <code>.qss</code> file.<br /></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>State_LED <span style="color: #993399">#name_of_led</span><span style="color: #FF0000">{</span>       &lt;<span style="font-style: italic"><span style="color: #009900">1</span></span>&gt;
  <span style="color: #0000FF">qproperty-color:</span> <span style="font-style: italic"><span style="color: #009900">red</span></span>;
  <span style="color: #0000FF">qproperty-diameter:</span> <span style="font-style: italic"><span style="color: #009900">20</span></span>;
  <span style="color: #0000FF">qproperty-flashRate:</span> <span style="font-style: italic"><span style="color: #009900">150</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="colist arabic"><ol>
<li>
<p>
<code>name_of_led</code> would be the name defined in Qt Designer&#8217;s editor.
</p>
</li>
</ol></div>
<div class="paragraph"><p>It is based on the <em>LED</em> widget.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:statusadjustmentbar">2.18. <code>StatusAdjustmentBar</code> - Controller Value Setting Widget</h3>
<div class="paragraph"><p>This widget allows <strong>setting values using buttons while displaying a bar</strong>.</p></div>
<div class="paragraph"><p>It also has an <em>optional hi/low toggle button</em> that can be held down to set the <strong>levels</strong>.</p></div>
<div class="paragraph"><p>The widget can adjust:</p></div>
<div class="ulist"><ul>
<li>
<p>
Jog rate
</p>
</li>
<li>
<p>
Angular jog rate
</p>
</li>
<li>
<p>
Feed rate
</p>
</li>
<li>
<p>
Spindle override rate
</p>
</li>
<li>
<p>
Rapid override rate
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QProgressBar</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:systemtoolbutton">2.19. <code>SystemToolButton</code> - User System Selection Widget</h3>
<div class="paragraph"><p>This widget allows you to <strong>manually select a G5x user system by pressing and holding</strong>.</p></div>
<div class="paragraph"><p>If you don&#8217;t set the button text it will automatically update to the current system.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QToolButton</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:macrotab">2.20. <code>MacroTab</code> - Special Macros Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_macro.png" alt="QtVCP MacroTab: Special Macros Widget"/>
<figcaption class="title"> Figure 7. QtVCP <code>MacroTab</code>: Special Macros Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This widget allows a user to <strong>select and adjust special macro programs</strong> for doing small jobs.</p></div>
<div class="paragraph"><p>It uses <em>images for visual representation</em> of the macro and for an icon.</p></div>
<div class="paragraph"><p>It searches for special macros using the <em>INI definition</em>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">[RS274NGC]</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">SUBROUTINE_PATH </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span></tt></pre></div></div>
<div class="paragraph"><p>The macros are <strong><code>O-word</code> subroutines with special comments</strong> to work with the launcher.
The first three lines <em>must</em> have the keywords below, the fourth is optional.</p></div>
<div class="paragraph"><p>Here is a sample for the first four lines in an <em>O-word file</em>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">; MACROCOMMAND </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> Entry1,Entry2</span>
<span style="font-weight: bold"><span style="color: #0000FF">; MACRODEFAULTS </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> 0,true</span>
<span style="font-weight: bold"><span style="color: #0000FF">; MACROIMAGE </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> my_image.svg,Icon layer number,Macro layer number</span>
<span style="font-weight: bold"><span style="color: #0000FF">; MACROOPTIONS </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> load:yes,save:yes,default:default.txt,path:~/macros</span></tt></pre></div></div>
<div class="paragraph"><div class="title"><code>MACROCOMMAND</code></div><p>This is the <em>first line</em> in the O-word file.</p></div>
<div class="paragraph"><p>It is a <strong>comma separated list of text to display above an entry</strong>.<br />
There will be <strong>one for every variable required</strong> in the O-word function.</p></div>
<div class="paragraph"><p>If the macro does not require variables, leave it empty:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">; MACROCOMMAND</span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span></tt></pre></div></div>
<div class="paragraph"><div class="title"><code>MACRODEFAULTS</code></div><p>This must be the <em>second line</em> in the O-word file.</p></div>
<div class="paragraph"><p>It is a <strong>comma separated list of the default values for each variable</strong> in the O-word function.</p></div>
<div class="paragraph"><p>If you use the word <code>true</code> or <code>false</code> in the list, a <code>*checkbutton*</code> will be shown.</p></div>
<div class="paragraph"><div class="title"><code>MACROIMAGE</code></div><p>This must be the <em>third line</em> in the O-word file.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>SVG Images</strong><br />
  If using SVG image files, they must end with the <code>.svg</code> extension.<br />
</p>
<div class="paragraph"><p>The images must be added to <em>SVG layers</em> which are used to define the different images for macro and icon.</p></div>
<div class="paragraph"><p>Value is comma separated list of three ordered fields:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">; MACROIMAGE</span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900">filename.svg,macro_layer_name[,icon_layer_name]</span></tt></pre></div></div>
<div class="paragraph"><p>With:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>_filename_.svg</code></strong>
</dt>
<dd>
<p>
  SVG image file name as first field.<br />
  It is assumed to be in the same folder as the O-word file.
</p>
</dd>
<dt class="hdlist1">
<strong><code>*macro_layer_name</code></strong>
</dt>
<dd>
<p>
  Macro image layer name as second field.
</p>
</dd>
<dt class="hdlist1">
<strong><code>icon_layer_name</code></strong>
</dt>
<dd>
<p>
  Icon image layer name as optional third field.
  If the third entry is missing, the same image will be used for macro and icon.
</p>
</dd>
</dl></div>
</li>
<li>
<p>
<strong>PNG/JPG Images</strong>:<br />
  Value remains a comma separated list:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">; MACROIMAGE</span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900">macro_image.(png|jpg)[,icon_image.(png|jpg)]</span></tt></pre></div></div>
<div class="paragraph"><p>With:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>_macro_image_.(png|jpg)</code></strong>
</dt>
<dd>
<p>
  Macro image file name as first field.<br />
  It is assumed that the image file are in the same folder than the macro.
</p>
</dd>
<dt class="hdlist1">
<strong><code>_icon_image_.(png|jpg)</code></strong>
</dt>
<dd>
<p>
  <strong>Icon image file name</strong> as optional second field.<br />
  If the second entry is missing the same image will be used for macro and image.
</p>
</dd>
</dl></div>
</li>
</ul></div>
<div class="paragraph"><p>If the keyword is present but the entries are missing, no images will be used.</p></div>
<div class="paragraph"><div class="title"><code>MACROOPTIONS</code></div><p>This <em>optional line must be the fourth</em> line in the O-word file.</p></div>
<div class="paragraph"><p>It is a comma separated list of keyword and data:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>LOAD:yes</code></strong>
</dt>
<dd>
<p>
  Shows a load button.
</p>
</dd>
<dt class="hdlist1">
<strong><code>SAVE:yes</code></strong>
</dt>
<dd>
<p>
  Shows a save button.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:mdiline">2.21. <code>MDILine</code> - MDI Commands Line Entry Widget</h3>
<div class="paragraph"><p>One can <strong>enter MDI commands</strong> here.</p></div>
<div class="paragraph"><p>A popup keyboard is available.</p></div>
<div class="paragraph"><div class="title">Embedded Commands</div><p>There are also <strong>embedded commands</strong> available from this widget.</p></div>
<div class="paragraph"><p>Enter any of these <em>case sensitive</em> commands to load the respective program or access the feature:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>HALMETER</code></strong>
</dt>
<dd>
<p>
  Starts LinuxCNC
  <a href="../hal/tools.html#sec:halmeter"><code>halmeter</code></a> utility.
</p>
</dd>
<dt class="hdlist1">
<strong><code>HALSHOW</code></strong>
</dt>
<dd>
<p>
  Starts LinuxCNC
  <a href="../hal/halshow.html#cha:halshow"><code>halshow</code></a> utility.
</p>
</dd>
<dt class="hdlist1">
<strong><code>HALSCOPE</code></strong>
</dt>
<dd>
<p>
  Starts LinuxCNC
  <a href="../hal/tutorial.html#sec:tutorial-halscope"><code>halscope</code></a> utility.
</p>
</dd>
<dt class="hdlist1">
<strong><code>STATUS</code></strong>
</dt>
<dd>
<p>
  Starts LinuxCNC
  <a href="../man/man1/linuxcnctop.1.html"><code>status</code></a> utility.
</p>
</dd>
<dt class="hdlist1">
<strong><code>CALIBRATION</code></strong>
</dt>
<dd>
<p>
  Starts LinuxCNC
  <a href="../getting-started/updating-linuxcnc.html#_calibration_emccalib_tcl">calibration</a>
  utility.
</p>
</dd>
<dt class="hdlist1">
<strong><code>CLASSICLADDER</code></strong>
</dt>
<dd>
<p>
  Starts the <a href="../ladder/classic-ladder.html">ClassicLadder GUI</a> if the <em>ClassicLadder realtime HAL component</em> was loaded by the machine&#8217;s config files.
</p>
</dd>
<dt class="hdlist1">
<strong><code>PREFERENCE</code></strong>
</dt>
<dd>
<p>
  <em>Loads the preference file</em> into the <code>GcodeEditor</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>CLEAR HISTORY</code></strong>
</dt>
<dd>
<p>
  <em>Clears the MDI History</em>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>net</code></strong>
</dt>
<dd>
<p>
  See <a href="../man/man1/halcmd.1.html#COMMANDS"><code>halcmd net</code> commands</a>.<br />
  An error will result if the command is unsuccessful.
</p>
<div class="ulist"><ul>
<li>
<p>
<em>Syntax</em>: <code>net &lt;signal name&gt; &lt;pin name&gt;</code>
</p>
</li>
<li>
<p>
<em>Example</em>: <code>net plasmac:jog-inhibit motion.jog-stop</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong><code>setp</code></strong>
</dt>
<dd>
<p>
  <em>Sets the value of a pin or a parameter</em>.<br />
  Valid values depend on the object type of the pin or parameter.<br />
  It results in an error if the data types do not match or the pin is connected to a signal.
</p>
<div class="ulist"><ul>
<li>
<p>
<em>Syntax</em>: <code>setp &lt;pin/parameter-name&gt; &lt;value&gt;</code>
</p>
</li>
<li>
<p>
<em>Example</em>: <code>setp plasmac.resolution 100</code>
</p>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
<strong><code>unlinkp</code></strong>
</dt>
<dd>
<p>
  <em>Disconnects a pin from a signal</em>.<br />
  An error will result if the pin does not exist.<br />
  Running LinuxCNC from terminal may help determine the root cause as error messages from <code>hal_lib.c</code> will be displayed there.
</p>
<div class="ulist"><ul>
<li>
<p>
<em>Syntax</em>: <code>unlinkp &lt;pin name&gt;</code>
</p>
</li>
<li>
<p>
<em>Example</em>: <code>unlinkp motion.jog-stop</code>
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">The <code>MDILine</code> function <strong><code>spindle_inhibit</code></strong> can be used by a GUI&#8217;s handler file to inhibit <code>M3</code>, <code>M4</code>, and <code>M5</code> spindle commands if necessary.</td>
</tr></table>
</div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QLineEdit</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:mdihistory">2.22. <code>MDIHistory</code> - MDI Commands History Widget</h3>
<div class="paragraph"><p>Displays a <strong>scrollable list of past MDI command</strong>.</p></div>
<div class="paragraph"><p>An edit line is embedded for MDI commands.
The same MDILine embedded commands may be accessed from this widget.</p></div>
<div class="paragraph"><p>The history is <em>recorded on a file defined in the INI</em> under the heading <code>[DISPLAY]</code> (this shows the default):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">MDI_HISTORY_FILE </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> '~/.axis_mdi_history'</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:mditouchy">2.23. <code>MDITouchy</code> - Touch Screen MDI Entry Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_mdiTouchy.png" alt="QtVCP MDITouchy: Touch Screen MDI Entry Widget"/>
<figcaption class="title"> Figure 8. QtVCP <code>MDITouchy</code>: Touch Screen MDI Entry Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This widget displays <strong>buttons and entry lines to use for entering MDI commands</strong>.</p></div>
<div class="paragraph"><p>Based on LinuxCNC&#8217;s Touchy screen&#8217;s MDI entry process, its large buttons are most useful for touch screens.</p></div>
<div class="paragraph"><p>To use <code>MDITouchy</code>:</p></div>
<div class="ulist"><ul>
<li>
<p>
First press one of the <code>G/XY</code>, <code>G/RO</code>, <code>M</code> or <code>T</code> button.
  On the left will show the entry fields that can be filled out.
</p>
</li>
<li>
<p>
Then press <code>Next</code> and <code>Back</code> to navigate between fields.
</p>
</li>
<li>
<p>
<code>Calc</code> will pop up a calculator dialog.
</p>
</li>
<li>
<p>
<code>Clear</code> clears the ecurrent entry.
</p>
</li>
<li>
<p>
<code>Set Tool</code> will call for a tool change.
</p>
</li>
<li>
<p>
<code>Set Origin</code> will allow setting the origin of the current G6x systen.
</p>
</li>
<li>
<p>
<code>Macro</code> will call any available macro ngc programs.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The widget <em>requires an explicit call to MDITouchy Python code</em> to <em>actually run the MDI command</em>:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>For handler file code</strong><br />
  If the widget was named <em>mditouchy</em> in Qt Designer, the command below would run the displayed MDI command:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>mditouchy<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run_command</span></span><span style="color: #990000">()</span></tt></pre></div></div>
</li>
<li>
<p>
<strong>For action button use</strong><br />
  If the widget was named <em>mditouchy</em> in Qt Designer, use the action button&#8217;s <em>Call Python commands</em> option and enter:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>INSTANCE<span style="color: #990000">.</span>mditouchy<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run_command</span></span><span style="color: #990000">()</span></tt></pre></div></div>
</li>
</ul></div>
<div class="paragraph"><p>The macro button <em>cycles though macros defined in the INI [DISPLAY] heading</em>.</p></div>
<div class="paragraph"><p>Add one or more <code>MACRO</code> lines of the following format:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">MACRO </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> macro_name [param1] [... paramN]</span></tt></pre></div></div>
<div class="paragraph"><p>In the example below, <code>increment</code> is the name of the macro, and it accepts two parameters, named <code>xinc</code> and <code>yinc</code>.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">MACRO </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> incerment xinc yinc</span></tt></pre></div></div>
<div class="paragraph"><p>Now, place the macro in a file named <code>macro_name.ngc</code> in the <code>PROGRAM_PREFIX</code> directory,
or into any directory in the <code>SUBROUTINE_PATH</code> specified in the INI file.</p></div>
<div class="paragraph"><p>Keeping on with the example above, it would be named <code>increment.ngc</code> and its content could look like:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">O&lt;increment&gt; sub</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">G91</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">X</span><span style="color: #009900">#1</span> <span style="color: #FF6600">Y</span><span style="color: #009900">#2</span>
<span style="font-weight: bold"><span style="color: #0000FF">G90</span></span>
<span style="font-weight: bold"><span style="color: #000080">O&lt;increment&gt; endsub</span></span></tt></pre></div></div>
<div class="paragraph"><p>Notice the <em>name of the sub matches the file name and macro name exactly</em>, including case.</p></div>
<div class="paragraph"><p>When you invoke the macro by pressing the Macro button you can enter values for parameters (<code>xinc</code> and <code>yinc</code> in our example).<br />
These are passed to the macro as positional parameters: <code>#1</code>, <code>#2</code>&#8230;  <code>#N</code> respectively.<br />
Parameters you leave empty are passed as value <code>0</code>.</p></div>
<div class="paragraph"><p>If there are several different macros, press the Macro button repeatedly to cycle through them.</p></div>
<div class="paragraph"><p>In this simple example, if you enter -1 for xinc and invoke the running of the MDI cycle,
a rapid <em>G0</em> move will be invoked, moving one unit to the left.</p></div>
<div class="paragraph"><p>This macro capability is useful for edge/hole probing and other setup tasks,
as well as perhaps hole milling or other simple operations that can be done from the panel without requiring specially-written G-code programs.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:originoffsetview">2.24. <code>OriginOffsetView</code> - Origins View and Setting Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_originoffsetview.png" alt="QtVCP OriginOffsetsView: Origins View and Setting Widget"/>
<figcaption class="title"> Figure 9. QtVCP <code>OriginOffsetsView</code>: Origins View and Setting Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This widget allows one to <strong>visualize and modify User System Origin offsets</strong> directly.</p></div>
<div class="paragraph"><p>It will <em>update LinuxCNC&#8217;s Parameter file</em> for changes made or found.</p></div>
<div class="paragraph"><p>The settings can only be changed in LinuxCNC after homing and when the motion controller is idle.</p></div>
<div class="paragraph"><p>The display and entry will change between metric and imperial, based on LinuxCNC&#8217;s <em>current</em> <code>G20</code> / <code>G21</code> setting.</p></div>
<div class="paragraph"><p>The current in-use user system will be highlighted.</p></div>
<div class="paragraph"><p>Extra actions can be integrated to manipulate settings.<br />
These actions depend on extra code added either to a combined widget,
like <code>originoffsetview</code> dialog, or the screens handler code.<br />
Typical actions might be <em>Clear Current User offsets</em> or <em>Zero X</em>.</p></div>
<div class="paragraph"><p>Clicking on the columns and rows allows one to adjust the settings.</p></div>
<div class="paragraph"><p>A dialog can be made to popup for data or text entry.</p></div>
<div class="paragraph"><p>The comments section will be recorded in the preference file.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QTableView</em>, <em>QAbstractTableModel</em>, and <em>ItemEditorFactory</em>.<br />
Properties, functions and styles of the PyQt base objects are always available.</p></div>
<div class="paragraph"><div class="title">Properties</div><p><code>OriginOffsetView</code> has the following properties:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>dialog_code_string</code></strong>
</dt>
<dd>
<p>
  Sets which dialog will pop up with numerical entry.
</p>
</dd>
<dt class="hdlist1">
<strong><code>test_dialog_code_string</code></strong>
</dt>
<dd>
<p>
  Sets which dialog will pop up with text entry.
</p>
</dd>
<dt class="hdlist1">
<strong><code>metric_template</code></strong>
</dt>
<dd>
<p>
  Metric numerical data format.
</p>
</dd>
<dt class="hdlist1">
<strong><code>imperial_template</code></strong>
</dt>
<dd>
<p>
  Imperial numerical data format.
</p>
</dd>
<dt class="hdlist1">
<strong><code>styleCodeHighlight</code></strong>
</dt>
<dd>
<p>
  Current in-use user system highlight color.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>These can be set in:</p></div>
<div class="ulist"><ul>
<li>
<p>
Qt Designer, in
</p>
</li>
<li>
<p>
Python handler code
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>originoffsetview<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'dialog_code'</span><span style="color: #990000">,</span><span style="color: #FF0000">'CALCULATOR'</span><span style="color: #990000">)</span>
self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>originoffsetview<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'metric_template'</span><span style="color: #990000">,</span><span style="color: #FF0000">'%10.3f'</span><span style="color: #990000">)</span></tt></pre></div></div>
</li>
<li>
<p>
Or (if appropriate) in stylesheets
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>OriginOffsetView<span style="color: #FF0000">{</span>
  <span style="color: #0000FF">qproperty-styleColorHighlist:</span> <span style="font-style: italic"><span style="color: #009900">lightblue</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:stateenablegridlayout">2.25. <code>StateEnableGridlayout</code> - Controller State Enabled Container Widget</h3>
<div class="literalblock">
<div class="content">
<pre><code>_disable the widgets inside it depending on LinuxCNC's current state_.</code></pre>
</div></div>
<div class="paragraph"><p>This is a <strong>container that other widgets can be placed in</strong>.</p></div>
<div class="paragraph"><p>Embedded widgets are be greyed-out when the <code>StateEnableGridlayout</code> is disabled.</p></div>
<div class="paragraph"><p>It can selectably react to:</p></div>
<div class="ulist"><ul>
<li>
<p>
Machine on
</p>
</li>
<li>
<p>
Interpreter idle
</p>
</li>
<li>
<p>
E-stop off
</p>
</li>
<li>
<p>
All-homed
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QGridLayout</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:machinelog">2.26. <code>MachineLog</code> - Machine Events Journal Display Widget</h3>
<div class="paragraph"><p>FIXME MachineLog documentation</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:jointenabledwidget">2.27. <code>JointEnableWidget</code> - FIXME</h3>
<div class="paragraph"><p>FIXME JointEnableWidget documentation</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:statusimageswitcher">2.28. <code>StatusImageSwitcher</code> - Controller Status Image Switching Widget</h3>
<div class="paragraph"><p>This widget will <strong>display images based on LinuxCNC status</strong>.</p></div>
<div class="paragraph"><p>You can watch:</p></div>
<div class="ulist"><ul>
<li>
<p>
the state of the spindle,
</p>
</li>
<li>
<p>
the state of all homed,
</p>
</li>
<li>
<p>
the state of a certain axis homed,
</p>
</li>
<li>
<p>
the state of hard limits.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s FIXME</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:filemanager">2.29. <code>FileManager</code> - File Loading Selector Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_fileManager.png" alt="QtVCP FileManager: File Loading Selector Widget"/>
<figcaption class="title"> Figure 10. QtVCP <code>FileManager</code>: File Loading Selector Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This widget is used to <strong>select files to load</strong>.</p></div>
<div class="paragraph"><p>It has a the ability to scroll the names with hardware such as a MPG.</p></div>
<div class="paragraph"><p>One can class patch the function <code>load(self,fname)</code> to customize file loading.</p></div>
<div class="paragraph"><p>The function <code>getCurrentSelected()</code> will return a Python tuple, containing the file path and whether it&#8217;s a file.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>temp <span style="color: #990000">=</span> FILEMANAGER<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getCurrentSelected</span></span><span style="color: #990000">()</span>
<span style="font-weight: bold"><span style="color: #0000FF">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'filepath={}'</span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span>temp<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]))</span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> temp<span style="color: #990000">[</span><span style="color: #993399">1</span><span style="color: #990000">]:</span>
    <span style="font-weight: bold"><span style="color: #0000FF">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Is a file'</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="dlist"><div class="title">Stylesheets Properties</div><dl>
<dt class="hdlist1">
<strong><code>doubleClickSelection</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
  Determines whether or not to <em>require double clicking on a folder</em>.<br />
  Single clicking a folder (False) is enabled by default and is intended for touch screen users.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#filemanager</span> <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-doubleClickSelection:</span> <span style="font-style: italic"><span style="color: #009900">True</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
<dt class="hdlist1">
<strong><code>showListView</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
  Determines whether or not to <em>show the file/folder structure in list form</em>.<br />
  Table view (False) is enabled by default.<br />
  The following shows an example of how to set this property:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#filemanager</span> <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">qproperty-showListView:</span> <span style="font-style: italic"><span style="color: #009900">True</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</dd>
</dl></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s FIXME</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:radioaxisselector">2.30. <code>RadioAxisSelector</code> - FIXME</h3>
<div class="paragraph"><p>FIXME RadioAxisSelector documentation</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:tooloffsetview">2.31. <code>ToolOffsetView</code> - Tools Offsets View And Edit Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_tooloffsetview.png" alt="QtVCP ToolOffsetView: Tools Offsets View And Edit Widget"/>
<figcaption class="title"> Figure 11. QtVCP <code>ToolOffsetView</code>: Tools Offsets View And Edit Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This widget <strong>displays and allows one to modify tools offsets</strong>.</p></div>
<div class="paragraph"><p>It will <em>update LinuxCNC&#8217;s tool table</em> for changes made or found.</p></div>
<div class="paragraph"><p>The tool settings can only be changed in LinuxCNC after homing and when the motion controller is idle.</p></div>
<div class="paragraph"><p>The display and entry will change between metric and imperial based on LinuxCNC&#8217;s <em>current</em> <code>G20</code>/<code>G21</code> setting.</p></div>
<div class="paragraph"><p>The current in-use tool will be highlighted, and the current selected tool will be highlighted in a different color.</p></div>
<div class="paragraph"><p>The checkbox beside each tool can be used to select too for an <em>action</em> that depends on extra code added either to a combined widget,
like the <code>toolOffsetView</code> dialog or the screens handler code.<br />
Typical actions are <em>load selected tool</em>, <em>delete selected tools</em>, etc.</p></div>
<div class="paragraph"><p>Clicking on the columns and rows allows one to adjust the settings.</p></div>
<div class="paragraph"><p>A dialog can be made to popup for data or text entry.</p></div>
<div class="paragraph"><p>The comments section will typically be displayed in the manual tool change dialog.</p></div>
<div class="paragraph"><p>If using a <em>lathe configuration</em>, there can be columns for X and Z wear.</p></div>
<div class="paragraph"><p>To use these columns to adjust the <em>tool wear</em>, it requires a remapped tool change routine.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QTableView</em>, <em>QAbstractTableModel</em>, and <em>ItemEditorFactory</em>.<br />
Properties, functions and styles of the PyQt base objects are always available.</p></div>
<div class="paragraph"><div class="title">Properties</div><p><code>ToolOffsetView</code> has properties that can be set in Qt Designer, in Python handler code or (if appropriate) in stylesheets:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>dialog_code_string</code></strong>
</dt>
<dd>
<p>
  Sets which dialog will pop up with numerical entry.
</p>
</dd>
<dt class="hdlist1">
<strong><code>test_dialog_code_string</code></strong>
</dt>
<dd>
<p>
  Sets which dialog will pop up with text entry.
</p>
</dd>
<dt class="hdlist1">
<strong><code>metric_template</code></strong>
</dt>
<dd>
<p>
  Metric numerical data format.
</p>
</dd>
<dt class="hdlist1">
<strong><code>imperial_template</code></strong>
</dt>
<dd>
<p>
  Imperial numerical data format.
</p>
</dd>
<dt class="hdlist1">
<strong><code>styleCodeHighlight</code></strong>
</dt>
<dd>
<p>
  Current tool-in-use highlight color.
</p>
</dd>
<dt class="hdlist1">
<strong><code>styleCodeSelected</code></strong>
</dt>
<dd>
<p>
  Selected highlight color.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>In a handler file:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>tooloffsetview<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'dialog_code'</span><span style="color: #990000">,</span><span style="color: #FF0000">'CALCULATOR'</span><span style="color: #990000">)</span>
self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>tooloffsetview<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'metric_template'</span><span style="color: #990000">,</span><span style="color: #FF0000">'%10.3f'</span><span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>and in style sheets:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>ToolOffsetView<span style="color: #FF0000">{</span>
  <span style="color: #0000FF">qproperty-styleColorHighlist:</span> <span style="font-style: italic"><span style="color: #009900">lightblue</span></span>;
  <span style="color: #0000FF">qproperty-styleColorSelected:</span> <span style="color: #FF0000">#444</span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><div class="title">Functions</div><p><code>ToolOffsetView</code> has some functions useful for screen builders to add actions:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>add_tool()</code></strong>
</dt>
<dd>
<p>
  Adds a blank dummy tool (99) that the user can edit to suit.
</p>
</dd>
<dt class="hdlist1">
<strong><code>delete_tools()</code></strong>
</dt>
<dd>
<p>
  Deletes the currently checkbox selected tools.
</p>
</dd>
<dt class="hdlist1">
<strong><code>get_checked_list()</code></strong>
</dt>
<dd>
<p>
  Returns a list of tools selected by checkboxs.
</p>
</dd>
<dt class="hdlist1">
<strong><code>set_all_unchecked()</code></strong>
</dt>
<dd>
<p>
  Uncheck all selected tools.
</p>
</dd>
</dl></div>
<div class="listingblock">
<div class="title">Example for handler file executing aforementioned functions.</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>tooloffsetview<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add_tool</span></span><span style="color: #990000">()</span>
self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>tooloffsetview<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">delete_tools</span></span><span style="color: #990000">()</span>
toolList <span style="color: #990000">=</span> self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>tooloffsetview<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get_checked_list</span></span><span style="color: #990000">()</span>
self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>tooloffsetview<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">set_all_unchecked</span></span><span style="color: #990000">()</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:basicprobe">2.32. <code>BasicProbe</code> - Simple Mill Probing Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_basicProbe.png" alt="QtVCP BasicProbe: Simple Mill Probing Widget"/>
<figcaption class="title"> Figure 12. QtVCP <code>BasicProbe</code>: Simple Mill Probing Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>Widget for <strong>probing on a mill</strong>.
Used by the <em>QtDragon</em> screen.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:vesaprobe">2.33. <code>VersaProbe</code> - Mill Probing Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_versaProbe.png" alt="QtVCP VersaProbe: Mill Probing Widget"/>
<figcaption class="title"> Figure 13. QtVCP <code>VersaProbe</code>: Mill Probing Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>Widget for <strong>probing on a mill</strong>.
Used by the <em>QtDragon</em> screen.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:qtvcp:widgets:dialog">3. Dialog Widgets</h2>
<div class="sectionbody">
<div class="paragraph"><p>Dialogs are used to <strong>present or request immediately required information</strong> in a focused way.</p></div>
<div class="paragraph"><p>The typical used dialogs can be loaded using the <code>ScreenOptions</code> <em>widget</em>.</p></div>
<div class="paragraph"><p>You can also add them directly to the <em>UI</em> - but each dialog must have a unique launch name or you will see multiple dialogs displayed, one after another.</p></div>
<div class="paragraph"><div class="title">Use dialogs from Python Code</div><p>You can show dialogs directly with <em>Python code</em>, but a safer way is to <strong>use <code>STATUS</code> messages</strong> to request the dialog to launch and to return the gathered information.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Register to <code>STATUS</code> channel</strong>:<br />
  To set this up, first register to catch the <code>general</code> message from <code>STATUS</code>:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>STATUS<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">connect</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'general'</span><span style="color: #990000">,</span>self<span style="color: #990000">.</span>return_value<span style="color: #990000">)</span></tt></pre></div></div>
</li>
<li>
<p>
<strong>Add a function to call a dialog</strong>:<br />
  This function must <em>build a message <code>dict</code> to send to the dialog</em>.<br />
  This message will be passed back in the general message with the addition of the <em><code>return</code> variable</em>.<br />
  It is possible to add <em>extra user information</em> to the message.
  The dialog will ignore these and pass them back.
</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>NAME</code>
</dt>
<dd>
<p>
Launches code name of dialog to show.
</p>
</dd>
<dt class="hdlist1">
<code>ID</code>
</dt>
<dd>
<p>
A unique id so we process only a dialog that we requested.
</p>
</dd>
<dt class="hdlist1">
<code>TITLE</code>
</dt>
<dd>
<p>
The title to use on the dialog.
</p>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">show_dialog</span></span><span style="color: #990000">(</span>self<span style="color: #990000">):</span>
    mess <span style="color: #990000">=</span> <span style="color: #990000">{</span><span style="color: #FF0000">'NAME'</span><span style="color: #990000">:</span><span style="color: #FF0000">'ENTRY'</span><span style="color: #990000">,</span><span style="color: #FF0000">'ID'</span><span style="color: #990000">:</span><span style="color: #FF0000">'__test1__'</span><span style="color: #990000">,</span>
            <span style="color: #FF0000">'TITLE'</span><span style="color: #990000">:</span><span style="color: #FF0000">'Test Entry'</span><span style="color: #990000">}</span>
    ACTION<span style="color: #990000">.</span>CALL_DIALOG<span style="color: #990000">,</span> mess<span style="color: #990000">)</span></tt></pre></div></div>
</li>
<li>
<p>
<strong>Add a callback function that processes the general message</strong>:<br />
  Keep in mind this function will <em>get all general messages</em> so the <code>dict</code> keynames are not guaranteed to be there.
  Using the <code>.get()</code> function and/or using <code>try</code>/<code>except</code> is advisable.
  This function should:
</p>
<div class="ulist"><ul>
<li>
<p>
check the name and id is the same as we sent,
</p>
</li>
<li>
<p>
then extract the return value and any user variables.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900"># process the STATUS return message</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">return_value</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span> w<span style="color: #990000">,</span> message<span style="color: #990000">):</span>
    rtn <span style="color: #990000">=</span> message<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'RETURN'</span><span style="color: #990000">)</span>
    code <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">bool</span></span><span style="color: #990000">(</span>message<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'ID'</span><span style="color: #990000">)</span> <span style="color: #990000">==</span> <span style="color: #FF0000">'__test1__'</span><span style="color: #990000">)</span>
    name <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">bool</span></span><span style="color: #990000">(</span>message<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'NAME'</span><span style="color: #990000">)</span> <span style="color: #990000">==</span> <span style="color: #FF0000">'ENTRY'</span><span style="color: #990000">)</span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> code <span style="font-weight: bold"><span style="color: #0000FF">and</span></span> name <span style="font-weight: bold"><span style="color: #0000FF">and</span></span> <span style="font-weight: bold"><span style="color: #0000FF">not</span></span> rtn <span style="font-weight: bold"><span style="color: #0000FF">is</span></span> None<span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'Entry return value from {} = {}'</span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span>code<span style="color: #990000">,</span> rtn<span style="color: #990000">))</span></tt></pre></div></div>
</li>
</ul></div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:lcncdialog">3.1. <code>LcncDialog</code> - General Message Dialog Widget</h3>
<div class="paragraph"><p>This is a <strong>general message dialog widget</strong>.</p></div>
<div class="paragraph"><p>If there is a Focus Overlay widget present, it can signal it to display.</p></div>
<div class="paragraph"><p>If the sound library is set up it can <em>play sounds</em>.</p></div>
<div class="paragraph"><p>There are <em>options</em> that can be set when requesting a dialog, these would be added to the message <code>dict</code>.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>TITLE</code></strong>
</dt>
<dd>
<p>
Title of the dialog window.
</p>
</dd>
<dt class="hdlist1">
<strong><code>MESSAGE</code></strong>
</dt>
<dd>
<p>
Title message text in bold.
</p>
</dd>
<dt class="hdlist1">
<strong><code>MORE</code></strong>
</dt>
<dd>
<p>
Standard text under the heading.
</p>
</dd>
<dt class="hdlist1">
<strong><code>DETAILS</code></strong>
</dt>
<dd>
<p>
Initial hidden text.
</p>
</dd>
<dt class="hdlist1">
<strong><code>TYPE</code></strong> <em>(<code>OK</code>|<code>YESNO</code>|<code>OKCANCEL</code>)</em>
</dt>
<dt class="hdlist1">
<strong><code>ICON</code></strong> (<code>QUESTION</code>|<code>INFO</code>|<code>CRITICAL</code>|<code>WARNING</code>)
</dt>
<dt class="hdlist1">
<strong><code>PINNAME</code></strong>
</dt>
<dd>
<p>
  Not implemented yet.
</p>
</dd>
<dt class="hdlist1">
<strong><code>FOCUSTEXT</code></strong> <em>(overlay text|<code>None</code>)</em>
</dt>
<dd>
<p>
  Text to display if focus overlay is used.  Use <code>None</code> for no text.
</p>
</dd>
<dt class="hdlist1">
<strong><code>FOCUSCOLOR</code></strong> (<code>QColor(_R, G, B, A_)</code>)
</dt>
<dd>
<p>
  Color to use if focus overlay is used.
</p>
</dd>
<dt class="hdlist1">
<strong><code>PLAYALERT</code></strong>
</dt>
<dd>
<p>
  Sound to play if sound is available, i.e., <code>SPEAK</code> <em>&lt;spoken_message&gt;</em> .
</p>
</dd>
</dl></div>
<div class="paragraph"><p>When using <code>STATUS</code> 's <code>request-dialog</code> function, the <em>default launch name</em> is <strong><code>MESSAGE</code></strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QMessagebox</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:tooldialog">3.2. <code>ToolDialog</code> - Manual Tool Change Dialog Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_toolChange.png" alt="QtVCP ToolDialog: Manual Tool Change Dialog"/>
<figcaption class="title"> Figure 14. QtVCP <code>ToolDialog</code>: Manual Tool Change Dialog</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This is used as a <strong>manual tool change prompt</strong>.</p></div>
<div class="paragraph"><p>It has <em>HAL pins to connect to the machine controller</em>.
The pins are named the same as the original AXIS manual tool prompt and works the same.</p></div>
<div class="paragraph"><p>The tool change dialog <em>can only be launched by HAL pins</em>.</p></div>
<div class="paragraph"><p>If there is a Focus Overlay widget present, it will signal it to display.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QMessagebox</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:filedialog">3.3. <code>FileDialog</code> - Load and Save File Chooser Dialog Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_fileDialog.png" alt="QtVCP FileDialog: Load and Save File Chooser Widget"/>
<figcaption class="title"> Figure 15. QtVCP <code>FileDialog</code>: Load and Save File Chooser Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This is used to <strong>load G-code files</strong>.</p></div>
<div class="paragraph"><p>If there is a Focus Overlay widget present, it will signal it to display.</p></div>
<div class="paragraph"><p>When using <code>STATUS</code> 's <code>request-dialog</code> function, the default launch names are <strong><code>LOAD</code></strong> or <strong><code>SAVE</code></strong>.</p></div>
<div class="paragraph"><p>There are <em>options</em> that can be set when requesting a dialog, these would be added to the message dict:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>EXTENSIONS</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>FILENAME</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>DIRECTORY</code></strong>
</dt>
<dd>
<p>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>An example Python call, for a <em>load dialog</em>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>mess <span style="color: #990000">=</span> <span style="color: #990000">{</span><span style="color: #FF0000">'NAME'</span><span style="color: #990000">:</span><span style="color: #FF0000">'LOAD'</span><span style="color: #990000">,</span><span style="color: #FF0000">'ID'</span><span style="color: #990000">:</span><span style="color: #FF0000">'_MY_DIALOG_'</span><span style="color: #990000">,</span>
            <span style="color: #FF0000">'TITLE'</span><span style="color: #990000">:</span><span style="color: #FF0000">'Load Some text File'</span><span style="color: #990000">,</span>
            <span style="color: #FF0000">'FILENAME'</span><span style="color: #990000">:</span><span style="color: #FF0000">'~/linuxcnc/nc_files/someprogram.txt'</span><span style="color: #990000">,</span>
            <span style="color: #FF0000">'EXTENSIONS'</span><span style="color: #990000">:</span><span style="color: #FF0000">'Text Files (*.txt);;ALL Files (*.*)'</span>
            <span style="color: #990000">}</span>
ACTION<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">CALL_DIALOG</span></span><span style="color: #990000">(</span>mess<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>And for a <em>save dialog</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>mess <span style="color: #990000">=</span> <span style="color: #990000">{</span><span style="color: #FF0000">'NAME'</span><span style="color: #990000">:</span><span style="color: #FF0000">'SAVE'</span><span style="color: #990000">,</span><span style="color: #FF0000">'ID'</span><span style="color: #990000">:</span><span style="color: #FF0000">'_MY_DIALOG_'</span><span style="color: #990000">,</span>
            <span style="color: #FF0000">'TITLE'</span><span style="color: #990000">:</span><span style="color: #FF0000">'Save Some text File'</span><span style="color: #990000">,</span>
            <span style="color: #FF0000">'FILENAME'</span><span style="color: #990000">:</span><span style="color: #FF0000">'~/linuxcnc/nc_files/someprogram.txt'</span><span style="color: #990000">,</span>
            <span style="color: #FF0000">'EXTENSIONS'</span><span style="color: #990000">:</span><span style="color: #FF0000">'Text Files (*.txt);;ALL Files (*.*)'</span>
            <span style="color: #990000">}</span>
ACTION<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">CALL_DIALOG</span></span><span style="color: #990000">(</span>mess<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QMessagebox</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:originoffsetdialog">3.4. <code>OriginOffsetDialog</code> - Origin Offset Setting Dialog Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_offsetpage.png" alt="QtVCP `OriginOffsetDialog`: Origin Offset Setting Widget"/>
<figcaption class="title"> Figure 16. QtVCP <code>OriginOffsetDialog</code>: Origin Offset Setting Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This widget allows one to <strong>modify User System origin offsets directly</strong> in a dialog form.</p></div>
<div class="paragraph"><p>If there is an Focus Overlay widget present, it will signal it to display.</p></div>
<div class="paragraph"><p>When using <code>STATUS</code> 's <code>request-dialog</code> function, the default launch name is <strong><code>ORIGINOFFSET</code></strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QDialog</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:tooloffsetdialog">3.5. <code>ToolOffsetDialog</code> - Tool Offset Setting Dialog Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_toolOffset.png" alt="QtVCP `ToolOffsetDialog`: Tool Offset Setting Dialog Widget"/>
<figcaption class="title"> Figure 17. QtVCP <code>ToolOffsetDialog</code>: Tool Offset Setting Dialog Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This widget allows one to <strong>modify Tool offsets directly</strong> in a dialog form.</p></div>
<div class="paragraph"><p>If there is an Focus Overlay widget present, it will signal it to display.</p></div>
<div class="paragraph"><p>When using <code>STATUS</code> 's <code>request-dialog</code> function, the default launch name is <strong><code>TOOLOFFSET</code></strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QDialog</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:macrotabdialog">3.6. <code>MacroTabDialog</code> - Macro Launch Dialog Widget</h3>
<div class="paragraph"><p>This is a dialog to <strong>display the macrotab widget</strong>.</p></div>
<div class="paragraph"><p><code>MacroTab</code> displays a <em>choice of macro programs to run using icons</em>.</p></div>
<div class="paragraph"><p>If there is a Focus Overlay widget present, it will signal it to display.</p></div>
<div class="paragraph"><p>When using ``STATUS``'s <code>request-dialog</code> function, the default launch name is <strong><code>MACROTAB</code></strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QDialog</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:camviewdialog">3.7. <code>CamViewDialog</code> - WebCam Part Alignment Dialog Widget</h3>
<div class="paragraph"><p>This is a dialog to <strong>display the CamView widget for Webcam part alignment</strong>.</p></div>
<div class="paragraph"><p>When using ``STATUS``'s <code>request-dialog</code> function, the default launch name is <strong><code>CAMVIEW</code></strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QDialog</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:entrydialog">3.8. <code>EntryDialog</code> - Edit Line Dialog Widget</h3>
<div class="paragraph"><p>This is a dialog to <strong>display an edit line for information entry</strong>, such as origin offset.</p></div>
<div class="paragraph"><p>It returns the entry via <code>STATUS</code> messages using a Python <code>DICT</code>.</p></div>
<div class="paragraph"><p>The <code>DICT</code> contains at minimum, the name of the dialog requested and an ID code.</p></div>
<div class="paragraph"><p>When using ``STATUS``'s <code>request-dialog</code> function, the default launch name is <strong><code>ENTRY</code></strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QDialog</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:calculatordialog">3.9. <code>CalculatorDialog</code> - Calculator Dialog Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_calculator.png" alt="QtVCP CalculatorDialog: Calculator Dialog Widget"/>
<figcaption class="title"> Figure 18. QtVCP <code>CalculatorDialog</code>: Calculator Dialog Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This is a dialog to <strong>display a calculator for numeric entry</strong>, such as origin offset.</p></div>
<div class="paragraph"><p>It returns the entry via <code>STATUS</code> messages using a Python <code>DICT</code>.</p></div>
<div class="paragraph"><p>The <code>DICT</code> contains at minimum, the name of the dialog requested and an ID code.</p></div>
<div class="paragraph"><p>When using ``STATUS``'s <code>request-dialog</code> function, the default launch name is <strong><code>CALCULATOR</code></strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QDialog</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:runfromlinedialog">3.10. <code>RunFromLine</code> - Run-From-Line Dialog Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_runFromLine.png" alt="QtVCP RunFromLine: Run-From-Line Dialog Widget"/>
<figcaption class="title"> Figure 19. QtVCP <code>RunFromLine</code>: Run-From-Line Dialog Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>Dialog to <strong>preset spindle settings before running a program from a specific line</strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QDialog</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:versaprobedialog">3.11. <code>VersaProbeDialog</code> - Part Touch Probing Dialog Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_versaProbe.png" alt="QtVCP VersaProbeDialog: Part Touch Probing Dialog Widget"/>
<figcaption class="title"> Figure 20. QtVCP <code>VersaProbeDialog</code>: Part Touch Probing Dialog Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This is a dialog to display a <strong>part probing screen based on Verser Probe v2</strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QDialog</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:machinelogdialog">3.12. <code>MachineLogDialog</code> - Machine and Debugging Logs Dialog Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_machineLog.png" alt="QtVCP MachineLogDialog: Machine and Debugging Logs Dialog Widget"/>
<figcaption class="title"> Figure 21. QtVCP <code>MachineLogDialog</code>: Machine and Debugging Logs Dialog Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>This is a dialog to <strong>display the machine log and QtVCP&#8217;s debugging log</strong>.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QDialog</em>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:qtvcp:widgets:other">4. Other Widgets</h2>
<div class="sectionbody">
<div class="paragraph"><p>Other available widgets:</p></div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:nurbseditor">4.1. <code>NurbsEditor</code> - NURBS Editing Widget</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_nurbsEditor.png" alt="QtVCP NurbsEditor: NURBS Editing Widget"/>
<figcaption class="title"> Figure 22. QtVCP <code>NurbsEditor</code>: NURBS Editing Widget</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>The Nurbs editor allows you to <strong>manipulate a NURBS based geometry</strong> on screen and then <strong>convert NURBS to G-code</strong>.</p></div>
<div class="paragraph"><p>You can edit the G-code on screen and then send it to LinuxCNC.</p></div>
<div class="paragraph"><p>It is based on PyQt&#8217;s <em>QDialog</em>.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:joypad">4.2. <code>JoyPad</code> - 5 button D-pad Widget</h3>
<div class="paragraph"><p>It is the base class for the <code>HALPad</code> widget.</p></div>
<div class="paragraph"><p>This widget looks and acts like a <strong>5 button D-pad, with a LED like indicators in a ring</strong>.</p></div>
<div class="paragraph"><p>You can put text or icons in each of the button positions.</p></div>
<div class="paragraph"><p>You can <em>connect to output signals</em> when the buttons are pressed.</p></div>
<div class="paragraph"><p>There are also <em>input slots</em> to change the color of the indicator(s).</p></div>
<div class="paragraph"><div class="title">ENUMS</div><p>There are <strong>enumerated constants used to reference indicator positions</strong>.<br />
They are used in Qt Designer editor&#8217;s property editor or in Python code.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>NONE</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>LEFT</code>, <code>L</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>RIGHT</code>, <code>R</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>CENTER</code>, <code>C</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>TOP</code>, <code>T</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>BOTTOM</code>, <code>B</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>LEFTRIGHT</code>, <code>X</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>TOPBOTTOM</code>, <code>A</code></strong>
</dt>
<dd>
<p>
For Python handler code, you use the widget name in Qt Designer plus the reference constant:
</p>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>joypadname<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">set_highlight</span></span><span style="color: #990000">(</span>self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>joypadname<span style="color: #990000">.</span>LEFT<span style="color: #990000">)</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Useful Override-able Functions</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">_pressedOutput</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span> btncode<span style="color: #990000">):</span>
    self<span style="color: #990000">.</span>joy_btn_pressed<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">emit</span></span><span style="color: #990000">(</span>btncode<span style="color: #990000">)</span>
    self<span style="color: #990000">[</span><span style="color: #FF0000">''</span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span>btncode<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">lower</span></span><span style="color: #990000">())].</span><span style="font-weight: bold"><span style="color: #000000">emit</span></span><span style="color: #990000">(</span>True<span style="color: #990000">)</span>

<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">_releasedOutput</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span> btncode<span style="color: #990000">):</span>
    self<span style="color: #990000">.</span>joy_btn_released<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">emit</span></span><span style="color: #990000">(</span>btncode<span style="color: #990000">)</span>
    self<span style="color: #990000">[</span><span style="color: #FF0000">'joy_{}_pressed'</span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span>btncode<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">lower</span></span><span style="color: #990000">())].</span><span style="font-weight: bold"><span style="color: #000000">emit</span></span><span style="color: #990000">(</span>False<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>As coded these function <em>issue (emit) PyQt5 signals (joy_btn_pressed and joy</em>&lt;letter&gt;_pressed) for the any button pressed or released_.</p></div>
<div class="paragraph"><p>Signal <em>joy_btn_pressed</em> outputs a string code for the button.<br />
Signal <em>joy_&lt;letter&gt;_pressed</em> outputs a bool value.</p></div>
<div class="paragraph"><p>You could override the functions to do something else if making a custom widget:</p></div>
<div class="dlist"><div class="title">Callable Functions</div><dl>
<dt class="hdlist1">
<strong><code>reset_highlight()</code></strong>
</dt>
<dd>
<p>
  Clears the highlight indicator.
</p>
</dd>
<dt class="hdlist1">
<strong><code>set_highlight(_button_, state=_True_)</code></strong>
</dt>
<dd>
<p>
  Set the highlight indicator in position <code>button</code> to state <code>state</code>.<br />

  You can use <em>strings letters</em> (<code>LRCTBXA</code>) or <em>position</em> <code>ENUMS</code> for the button argument.
</p>
</dd>
<dt class="hdlist1">
<strong><code>set_button_icon(_button_, _pixmap_)</code></strong>
</dt>
<dd>
<p>
  Sets the button&#8217;s icon pixmap.
</p>
</dd>
<dt class="hdlist1">
<strong><code>set_button_text(_button_, _text_)</code></strong>
</dt>
<dd>
<p>
  Sets the button&#8217;s icon text.
</p>
</dd>
<dt class="hdlist1">
<strong><code>set_tooltip(_button_, _text_)</code></strong>
</dt>
<dd>
<p>
  Sets the buttons pop-up tooltip descriptive text.
</p>
</dd>
<dt class="hdlist1">
<strong><code>setLight(_state_)</code></strong>
</dt>
<dd>
<p>
  Sets the highlight indicator to the <code>True</code> color or <code>False</code> color.<br />
  The <code>set_highlight()</code> function must be used prior to set the indicator to use.
</p>
</dd>
</dl></div>
<div class="paragraph"><div class="title">Signals</div><p>These signals will be <strong>sent when buttons are pressed</strong>.</p></div>
<div class="paragraph"><p>They can be connected to in Qt Designer editor or Python code.</p></div>
<div class="paragraph"><p>The first two output a string that indicates the button pressed:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>joy_btn_pressed</code></strong> <em>(string)</em>
</dt>
<dt class="hdlist1">
<strong><code>joy_btn_released</code></strong> <em>(string)</em>
</dt>
<dt class="hdlist1">
<strong><code>joy_l_pressed</code></strong> <em>(bool)</em>
</dt>
<dt class="hdlist1">
<strong><code>joy_l_released</code></strong> <em>(bool)</em>
</dt>
<dt class="hdlist1">
<strong><code>joy_r_pressed</code></strong> <em>(bool)</em>
</dt>
<dt class="hdlist1">
<strong><code>joy_r_released</code></strong> <em>(bool)</em>
</dt>
<dt class="hdlist1">
<strong><code>joy_c_pressed</code></strong> <em>(bool)</em>
</dt>
<dt class="hdlist1">
<strong><code>joy_c_released</code></strong> <em>(bool)</em>
</dt>
<dt class="hdlist1">
<strong><code>joy_t_pressed</code></strong> <em>(bool)</em>
</dt>
<dt class="hdlist1">
<strong><code>joy_t_released</code></strong> <em>(bool)</em>
</dt>
<dt class="hdlist1">
<strong><code>joy_b_pressed</code></strong> <em>(bool)</em>
</dt>
<dt class="hdlist1">
<strong><code>joy_b_released</code></strong> <em>(bool)</em>
</dt>
<dd>
<p>
</p>
</dd>
</dl></div>
<div class="paragraph"><p>They are based on PyQt&#8217;s  <em>Signal</em> (<code>QtCore.pyqtSignal()</code>)</p></div>
<div class="paragraph"><div class="title">Slots</div><p>Slots can be connected to in Qt Designer editor or Python code:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>set_colorStateTrue()</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>set_colorStateFalse()</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>set_colorState(_bool_)</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>set_true_color(_str_)</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>set_true_color(_qcolor_)</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>set_false_color(_str_)</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>set_false_color(_qcolor_)</code></strong>
</dt>
<dd>
<p>
</p>
</dd>
</dl></div>
<div class="paragraph"><div class="title">Properties</div><p>These can be set in stylesheets or Python code:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>highlightPosition</code></strong>
</dt>
<dd>
<p>
  Set the indicator position.
</p>
</dd>
<dt class="hdlist1">
<strong><code>setColorState</code></strong>
</dt>
<dd>
<p>
  Select the color state of the indicator.
</p>
</dd>
<dt class="hdlist1">
<strong><code>left_image_path</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>right_image_path</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>center_image_path</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>top_image_path</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>bottom_image_path</code></strong>
</dt>
<dd>
<p>
  A file path or resource path to an image to display in the described button location.<br />
  If the reset button is pressed in Qt Designer editor property, the image will not be displayed (allowing optionally text).
</p>
</dd>
<dt class="hdlist1">
<strong><code>left_text</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>right_text</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>center_text</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>top_text</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>bottom_text</code></strong>
</dt>
<dd>
<p>
  A text string to be displayed in the described button location.<br />
  If left blank an image can be designated to be displayed.
</p>
</dd>
<dt class="hdlist1">
<strong><code>true_color</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>false_color</code></strong>
</dt>
<dd>
<p>
  Color selection for the center LED ring to be displayed, when the <code>BASENAME.light.center</code> <em>HAL pin</em> is <code>True</code> or <code>False</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>text_color</code></strong>
</dt>
<dd>
<p>
  Color selection for the button text.
</p>
</dd>
<dt class="hdlist1">
<strong><code>button_font</code></strong>
</dt>
<dd>
<p>
  Font selection for the button text.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The above properties could be set in:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>Stylesheets</strong>:<br />
  You would usually use the Qt Designer widget name with <code>#</code> <em>prefix</em> to set individual widget properties,
  otherwise you would use the <code>JoyPad</code> <em>class name</em> to set all <code>JoyPad</code> widgets the same:
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #993399">#joypadname</span><span style="color: #FF0000">{</span>
  <span style="color: #0000FF">qproperty-true_color:</span> <span style="color: #FF0000">#000</span>;
  <span style="color: #0000FF">qproperty-false_color:</span> <span style="color: #FF0000">#444</span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</li>
<li>
<p>
<strong>In Python handler code</strong>:<br />
</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>joypadename<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'true_color'</span><span style="color: #990000">,</span><span style="color: #FF0000">'green'</span><span style="color: #990000">)</span>
self<span style="color: #990000">.</span>w<span style="color: #990000">.</span>joypadename<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'false_color'</span><span style="color: #990000">,</span><span style="color: #FF0000">'red'</span><span style="color: #990000">)</span></tt></pre></div></div>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:qtvcp:widgets:baseclass-mixin">5. BaseClass/Mixin Widgets</h2>
<div class="sectionbody">
<div class="paragraph"><p>These widgets are used <strong>combine different properties and behaviours into other widgets</strong>.</p></div>
<div class="paragraph"><p>You will see them as a collapsible header in the Qt Designer properties column.</p></div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:indicatedpushbutton">5.1. <code>IndicatedPushButtons</code></h3>
<div class="paragraph"><p>This class <strong>modifies <code>QPushButton</code> behaviour</strong>.</p></div>
<div class="sect3">
<h4 id="sub:qtvcp:widgets:indicatedpushbutton:led">5.1.1. Indicator Option</h4>
<div class="paragraph"><p><strong><code>indicator_option</code></strong> <em>puts a <em>LED</em> on the top of the button</em>.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<figure>
<img src="images/qtvcp_actionButton.png" alt="QtVCP PushButton: Indicated Action Button, LED Indicator Option"/>
<figcaption class="title"> Figure 23. QtVCP <code>PushButton</code>: Indicated Action Button, LED Indicator Option</figcaption>
</figure>
</div>
</div>
<div class="paragraph"><p>It can be a <em>triangle</em>, <em>circle</em>, <em>top bar</em>, or <em>side bar</em>.<br />
The <em>size</em> and <em>position</em> can be adjusted.</p></div>
<div class="paragraph"><p>It will indicate:</p></div>
<div class="ulist"><ul>
<li>
<p>
the <strong>current state of the button</strong>, or
</p>
</li>
<li>
<p>
the <strong>state of a HAL pin</strong>, or
</p>
</li>
<li>
<p>
<strong>LinuxCNC status</strong>.
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Properties</div><p>These properties are available to customize the indicator (not all are applicable to every LED shape):</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>on_color</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>off_color</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>indicator_size</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>circle_diameter</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>shape_option</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>right_edge_offset</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>top_edge_offset</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>height_fraction</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>width_fraction</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>corner_radius</code></strong>
</dt>
<dd>
<p>
Indicator corner radius.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The LED indicator color can be defined in a <em>stylesheet</em> with the following code added to the <code>.qss</code> file:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Indicated_PushButton<span style="color: #FF0000">{</span>
  <span style="color: #0000FF">qproperty-on_color:</span> <span style="color: #FF0000">#000</span>;
  <span style="color: #0000FF">qproperty-off_color:</span> <span style="color: #FF0000">#444</span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Or for a particular button:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Indicated_PushButton <span style="color: #993399">#button_estop</span><span style="color: #FF0000">{</span>
  <span style="color: #0000FF">qproperty-on_color:</span> <span style="font-style: italic"><span style="color: #009900">black</span></span>;
  <span style="color: #0000FF">qproperty-off_color:</span> <span style="font-style: italic"><span style="color: #009900">yellow</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><div class="title">Options</div><p><code>IndicatedPushButton</code> have <strong>exclusive options</strong>:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>indicator_HAL_pin_option</code></strong>
</dt>
<dd>
<p>
  Adds a <code>halpin</code>, named <code>&lt;buttonname&gt;-led</code> that controls the button indicator state.
</p>
</dd>
<dt class="hdlist1">
<strong><code>indicator_status_option</code></strong>
</dt>
<dd>
<p>
  Makes the LED indicate the state of these selectable LinuxCNC status:
</p>
<div class="ulist"><ul>
<li>
<p>
<em>Is Estopped</em>
</p>
</li>
<li>
<p>
<em>Is On</em>
</p>
</li>
<li>
<p>
<em>All Homed</em>
</p>
</li>
<li>
<p>
<em>Is Joint Homed</em>
</p>
</li>
<li>
<p>
<em>Idle</em>
</p>
</li>
<li>
<p>
<em>Paused</em>
</p>
</li>
<li>
<p>
<em>Flood</em>
</p>
</li>
<li>
<p>
<em>Mist</em>
</p>
</li>
<li>
<p>
<em>Block Delete</em>
</p>
</li>
<li>
<p>
<em>Optional Stop</em>
</p>
</li>
<li>
<p>
<em>Manual</em>
</p>
</li>
<li>
<p>
<em>MDI</em>
</p>
</li>
<li>
<p>
<em>Auto</em>
</p>
</li>
<li>
<p>
<em>Spindle Stopped</em>
</p>
</li>
<li>
<p>
<em>Spindle Forward</em>
</p>
</li>
<li>
<p>
<em>Spindle Reverse</em>
</p>
</li>
<li>
<p>
<em>On Limits</em>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Some <code>indicator_status_options</code> holds a property that can be used with a <em>stylesheet</em>
to change the color of the button based on the state of the property in LinuxCNC.<br />
Currently these status properties can be used to auto style buttons:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>is_estopped_status</code> will toggle the <code>isEstop</code> property
</p>
</li>
<li>
<p>
<code>is_on_status</code> will toggle the <code>isStateOn</code> property
</p>
</li>
<li>
<p>
<code>is_manual_status</code>, <code>is_mdi_status</code>, <code>is_auto_status</code> will toggle the <code>isManual</code>, <code>isMDI</code>, <code>isAuto</code> properties.
</p>
</li>
<li>
<p>
<code>is_homed_status</code> will toggle the <em>isAllHomed</em> property
</p>
</li>
</ul></div>
</dd>
</dl></div>
<div class="paragraph"><p>Here is a sample stylesheet entry setting the background of mode button widgets when LinuxCNC is in that mode:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>ActionButton<span style="color: #990000">[</span>isManual<span style="color: #990000">=</span>true<span style="color: #990000">]</span> <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">background:</span> <span style="font-style: italic"><span style="color: #009900">red</span></span>;
<span style="color: #FF0000">}</span>
ActionButton<span style="color: #990000">[</span>isMdi<span style="color: #990000">=</span>true<span style="color: #990000">]</span> <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">background:</span> <span style="font-style: italic"><span style="color: #009900">blue</span></span>;
<span style="color: #FF0000">}</span>
ActionButton<span style="color: #990000">[</span>isAuto<span style="color: #990000">=</span>true<span style="color: #990000">]</span> <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">background:</span> <span style="font-style: italic"><span style="color: #009900">green</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Here is how you specify a particular widget by its objectName in Qt Designer:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>ActionButton <span style="color: #993399">#estop</span> button <span style="color: #990000">[</span>isEstopped<span style="color: #990000">=</span>false<span style="color: #990000">]</span> <span style="color: #FF0000">{</span>
    <span style="color: #0000FF">color:</span> <span style="font-style: italic"><span style="color: #009900">yellow</span></span>;
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="sub:qtvcp:widgets:indicatedpushbutton:state-enabled">5.1.2. Enabled by LinuxCNC State</h4>
<div class="paragraph"><p>Often, having the button disabled and enabled based on the state of LinuxCNC&#8217;s motion controller is necessary.</p></div>
<div class="paragraph"><p>There are several properties that can be selected to aid with this:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>isAllHomedSentive</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>isOnSensitive</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>isIdleSensitive</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>isRunSensitive</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>isManSensitive</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>isMDISensitive</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>isAutoSensitive</code></strong>
</dt>
<dd>
<p>
You can select multiple properties for combined requirements.
</p>
</dd>
</dl></div>
</div>
<div class="sect3">
<h4 id="sub:qtvcp:widgets:indicatedpushbutton:state-text">5.1.3. Text Changes On State</h4>
<div class="paragraph"><p>Choosing the <strong><code>checked_state_text_option</code></strong> allows a <em>checkable</em> button to <em>change the text based on it&#8217;s checked state</em>.</p></div>
<div class="paragraph"><p>It uses the following properties to specify the text for each state:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>true_state_string</code></strong>
</dt>
<dt class="hdlist1">
<strong><code>false_state_string</code></strong>
</dt>
<dd>
<p>
<code>\\n</code> will be converted to a newline.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>You can set/change these in stylesheets:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>ActionButton <span style="color: #993399">#action_aux</span><span style="color: #FF0000">{</span>
  <span style="color: #0000FF">qproperty-true_state_string:</span> "<span style="font-style: italic"><span style="color: #009900">Air</span></span>\\<span style="font-style: italic"><span style="color: #009900">nOn</span></span>";
  <span style="color: #0000FF">qproperty-false_state_string:</span> "<span style="font-style: italic"><span style="color: #009900">Air</span></span>\\<span style="font-style: italic"><span style="color: #009900">nOff</span></span>";
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="sub:qtvcp:widgets:indicatedpushbutton:python-command">5.1.4. Call Python Commands On State</h4>
<div class="paragraph"><p>The <strong><code>python_command_option</code></strong> allow small snippets of Python code to be run from the push of a button,
without having to edit the handler file.
Though, it can call functions in the handler file.</p></div>
<div class="paragraph"><p>When using the <code>command_string</code> properties.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>true_python_cmd_string</code></strong>
</dt>
<dd>
<p>
  A Python command that will be called when the button is toggled <code>True</code>.
</p>
</dd>
<dt class="hdlist1">
<strong><code>false_python_cmd_string</code></strong>
</dt>
<dd>
<p>
  A Python command that will be called when the button is toggled <code>False</code>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p><em>Special capitalized words</em> will give access to the following:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong><code>INSTANCE</code></strong>
</dt>
<dd>
<p>
  Will give access to the widgets instances and handler functions.<br />
  E.g., <code>INSTANCE.my_handler_function_call(True)</code>
</p>
</dd>
<dt class="hdlist1">
<strong><code>ACTION</code></strong>
</dt>
<dd>
<p>
  Will give access to QtVCP&#8217;s <code>ACTION</code> library.<br />
  E.g., <code>ACTION.TOGGLE_FLOOD()</code>
</p>
</dd>
<dt class="hdlist1">
<strong><code>PROGRAM_LOADER</code></strong>
</dt>
<dd>
<p>
  Will give access to QtVCP&#8217;s <code>PROGRAM_LOADER</code> library.<br />
  E.g., <code>PROGRAM_LOADER.load_halshow()</code>
</p>
</dd>
<dt class="hdlist1">
<strong><code>HAL</code></strong>
</dt>
<dd>
<p>
  Will give access to HAL&#8217;s Python module.<br />
  E.g., <code>HAL.set_p('motion.probe-input','1')</code>
</p>
</dd>
</dl></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:qtvcp:widgets:import-only">6. Import-Only Widgets</h2>
<div class="sectionbody">
<div class="paragraph"><p>These widgets are usually the <strong>base class widget for other QtVCP widgets</strong>.</p></div>
<div class="paragraph"><p>They are <em>not available directly from the Qt Designer editor</em> but could be <strong>imported and manually inserted</strong>.</p></div>
<div class="paragraph"><p>They could also be <strong>subclassed</strong> to make a similar widget with new features.</p></div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:auto-height">6.1. Auto Height</h3>
<div class="paragraph"><p>Widget for measuring two heights with a probe.<br />
For setup.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:gcode-utility">6.2. G-code Utility</h3>
<div class="paragraph"><p>Widgets for performing common machining processes.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:facing">6.3. Facing</h3>
<div class="paragraph"><p>Slab or face a definable area with different strategies.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:hole-circle">6.4. Hole Circle</h3>
<div class="paragraph"><p>Drill multiple holes on a bolt hole circle.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:qt-ngcgui">6.5. Qt NGCGUI</h3>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_ngcgui.png" alt="QtVCP NGCGUI: Shown from QtDragon"/>
</figure>
</div>
</div>
<div class="paragraph"><p>QtVCP&#8217;s version of NGC subroutine selector (Shown as used in QtDragon).</p></div>
<div class="sect3">
<h4 id="_ini_settings">6.5.1. INI settings</h4>
<div class="paragraph"><p>Linuxcnc needs to know where to look to run the subroutines.<br />
If the subroutine calls other subroutines or custom M codes, those paths must be added too.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">[RS274NGC]</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">SUBROUTINE_PATH </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> ~/linuxcnc/nc_files/examples/ngcgui_lib:~/linuxcnc/nc_files/examples/ngcgui_lib/utilitysubs</span></tt></pre></div></div>
<div class="paragraph"><p>QtVCP needs to know where to open subroutines from.<br />
You can also specify subroutines to be pre-opened in tabs.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">[DISPLAY]</span></span>
<span style="font-style: italic"><span style="color: #9A1900"># NGCGUI subroutine path.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"># This path must also be in [RS274NGC] SUBROUTINE_PATH</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">NGCGUI_SUBFILE_PATH </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> ~/linuxcnc/nc_files/examples/ngcgui_lib</span>
<span style="font-style: italic"><span style="color: #9A1900"># pre selected programs tabs</span></span>
<span style="font-style: italic"><span style="color: #9A1900"># specify filenames only, files must be in the NGCGUI_SUBFILE_PATH</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">NGCGUI_SUBFILE </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> slot.ngc</span>
<span style="font-weight: bold"><span style="color: #0000FF">NGCGUI_SUBFILE </span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900"> qpocket.ngc</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_buttons">6.5.2. Buttons</h4>
<div class="ulist"><ul>
<li>
<p>
<em>NEW TAB</em> -adds a new blank tab to ngcgui
</p>
</li>
<li>
<p>
<em>SELECT PREAMBLE</em> -select a file that add preamble G-code
</p>
</li>
<li>
<p>
<em>SELECT SUBFILE</em> -select a ngcgui subroutine file
</p>
</li>
<li>
<p>
<em>SELECT POST</em> -select a file that add post G-code
</p>
</li>
<li>
<p>
<em>REREAD FILE</em> -reload the subroutine file
</p>
</li>
<li>
<p>
<em>CREATE FEATURE</em> -add feature to the list
</p>
</li>
<li>
<p>
<em>RESTART FEATURE</em> - remove all features from the list
</p>
</li>
<li>
<p>
<em>FINALIZE GCODE</em> -create the full G-code and send it to LinuxCNC/a file
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_adding_custom_subroutines">6.5.3. Adding Custom Subroutines</h4>
<div class="paragraph"><p>You can create your own subroutines for use with ngcgui.
They must follow these rules:</p></div>
<div class="ulist"><ul>
<li>
<p>
For creating a subroutine for use with NGCGUI, the filename and the subroutine name must be the same.
</p>
</li>
<li>
<p>
The subroutine must be in a folder within LinuxCNC&#8217;s INI designated search path.
</p>
</li>
<li>
<p>
On the first line there may be a comment of type info:
</p>
</li>
<li>
<p>
The subroutine must be surrounded by the sub and endsub tags.
</p>
</li>
<li>
<p>
The variables used must be numbered variables and must not skip number.
</p>
</li>
<li>
<p>
Comments and presets may be included.
</p>
</li>
<li>
<p>
if an image file of the same name is in the folder, it will be shown.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">(</span>info<span style="color: #990000">:</span> feedrate <span style="color: #990000">--</span> simple example for setting feedrate<span style="color: #990000">)</span>
o<span style="color: #990000">&lt;</span>feedrate<span style="color: #990000">&gt;</span> sub
    #<span style="color: #990000">&lt;</span>feedrate<span style="color: #990000">&gt;</span>       <span style="color: #990000">=</span> <span style="color: #993399">#1</span> <span style="color: #990000">(=</span> 6 Feed Rate<span style="color: #990000">)</span> <span style="color: #990000">;</span> comments in brackets will be shown in ngcui
    f#<span style="color: #990000">&lt;</span>feedrate<span style="color: #990000">&gt;</span>
o<span style="color: #990000">&lt;</span>feedrate<span style="color: #990000">&gt;</span> endsub</tt></pre></div></div>
<div class="imageblock">
<div class="content">
<figure>
<img src="images/qtvcp_ngcgui_custom.png" alt="QtVCP NGCGUI Custom Sub"/>
</figure>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:qt-pdf">6.6. Qt PDF</h3>
<div class="paragraph"><p>Allows adding loadable PDFs to a screen.</p></div>
</div>
<div class="sect2">
<h3 id="sub:qtvcp:widgets:qt-vismach">6.7. Qt Vismach</h3>
<div class="paragraph"><p>Use this to build/add OpenGl simulated machines.</p></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2023-06-18 10:43:37 CEST
</div>
</div>
</body>
</html>
