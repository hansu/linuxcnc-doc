<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Sat Jun 17 19:56:07 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ENUM</title>

 <link rel="stylesheet" href="../../asciidoc.css" type="text/css" /> <link rel="stylesheet" href="../../linuxcnc.css" type="text/css" /> <style type="text/css"> h2 {font-size: 1.2em;} </style>
</head>
<body>

<h1 align="center">ENUM</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#FUNCTIONS">FUNCTIONS</a><br>
<a href="#PINS">PINS</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>
<a href="#REPORTING BUGS">REPORTING BUGS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">enum -
enumerate integer values into bits</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>loadrt enum
enums=E;enum1pin1;enum1pin2;;;enum1pin3,D;;;enum2pin1;enum2pin2
[names=name1,name2]</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>enum</b>
converts integer values into bits and vice versa.</p>

<p style="margin-left:11%; margin-top: 1em">The component
is especially suitable for encoding and decoding register
values for modbus devices, where control commands and status
are frequently encoded as enumerations rather than bits. For
example 0 = stop, 1 = forwards, 2 = backwards, 3 =
jog-forwards etc.</p>

<p style="margin-left:11%; margin-top: 1em">The pins
created and the behaviour of the component are controlled by
the load-time modparams &quot;enums=&quot; and
&quot;names=&quot;</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>enums=</b> parameter should be a comma-separated list of
semicolon- separated pin labels. The enumerated values will
increase in sequence starting at zero. To skip a value use a
zero-length label, ie two consecutive semicolons, as shown
in the examples.</p>

<p style="margin-left:11%; margin-top: 1em">There should be
no spaces in the &quot;enums=&quot; list.</p>


<p style="margin-left:11%; margin-top: 1em">&quot;names=&quot;
is an optional list of component instance names. If
&quot;names=&quot; is omitted the functions and pins will be
named &quot;enum-decode....&quot; or
&quot;enum-encode....&quot;</p>

<p style="margin-left:11%; margin-top: 1em">Taking the
example configuration above, if
<b>enum-decode.01.enum2pin1-in</b> is set to <b>TRUE</b>
then the output pin <b>enum-decode.01.output</b> will be set
to the value 2. If <b>enum-decode.01.enum2pin2-in</b> is set
to true then the output would be 3.</p>

<p style="margin-left:11%; margin-top: 1em">Conversely, if
<b>enum-encode.00.input</b> is set to 4 then the pin
<b>enum-encode.00.enum1pin3-out</b> will be set to
<b>TRUE</b>.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Preceding the
list of labels should be the control-codes &quot;D&quot; for
decode or &quot;E&quot; for encode. A D-type enum will set
the value of HAL bit pins in response to changes to the
enum-decode.NN.input value, whereas an E-type enum will set
the value of the enum-encode.NN.output integer depending on
which enum-encode.NN.label-bit value is set.</p>

<p style="margin-left:11%; margin-top: 1em">If more than
one label-bit input pin is set the output value will
correspond to the pin label later in the list.</p>

<p style="margin-left:11%; margin-top: 1em">E and D-type
enumerations may be freely mixed in separate instances.</p>

<h2>FUNCTIONS
<a name="FUNCTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>enum-decode.</b><i>NN</i>
- if instance type = &quot;D&quot;</p>


<p style="margin-left:11%; margin-top: 1em"><b>enum-encode.</b><i>NN</i>
- if instance type = &quot;E&quot;</p>

<h2>PINS
<a name="PINS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>enum-decode.</b><i>NN</i><b>.input</b>
- The integer value to be decoded</p>


<p style="margin-left:11%; margin-top: 1em"><b>enum-decode.</b><i>NN</i><b>.label-out</b>
- output bits of a decode instance</p>


<p style="margin-left:11%; margin-top: 1em"><b>enum-decode.</b><i>NN</i><b>.label-val</b>
- The enumeration value corresponding to each specific bit
output. These are populated in sequence during loading but
may be over-ridden in HAL if convenient.</p>


<p style="margin-left:11%; margin-top: 1em"><b>enum-encode.</b><i>NN</i><b>.label-in</b>
- input bits of a decode instance</p>


<p style="margin-left:11%; margin-top: 1em"><b>enum-encode.</b><i>NN</i><b>.label-val</b>
- The enumeration value corresponding to each specified bit
input. These are populated in sequence during loading but
may be over-ridden in HAL if convenient.</p>


<p style="margin-left:11%; margin-top: 1em"><b>enum-decode.</b><i>NN</i><b>.output</b>
- The integer value corresponding to the set bit input.</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">If no bits are
set the output value will be zero even if zero is a defined
enumeration.</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Andy Pugh</p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Report bugs to
at the LinuxCNC github issues list:
https://github.com/LinuxCNC/linuxcnc/issues</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Copyright
&copy; 2023 Andy Pugh. This is free software; see the source
for copying conditions. There is NO warranty; not even for
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
<hr>
</body>
</html>
